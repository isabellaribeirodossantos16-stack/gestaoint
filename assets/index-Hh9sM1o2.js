(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function FT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BT={exports:{}},Vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZI=Symbol.for("react.transitional.element"),jI=Symbol.for("react.fragment");function zT(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:ZI,type:t,key:i,ref:e!==void 0?e:null,props:n}}Vc.Fragment=jI;Vc.jsx=zT;Vc.jsxs=zT;BT.exports=Vc;var v=BT.exports,GT={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.transitional.element"),eR=Symbol.for("react.portal"),tR=Symbol.for("react.fragment"),nR=Symbol.for("react.strict_mode"),iR=Symbol.for("react.profiler"),sR=Symbol.for("react.consumer"),oR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),aR=Symbol.for("react.suspense"),lR=Symbol.for("react.memo"),HT=Symbol.for("react.lazy"),uR=Symbol.for("react.activity"),Ng=Symbol.iterator;function cR(t){return t===null||typeof t!="object"?null:(t=Ng&&t[Ng]||t["@@iterator"],typeof t=="function"?t:null)}var YT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KT=Object.assign,JT={};function pr(t,e,n){this.props=t,this.context=e,this.refs=JT,this.updater=n||YT}pr.prototype.isReactComponent={};pr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QT(){}QT.prototype=pr.prototype;function jh(t,e,n){this.props=t,this.context=e,this.refs=JT,this.updater=n||YT}var ep=jh.prototype=new QT;ep.constructor=jh;KT(ep,pr.prototype);ep.isPureReactComponent=!0;var bg=Array.isArray;function Sd(){}var Pe={H:null,A:null,T:null,S:null},$T=Object.prototype.hasOwnProperty;function tp(t,e,n){var i=n.ref;return{$$typeof:Zh,type:t,key:e,ref:i!==void 0?i:null,props:n}}function fR(t,e){return tp(t.type,e,t.props)}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zh}function dR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mg=/\/+/g;function Rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dR(""+t.key):e.toString(36)}function hR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Sd,Sd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function _o(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(o){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Zh:case eR:r=!0;break;case HT:return r=t._init,_o(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Rf(t,0):i,bg(s)?(n="",r!=null&&(n=r.replace(Mg,"$&/")+"/"),_o(s,e,n,"",function(d){return d})):s!=null&&(np(s)&&(s=fR(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Mg,"$&/")+"/")+r)),e.push(s)),1;r=0;var a=i===""?".":i+":";if(bg(t))for(var u=0;u<t.length;u++)i=t[u],o=a+Rf(i,u),r+=_o(i,e,n,o,s);else if(u=cR(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,o=a+Rf(i,u++),r+=_o(i,e,n,o,s);else if(o==="object"){if(typeof t.then=="function")return _o(hR(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Xl(t,e,n){if(t==null)return t;var i=[],s=0;return _o(t,i,"","",function(o){return e.call(n,o,s++)}),i}function pR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mR={map:Xl,forEach:function(t,e,n){Xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xl(t,function(){e++}),e},toArray:function(t){return Xl(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Activity=uR;ie.Children=mR;ie.Component=pr;ie.Fragment=tR;ie.Profiler=iR;ie.PureComponent=jh;ie.StrictMode=nR;ie.Suspense=aR;ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pe.H.useMemoCache(t)}};ie.cache=function(t){return function(){return t.apply(null,arguments)}};ie.cacheSignal=function(){return null};ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=KT({},t.props),s=t.key;if(e!=null)for(o in e.key!==void 0&&(s=""+e.key),e)!$T.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(i[o]=e[o]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var r=Array(o),a=0;a<o;a++)r[a]=arguments[a+2];i.children=r}return tp(t.type,s,i)};ie.createContext=function(t){return t={$$typeof:oR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:sR,_context:t},t};ie.createElement=function(t,e,n){var i,s={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)$T.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var a=Array(r),u=0;u<r;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return tp(t,o,s)};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:rR,render:t}};ie.isValidElement=np;ie.lazy=function(t){return{$$typeof:HT,_payload:{_status:-1,_result:t},_init:pR}};ie.memo=function(t,e){return{$$typeof:lR,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Pe.T,n={};Pe.T=n;try{var i=t(),s=Pe.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Sd,Dg)}catch(o){Dg(o)}finally{e!==null&&n.types!==null&&(e.types=n.types),Pe.T=e}};ie.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};ie.use=function(t){return Pe.H.use(t)};ie.useActionState=function(t,e,n){return Pe.H.useActionState(t,e,n)};ie.useCallback=function(t,e){return Pe.H.useCallback(t,e)};ie.useContext=function(t){return Pe.H.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t,e){return Pe.H.useDeferredValue(t,e)};ie.useEffect=function(t,e){return Pe.H.useEffect(t,e)};ie.useEffectEvent=function(t){return Pe.H.useEffectEvent(t)};ie.useId=function(){return Pe.H.useId()};ie.useImperativeHandle=function(t,e,n){return Pe.H.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Pe.H.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Pe.H.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Pe.H.useMemo(t,e)};ie.useOptimistic=function(t,e){return Pe.H.useOptimistic(t,e)};ie.useReducer=function(t,e,n){return Pe.H.useReducer(t,e,n)};ie.useRef=function(t){return Pe.H.useRef(t)};ie.useState=function(t){return Pe.H.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Pe.H.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Pe.H.useTransition()};ie.version="19.2.1";GT.exports=ie;var X=GT.exports;const gR=FT(X);var XT={exports:{}},Uc={},WT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Q){var j=G.length;G.push(Q);e:for(;0<j;){var ye=j-1>>>1,we=G[ye];if(0<s(we,Q))G[ye]=Q,G[j]=we,j=ye;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Q=G[0],j=G.pop();if(j!==Q){G[0]=j;e:for(var ye=0,we=G.length,qn=we>>>1;ye<qn;){var lt=2*(ye+1)-1,ke=G[lt],jt=lt+1,bt=G[jt];if(0>s(ke,j))jt<we&&0>s(bt,ke)?(G[ye]=bt,G[jt]=j,ye=jt):(G[ye]=ke,G[lt]=j,ye=lt);else if(jt<we&&0>s(bt,j))G[ye]=bt,G[jt]=j,ye=jt;else break e}}return Q}function s(G,Q){var j=G.sortIndex-Q.sortIndex;return j!==0?j:G.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var r=Date,a=r.now();t.unstable_now=function(){return r.now()-a}}var u=[],d=[],h=1,m=null,p=3,_=!1,x=!1,M=!1,U=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=G)i(d),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(d)}}function L(G){if(M=!1,D(G),!x)if(n(u)!==null)x=!0,B||(B=!0,P());else{var Q=n(d);Q!==null&&Rt(L,Q.startTime-G)}}var B=!1,R=-1,C=5,S=-1;function w(){return U?!0:!(t.unstable_now()-S<C)}function b(){if(U=!1,B){var G=t.unstable_now();S=G;var Q=!0;try{e:{x=!1,M&&(M=!1,A(R),R=-1),_=!0;var j=p;try{t:{for(D(G),m=n(u);m!==null&&!(m.expirationTime>G&&w());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,p=m.priorityLevel;var we=ye(m.expirationTime<=G);if(G=t.unstable_now(),typeof we=="function"){m.callback=we,D(G),Q=!0;break t}m===n(u)&&i(u),D(G)}else i(u);m=n(u)}if(m!==null)Q=!0;else{var qn=n(d);qn!==null&&Rt(L,qn.startTime-G),Q=!1}}break e}finally{m=null,p=j,_=!1}Q=void 0}}finally{Q?P():B=!1}}}var P;if(typeof T=="function")P=function(){T(b)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,tt=N.port2;N.port1.onmessage=b,P=function(){tt.postMessage(null)}}else P=function(){I(b,0)};function Rt(G,Q){R=I(function(){G(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var j=p;p=Q;try{return G()}finally{p=j}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var j=p;p=G;try{return Q()}finally{p=j}},t.unstable_scheduleCallback=function(G,Q,j){var ye=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ye+j:ye):j=ye,G){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=j+we,G={id:h++,callback:Q,priorityLevel:G,startTime:j,expirationTime:we,sortIndex:-1},j>ye?(G.sortIndex=j,e(d,G),n(u)===null&&G===n(d)&&(M?(A(R),R=-1):M=!0,Rt(L,j-ye))):(G.sortIndex=we,e(u,G),x||_||(x=!0,B||(B=!0,P()))),G},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(G){var Q=p;return function(){var j=p;p=Q;try{return G.apply(this,arguments)}finally{p=j}}}})(ZT);WT.exports=ZT;var yR=WT.exports,jT={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=X;function e0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ci(){}var xt={d:{f:Ci,r:function(){throw Error(e0(522))},D:Ci,C:Ci,L:Ci,m:Ci,X:Ci,S:Ci,M:Ci},p:0,findDOMNode:null},vR=Symbol.for("react.portal");function TR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vR,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var ya=_R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function kc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt;Nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(e0(299));return TR(t,e,null,n)};Nt.flushSync=function(t){var e=ya.T,n=xt.p;try{if(ya.T=null,xt.p=2,t)return t()}finally{ya.T=e,xt.p=n,xt.d.f()}};Nt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,xt.d.C(t,e))};Nt.prefetchDNS=function(t){typeof t=="string"&&xt.d.D(t)};Nt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=kc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?xt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:o}):n==="script"&&xt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Nt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=kc(e.as,e.crossOrigin);xt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&xt.d.M(t)};Nt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=kc(n,e.crossOrigin);xt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Nt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=kc(e.as,e.crossOrigin);xt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else xt.d.m(t)};Nt.requestFormReset=function(t){xt.d.r(t)};Nt.unstable_batchedUpdates=function(t,e){return t(e)};Nt.useFormState=function(t,e,n){return ya.H.useFormState(t,e,n)};Nt.useFormStatus=function(){return ya.H.useHostTransitionStatus()};Nt.version="19.2.1";function t0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t0)}catch(t){console.error(t)}}t0(),jT.exports=Nt;var ER=jT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=yR,n0=X,AR=ER;function O(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pg(t){if(ol(t)!==t)throw Error(O(188))}function SR(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Pg(s),t;if(o===i)return Pg(s),e;o=o.sibling}throw Error(O(188))}if(n.return!==i.return)n=s,i=o;else{for(var r=!1,a=s.child;a;){if(a===n){r=!0,n=s,i=o;break}if(a===i){r=!0,i=s,n=o;break}a=a.sibling}if(!r){for(a=o.child;a;){if(a===n){r=!0,n=o,i=s;break}if(a===i){r=!0,i=o,n=s;break}a=a.sibling}if(!r)throw Error(O(189))}}if(n.alternate!==i)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function r0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=r0(t),e!==null)return e;t=t.sibling}return null}var Ve=Object.assign,CR=Symbol.for("react.element"),Wl=Symbol.for("react.transitional.element"),la=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Cd=Symbol.for("react.profiler"),l0=Symbol.for("react.consumer"),Xn=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),Id=Symbol.for("react.suspense"),Rd=Symbol.for("react.suspense_list"),sp=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),wd=Symbol.for("react.activity"),IR=Symbol.for("react.memo_cache_sentinel"),Vg=Symbol.iterator;function jr(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var RR=Symbol.for("react.client.reference");function xd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===RR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case Cd:return"Profiler";case a0:return"StrictMode";case Id:return"Suspense";case Rd:return"SuspenseList";case wd:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case la:return"Portal";case Xn:return t.displayName||"Context";case l0:return(t._context.displayName||"Context")+".Consumer";case ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sp:return e=t.displayName||null,e!==null?e:xd(t.type)||"Memo";case Ii:e=t._payload,t=t._init;try{return xd(t(e))}catch{}}return null}var ua=Array.isArray,Z=n0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=AR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ws={pending:!1,data:null,method:null,action:null},Nd=[],Io=-1;function kn(t){return{current:t}}function at(t){0>Io||(t.current=Nd[Io],Nd[Io]=null,Io--)}function Re(t,e){Io++,Nd[Io]=t.current,t.current=e}var bn=kn(null),La=kn(null),qi=kn(null),Fu=kn(null);function Bu(t,e){switch(Re(qi,e),Re(La,t),Re(bn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Fy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Fy(e),t=xA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(bn),Re(bn,t)}function Qo(){at(bn),at(La),at(qi)}function bd(t){t.memoizedState!==null&&Re(Fu,t);var e=bn.current,n=xA(e,t.type);e!==n&&(Re(La,t),Re(bn,n))}function zu(t){La.current===t&&(at(bn),at(La)),Fu.current===t&&(at(Fu),Qa._currentValue=ws)}var wf,Ug;function Ts(t){if(wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wf=e&&e[1]||"",Ug=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wf+t+Ug}var xf=!1;function Nf(t,e){if(!t||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(_){var p=_}Reflect.construct(t,[],m)}else{try{m.call()}catch(_){p=_}t.call(m.prototype)}}else{try{throw Error()}catch(_){p=_}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(_){if(_&&p&&typeof _.stack=="string")return[_.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),r=o[0],a=o[1];if(r&&a){var u=r.split(`
`),d=a.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===d.length)for(i=u.length-1,s=d.length-1;1<=i&&0<=s&&u[i]!==d[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==d[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==d[s]){var h=`
`+u[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ts(n):""}function wR(t,e){switch(t.tag){case 26:case 27:case 5:return Ts(t.type);case 16:return Ts("Lazy");case 13:return t.child!==e&&e!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return Nf(t.type,!1);case 11:return Nf(t.type.render,!1);case 1:return Nf(t.type,!0);case 31:return Ts("Activity");default:return""}}function kg(t){try{var e="",n=null;do e+=wR(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Md=Object.prototype.hasOwnProperty,op=et.unstable_scheduleCallback,bf=et.unstable_cancelCallback,xR=et.unstable_shouldYield,NR=et.unstable_requestPaint,Kt=et.unstable_now,bR=et.unstable_getCurrentPriorityLevel,u0=et.unstable_ImmediatePriority,c0=et.unstable_UserBlockingPriority,Gu=et.unstable_NormalPriority,MR=et.unstable_LowPriority,f0=et.unstable_IdlePriority,DR=et.log,PR=et.unstable_setDisableYieldValue,rl=null,Jt=null;function Mi(t){if(typeof DR=="function"&&PR(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(rl,t)}catch{}}var Qt=Math.clz32?Math.clz32:kR,VR=Math.log,UR=Math.LN2;function kR(t){return t>>>=0,t===0?32:31-(VR(t)/UR|0)|0}var Zl=256,jl=262144,eu=4194304;function Es(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Lc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,o=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var a=i&134217727;return a!==0?(i=a&~o,i!==0?s=Es(i):(r&=a,r!==0?s=Es(r):n||(n=a&~t,n!==0&&(s=Es(n))))):(a=i&~o,a!==0?s=Es(a):r!==0?s=Es(r):n||(n=i&~t,n!==0&&(s=Es(n)))),s===0?0:e!==0&&e!==s&&!(e&o)&&(o=s&-s,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:s}function al(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function LR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d0(){var t=eu;return eu<<=1,!(eu&62914560)&&(eu=4194304),t}function Mf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qR(t,e,n,i,s,o){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,u=t.expirationTimes,d=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-Qt(n),m=1<<h;a[h]=0,u[h]=-1;var p=d[h];if(p!==null)for(d[h]=null,h=0;h<p.length;h++){var _=p[h];_!==null&&(_.lane&=-536870913)}n&=~m}i!==0&&h0(t,i,0),o!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=o&~(r&~e))}function h0(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Qt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function p0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Qt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function m0(t,e){var n=e&-e;return n=n&42?1:rp(n),n&(t.suspendedLanes|e)?0:n}function rp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ap(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function g0(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:OA(t.type))}function Lg(t,e){var n=ge.p;try{return ge.p=t,e()}finally{ge.p=n}}var rs=Math.random().toString(36).slice(2),ht="__reactFiber$"+rs,qt="__reactProps$"+rs,mr="__reactContainer$"+rs,Dd="__reactEvents$"+rs,OR="__reactListeners$"+rs,FR="__reactHandles$"+rs,qg="__reactResources$"+rs,ul="__reactMarker$"+rs;function lp(t){delete t[ht],delete t[qt],delete t[Dd],delete t[OR],delete t[FR]}function Ro(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yy(t);t!==null;){if(n=t[ht])return n;t=Yy(t)}return e}t=n,n=t.parentNode}return null}function gr(t){if(t=t[ht]||t[mr]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ca(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(O(33))}function Lo(t){var e=t[qg];return e||(e=t[qg]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function rt(t){t[ul]=!0}var y0=new Set,_0={};function Hs(t,e){$o(t,e),$o(t+"Capture",e)}function $o(t,e){for(_0[t]=e,t=0;t<e.length;t++)y0.add(e[t])}var BR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Og={},Fg={};function zR(t){return Md.call(Fg,t)?!0:Md.call(Og,t)?!1:BR.test(t)?Fg[t]=!0:(Og[t]=!0,!1)}function yu(t,e,n){if(zR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function tu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Gn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GR(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,o.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){if(!t._valueTracker){var e=v0(t)?"checked":"value";t._valueTracker=GR(t,e,""+t[e])}}function T0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=v0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var HR=/[\n"\\]/g;function on(t){return t.replace(HR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Vd(t,e,n,i,s,o,r,a){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+tn(e)):t.value!==""+tn(e)&&(t.value=""+tn(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Ud(t,r,tn(e)):n!=null?Ud(t,r,tn(n)):i!=null&&t.removeAttribute("value"),s==null&&o!=null&&(t.defaultChecked=!!o),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+tn(a):t.removeAttribute("name")}function E0(t,e,n,i,s,o,r,a){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null)){Pd(t);return}n=n!=null?""+tn(n):"",e=e!=null?""+tn(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),Pd(t)}function Ud(t,e,n){e==="number"&&Hu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function qo(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+tn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function A0(t,e,n){if(e!=null&&(e=""+tn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+tn(n):""}function S0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(O(92));if(ua(i)){if(1<i.length)throw Error(O(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=tn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Pd(t)}function Xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var YR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bg(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||YR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function C0(t,e,n){if(e!=null&&typeof e!="object")throw Error(O(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Bg(t,s,i)}else for(var o in e)e.hasOwnProperty(o)&&Bg(t,o,e[o])}function up(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),JR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _u(t){return JR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var kd=null;function cp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wo=null,Oo=null;function zg(t){var e=gr(t);if(e&&(t=e.stateNode)){var n=t[qt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Vd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[qt]||null;if(!s)throw Error(O(90));Vd(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&T0(i)}break e;case"textarea":A0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&qo(t,!!n.multiple,e,!1)}}}var Df=!1;function I0(t,e,n){if(Df)return t(e,n);Df=!0;try{var i=t(e);return i}finally{if(Df=!1,(wo!==null||Oo!==null)&&($c(),wo&&(e=wo,t=Oo,Oo=wo=null,zg(e),t)))for(e=0;e<t.length;e++)zg(t[e])}}function qa(t,e){var n=t.stateNode;if(n===null)return null;var i=n[qt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ld=!1;if(ii)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Ld=!1}var Di=null,fp=null,vu=null;function R0(){if(vu)return vu;var t,e=fp,n=e.length,i,s="value"in Di?Di.value:Di.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[o-i];i++);return vu=s.slice(t,1<i?1-i:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function Gg(){return!1}function Ot(t){function e(n,i,s,o,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nu:Gg,this.isPropagationStopped=Gg,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=Ot(Ys),cl=Ve({},Ys,{view:0,detail:0}),QR=Ot(cl),Pf,Vf,ta,Oc=Ve({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Pf=t.screenX-ta.screenX,Vf=t.screenY-ta.screenY):Vf=Pf=0,ta=t),Pf)},movementY:function(t){return"movementY"in t?t.movementY:Vf}}),Hg=Ot(Oc),$R=Ve({},Oc,{dataTransfer:0}),XR=Ot($R),WR=Ve({},cl,{relatedTarget:0}),Uf=Ot(WR),ZR=Ve({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),jR=Ot(ZR),ew=Ve({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tw=Ot(ew),nw=Ve({},Ys,{data:0}),Yg=Ot(nw),iw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ow[t])?!!e[t]:!1}function dp(){return rw}var aw=Ve({},cl,{key:function(t){if(t.key){var e=iw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lw=Ot(aw),uw=Ve({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Ot(uw),cw=Ve({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),fw=Ot(cw),dw=Ve({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),hw=Ot(dw),pw=Ve({},Oc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mw=Ot(pw),gw=Ve({},Ys,{newState:0,oldState:0}),yw=Ot(gw),_w=[9,13,27,32],hp=ii&&"CompositionEvent"in window,_a=null;ii&&"documentMode"in document&&(_a=document.documentMode);var vw=ii&&"TextEvent"in window&&!_a,w0=ii&&(!hp||_a&&8<_a&&11>=_a),Jg=" ",Qg=!1;function x0(t,e){switch(t){case"keyup":return _w.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function Tw(t,e){switch(t){case"compositionend":return N0(e);case"keypress":return e.which!==32?null:(Qg=!0,Jg);case"textInput":return t=e.data,t===Jg&&Qg?null:t;default:return null}}function Ew(t,e){if(xo)return t==="compositionend"||!hp&&x0(t,e)?(t=R0(),vu=fp=Di=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w0&&e.locale!=="ko"?null:e.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Aw[t.type]:e==="textarea"}function b0(t,e,n,i){wo?Oo?Oo.push(i):Oo=[i]:wo=i,e=lc(e,"onChange"),0<e.length&&(n=new qc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var va=null,Oa=null;function Sw(t){IA(t,0)}function Fc(t){var e=ca(t);if(T0(e))return t}function Xg(t,e){if(t==="change")return e}var M0=!1;if(ii){var kf;if(ii){var Lf="oninput"in document;if(!Lf){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Lf=typeof Wg.oninput=="function"}kf=Lf}else kf=!1;M0=kf&&(!document.documentMode||9<document.documentMode)}function Zg(){va&&(va.detachEvent("onpropertychange",D0),Oa=va=null)}function D0(t){if(t.propertyName==="value"&&Fc(Oa)){var e=[];b0(e,Oa,t,cp(t)),I0(Sw,e)}}function Cw(t,e,n){t==="focusin"?(Zg(),va=e,Oa=n,va.attachEvent("onpropertychange",D0)):t==="focusout"&&Zg()}function Iw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(Oa)}function Rw(t,e){if(t==="click")return Fc(e)}function ww(t,e){if(t==="input"||t==="change")return Fc(e)}function xw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:xw;function Fa(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Md.call(e,s)||!Wt(t[s],e[s]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,e){var n=jg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jg(n)}}function P0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Hu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Nw=ii&&"documentMode"in document&&11>=document.documentMode,No=null,qd=null,Ta=null,Od=!1;function ty(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||No==null||No!==Hu(i)||(i=No,"selectionStart"in i&&pp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ta&&Fa(Ta,i)||(Ta=i,i=lc(qd,"onSelect"),0<i.length&&(e=new qc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=No)))}function vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bo={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},qf={},U0={};ii&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Ks(t){if(qf[t])return qf[t];if(!bo[t])return t;var e=bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U0)return qf[t]=e[n];return t}var k0=Ks("animationend"),L0=Ks("animationiteration"),q0=Ks("animationstart"),bw=Ks("transitionrun"),Mw=Ks("transitionstart"),Dw=Ks("transitioncancel"),O0=Ks("transitionend"),F0=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function Sn(t,e){F0.set(t,e),Hs(e,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},en=[],Mo=0,mp=0;function Bc(){for(var t=Mo,e=mp=Mo=0;e<t;){var n=en[e];en[e++]=null;var i=en[e];en[e++]=null;var s=en[e];en[e++]=null;var o=en[e];if(en[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}o!==0&&B0(n,s,o)}}function zc(t,e,n,i){en[Mo++]=t,en[Mo++]=e,en[Mo++]=n,en[Mo++]=i,mp|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function gp(t,e,n,i){return zc(t,e,n,i),Ku(t)}function Js(t,e){return zc(t,null,null,e),Ku(t)}function B0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(s=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,s&&e!==null&&(s=31-Qt(n),t=o.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),o):null}function Ku(t){if(50<Na)throw Na=0,ah=null,Error(O(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Do={};function Pw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,i){return new Pw(t,e,n,i)}function yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function z0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Eu(t,e,n,i,s,o){var r=0;if(i=t,typeof t=="function")yp(t)&&(r=1);else if(typeof t=="string")r=qx(t,n,bn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case wd:return t=Ht(31,n,e,s),t.elementType=wd,t.lanes=o,t;case Co:return xs(n.children,s,o,e);case a0:r=8,s|=24;break;case Cd:return t=Ht(12,n,e,s|2),t.elementType=Cd,t.lanes=o,t;case Id:return t=Ht(13,n,e,s),t.elementType=Id,t.lanes=o,t;case Rd:return t=Ht(19,n,e,s),t.elementType=Rd,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xn:r=10;break e;case l0:r=9;break e;case ip:r=11;break e;case sp:r=14;break e;case Ii:r=16,i=null;break e}r=29,n=Error(O(130,t===null?"null":typeof t,"")),i=null}return e=Ht(r,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function xs(t,e,n,i){return t=Ht(7,t,i,e),t.lanes=n,t}function Of(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function G0(t){var e=Ht(18,null,null,0);return e.stateNode=t,e}function Ff(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ny=new WeakMap;function rn(t,e){if(typeof t=="object"&&t!==null){var n=ny.get(t);return n!==void 0?n:(e={value:t,source:e,stack:kg(e)},ny.set(t,e),e)}return{value:t,source:e,stack:kg(e)}}var Po=[],Vo=0,Ju=null,Ba=0,nn=[],sn=0,Xi=null,wn=1,xn="";function Qn(t,e){Po[Vo++]=Ba,Po[Vo++]=Ju,Ju=t,Ba=e}function H0(t,e,n){nn[sn++]=wn,nn[sn++]=xn,nn[sn++]=Xi,Xi=t;var i=wn;t=xn;var s=32-Qt(i)-1;i&=~(1<<s),n+=1;var o=32-Qt(e)+s;if(30<o){var r=s-s%5;o=(i&(1<<r)-1).toString(32),i>>=r,s-=r,wn=1<<32-Qt(e)+s|n<<s|i,xn=o+t}else wn=1<<o|n<<s|i,xn=t}function _p(t){t.return!==null&&(Qn(t,1),H0(t,1,0))}function vp(t){for(;t===Ju;)Ju=Po[--Vo],Po[Vo]=null,Ba=Po[--Vo],Po[Vo]=null;for(;t===Xi;)Xi=nn[--sn],nn[sn]=null,xn=nn[--sn],nn[sn]=null,wn=nn[--sn],nn[sn]=null}function Y0(t,e){nn[sn++]=wn,nn[sn++]=xn,nn[sn++]=Xi,wn=e.id,xn=e.overflow,Xi=t}var pt=null,Me=null,ue=!1,Oi=null,an=!1,Bd=Error(O(519));function Wi(t){var e=Error(O(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(rn(e,t)),Bd}function iy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ht]=t,e[qt]=i,n){case"dialog":oe("cancel",e),oe("close",e);break;case"iframe":case"object":case"embed":oe("load",e);break;case"video":case"audio":for(n=0;n<Ka.length;n++)oe(Ka[n],e);break;case"source":oe("error",e);break;case"img":case"image":case"link":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"input":oe("invalid",e),E0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":oe("invalid",e);break;case"textarea":oe("invalid",e),S0(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||wA(e.textContent,n)?(i.popover!=null&&(oe("beforetoggle",e),oe("toggle",e)),i.onScroll!=null&&oe("scroll",e),i.onScrollEnd!=null&&oe("scrollend",e),i.onClick!=null&&(e.onclick=Wn),e=!0):e=!1,e||Wi(t,!0)}function sy(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:pt=pt.return}}function go(t){if(t!==pt)return!1;if(!ue)return sy(t),ue=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||dh(t.type,t.memoizedProps)),n=!n),n&&Me&&Wi(t),sy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));Me=Hy(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));Me=Hy(t)}else e===27?(e=Me,as(t.type)?(t=gh,gh=null,Me=t):Me=e):Me=pt?cn(t.stateNode.nextSibling):null;return!0}function Ps(){Me=pt=null,ue=!1}function Bf(){var t=Oi;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),Oi=null),t}function za(t){Oi===null?Oi=[t]:Oi.push(t)}var zd=kn(null),Qs=null,Zn=null;function wi(t,e,n){Re(zd,e._currentValue),e._currentValue=n}function ei(t){t._currentValue=zd.current,at(zd)}function Gd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Hd(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){var r=s.child;o=o.firstContext;e:for(;o!==null;){var a=o;o=s;for(var u=0;u<e.length;u++)if(a.context===e[u]){o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gd(o.return,n,t),i||(r=null);break e}o=a.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(O(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Gd(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function yr(t,e,n,i){t=null;for(var s=e,o=!1;s!==null;){if(!o){if(s.flags&524288)o=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(O(387));if(r=r.memoizedProps,r!==null){var a=s.type;Wt(s.pendingProps.value,r.value)||(t!==null?t.push(a):t=[a])}}else if(s===Fu.current){if(r=s.alternate,r===null)throw Error(O(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Qa):t=[Qa])}s=s.return}t!==null&&Hd(e,t,n,i),e.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Qs=t,Zn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gt(t){return K0(Qs,t)}function iu(t,e){return Qs===null&&Vs(t),K0(t,e)}function K0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Zn===null){if(t===null)throw Error(O(308));Zn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Zn=Zn.next=e;return n}var Vw=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Uw=et.unstable_scheduleCallback,kw=et.unstable_NormalPriority,$e={$$typeof:Xn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tp(){return{controller:new Vw,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Uw(kw,function(){t.controller.abort()})}var Ea=null,Yd=0,Wo=0,Fo=null;function Lw(t,e){if(Ea===null){var n=Ea=[];Yd=0,Wo=Yp(),Fo={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Yd++,e.then(oy,oy),e}function oy(){if(--Yd===0&&Ea!==null){Fo!==null&&(Fo.status="fulfilled");var t=Ea;Ea=null,Wo=0,Fo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qw(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var ry=Z.S;Z.S=function(t,e){rA=Kt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Lw(t,e),ry!==null&&ry(t,e)};var Ns=kn(null);function Ep(){var t=Ns.current;return t!==null?t:Ie.pooledCache}function Au(t,e){e===null?Re(Ns,Ns.current):Re(Ns,e.pool)}function J0(){var t=Ep();return t===null?null:{parent:$e._currentValue,pool:t}}var _r=Error(O(460)),Ap=Error(O(474)),Gc=Error(O(542)),$u={then:function(){}};function ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Q0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Wn,Wn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,uy(t),t;default:if(typeof e.status=="string")e.then(Wn,Wn);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(O(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,uy(t),t}throw bs=e,_r}}function As(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(bs=n,_r):n}}var bs=null;function ly(){if(bs===null)throw Error(O(459));var t=bs;return bs=null,t}function uy(t){if(t===_r||t===Gc)throw Error(O(483))}var Bo=null,Ga=0;function su(t){var e=Ga;return Ga+=1,Bo===null&&(Bo=[]),Q0(Bo,t,e)}function na(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ou(t,e){throw e.$$typeof===CR?Error(O(525)):(t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function $0(t){function e(I,A){if(t){var T=I.deletions;T===null?(I.deletions=[A],I.flags|=16):T.push(A)}}function n(I,A){if(!t)return null;for(;A!==null;)e(I,A),A=A.sibling;return null}function i(I){for(var A=new Map;I!==null;)I.key!==null?A.set(I.key,I):A.set(I.index,I),I=I.sibling;return A}function s(I,A){return I=jn(I,A),I.index=0,I.sibling=null,I}function o(I,A,T){return I.index=T,t?(T=I.alternate,T!==null?(T=T.index,T<A?(I.flags|=67108866,A):T):(I.flags|=67108866,A)):(I.flags|=1048576,A)}function r(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function a(I,A,T,D){return A===null||A.tag!==6?(A=Of(T,I.mode,D),A.return=I,A):(A=s(A,T),A.return=I,A)}function u(I,A,T,D){var L=T.type;return L===Co?h(I,A,T.props.children,D,T.key):A!==null&&(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ii&&As(L)===A.type)?(A=s(A,T.props),na(A,T),A.return=I,A):(A=Eu(T.type,T.key,T.props,null,I.mode,D),na(A,T),A.return=I,A)}function d(I,A,T,D){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=Ff(T,I.mode,D),A.return=I,A):(A=s(A,T.children||[]),A.return=I,A)}function h(I,A,T,D,L){return A===null||A.tag!==7?(A=xs(T,I.mode,D,L),A.return=I,A):(A=s(A,T),A.return=I,A)}function m(I,A,T){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Of(""+A,I.mode,T),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wl:return T=Eu(A.type,A.key,A.props,null,I.mode,T),na(T,A),T.return=I,T;case la:return A=Ff(A,I.mode,T),A.return=I,A;case Ii:return A=As(A),m(I,A,T)}if(ua(A)||jr(A))return A=xs(A,I.mode,T,null),A.return=I,A;if(typeof A.then=="function")return m(I,su(A),T);if(A.$$typeof===Xn)return m(I,iu(I,A),T);ou(I,A)}return null}function p(I,A,T,D){var L=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return L!==null?null:a(I,A,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wl:return T.key===L?u(I,A,T,D):null;case la:return T.key===L?d(I,A,T,D):null;case Ii:return T=As(T),p(I,A,T,D)}if(ua(T)||jr(T))return L!==null?null:h(I,A,T,D,null);if(typeof T.then=="function")return p(I,A,su(T),D);if(T.$$typeof===Xn)return p(I,A,iu(I,T),D);ou(I,T)}return null}function _(I,A,T,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return I=I.get(T)||null,a(A,I,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Wl:return I=I.get(D.key===null?T:D.key)||null,u(A,I,D,L);case la:return I=I.get(D.key===null?T:D.key)||null,d(A,I,D,L);case Ii:return D=As(D),_(I,A,T,D,L)}if(ua(D)||jr(D))return I=I.get(T)||null,h(A,I,D,L,null);if(typeof D.then=="function")return _(I,A,T,su(D),L);if(D.$$typeof===Xn)return _(I,A,T,iu(A,D),L);ou(A,D)}return null}function x(I,A,T,D){for(var L=null,B=null,R=A,C=A=0,S=null;R!==null&&C<T.length;C++){R.index>C?(S=R,R=null):S=R.sibling;var w=p(I,R,T[C],D);if(w===null){R===null&&(R=S);break}t&&R&&w.alternate===null&&e(I,R),A=o(w,A,C),B===null?L=w:B.sibling=w,B=w,R=S}if(C===T.length)return n(I,R),ue&&Qn(I,C),L;if(R===null){for(;C<T.length;C++)R=m(I,T[C],D),R!==null&&(A=o(R,A,C),B===null?L=R:B.sibling=R,B=R);return ue&&Qn(I,C),L}for(R=i(R);C<T.length;C++)S=_(R,I,C,T[C],D),S!==null&&(t&&S.alternate!==null&&R.delete(S.key===null?C:S.key),A=o(S,A,C),B===null?L=S:B.sibling=S,B=S);return t&&R.forEach(function(b){return e(I,b)}),ue&&Qn(I,C),L}function M(I,A,T,D){if(T==null)throw Error(O(151));for(var L=null,B=null,R=A,C=A=0,S=null,w=T.next();R!==null&&!w.done;C++,w=T.next()){R.index>C?(S=R,R=null):S=R.sibling;var b=p(I,R,w.value,D);if(b===null){R===null&&(R=S);break}t&&R&&b.alternate===null&&e(I,R),A=o(b,A,C),B===null?L=b:B.sibling=b,B=b,R=S}if(w.done)return n(I,R),ue&&Qn(I,C),L;if(R===null){for(;!w.done;C++,w=T.next())w=m(I,w.value,D),w!==null&&(A=o(w,A,C),B===null?L=w:B.sibling=w,B=w);return ue&&Qn(I,C),L}for(R=i(R);!w.done;C++,w=T.next())w=_(R,I,C,w.value,D),w!==null&&(t&&w.alternate!==null&&R.delete(w.key===null?C:w.key),A=o(w,A,C),B===null?L=w:B.sibling=w,B=w);return t&&R.forEach(function(P){return e(I,P)}),ue&&Qn(I,C),L}function U(I,A,T,D){if(typeof T=="object"&&T!==null&&T.type===Co&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Wl:e:{for(var L=T.key;A!==null;){if(A.key===L){if(L=T.type,L===Co){if(A.tag===7){n(I,A.sibling),D=s(A,T.props.children),D.return=I,I=D;break e}}else if(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ii&&As(L)===A.type){n(I,A.sibling),D=s(A,T.props),na(D,T),D.return=I,I=D;break e}n(I,A);break}else e(I,A);A=A.sibling}T.type===Co?(D=xs(T.props.children,I.mode,D,T.key),D.return=I,I=D):(D=Eu(T.type,T.key,T.props,null,I.mode,D),na(D,T),D.return=I,I=D)}return r(I);case la:e:{for(L=T.key;A!==null;){if(A.key===L)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){n(I,A.sibling),D=s(A,T.children||[]),D.return=I,I=D;break e}else{n(I,A);break}else e(I,A);A=A.sibling}D=Ff(T,I.mode,D),D.return=I,I=D}return r(I);case Ii:return T=As(T),U(I,A,T,D)}if(ua(T))return x(I,A,T,D);if(jr(T)){if(L=jr(T),typeof L!="function")throw Error(O(150));return T=L.call(T),M(I,A,T,D)}if(typeof T.then=="function")return U(I,A,su(T),D);if(T.$$typeof===Xn)return U(I,A,iu(I,T),D);ou(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,A!==null&&A.tag===6?(n(I,A.sibling),D=s(A,T),D.return=I,I=D):(n(I,A),D=Of(T,I.mode,D),D.return=I,I=D),r(I)):n(I,A)}return function(I,A,T,D){try{Ga=0;var L=U(I,A,T,D);return Bo=null,L}catch(R){if(R===_r||R===Gc)throw R;var B=Ht(29,R,null,I.mode);return B.lanes=D,B.return=I,B}finally{}}}var Us=$0(!0),X0=$0(!1),Ri=!1;function Sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Ku(t),B0(t,null,n),e}return zc(t,i,e,n),Ku(t)}function Aa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,p0(t,n)}}function zf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?s=o=r:o=o.next=r,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Jd=!1;function Sa(){if(Jd){var t=Fo;if(t!==null)throw t}}function Ca(t,e,n,i){Jd=!1;var s=t.updateQueue;Ri=!1;var o=s.firstBaseUpdate,r=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,r===null?o=d:r.next=d,r=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==r&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=u))}if(o!==null){var m=s.baseState;r=0,h=d=u=null,a=o;do{var p=a.lane&-536870913,_=p!==a.lane;if(_?(le&p)===p:(i&p)===p){p!==0&&p===Wo&&(Jd=!0),h!==null&&(h=h.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var x=t,M=a;p=e;var U=n;switch(M.tag){case 1:if(x=M.payload,typeof x=="function"){m=x.call(U,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,p=typeof x=="function"?x.call(U,m,p):x,p==null)break e;m=Ve({},m,p);break e;case 2:Ri=!0}}p=a.callback,p!==null&&(t.flags|=64,_&&(t.flags|=8192),_=s.callbacks,_===null?s.callbacks=[p]:_.push(p))}else _={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=_,u=m):h=h.next=_,r|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;_=a,a=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);h===null&&(u=m),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,o===null&&(s.shared.lanes=0),ji|=r,t.lanes=r,t.memoizedState=m}}function W0(t,e){if(typeof t!="function")throw Error(O(191,t));t.call(e)}function Z0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)W0(n[t],e)}var Zo=kn(null),Xu=kn(0);function cy(t,e){t=ai,Re(Xu,t),Re(Zo,e),ai=t|e.baseLanes}function Qd(){Re(Xu,ai),Re(Zo,Zo.current)}function Cp(){ai=Xu.current,at(Zo),at(Xu)}var Zt=kn(null),un=null;function xi(t){var e=t.alternate;Re(He,He.current&1),Re(Zt,t),un===null&&(e===null||Zo.current!==null||e.memoizedState!==null)&&(un=t)}function $d(t){Re(He,He.current),Re(Zt,t),un===null&&(un=t)}function j0(t){t.tag===22?(Re(He,He.current),Re(Zt,t),un===null&&(un=t)):Ni()}function Ni(){Re(He,He.current),Re(Zt,Zt.current)}function Gt(t){at(Zt),un===t&&(un=null),at(He)}var He=kn(0);function Wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ph(n)||mh(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var si=0,se=null,Se=null,Je=null,Zu=!1,zo=!1,ks=!1,ju=0,Ha=0,Go=null,Ow=0;function Fe(){throw Error(O(321))}function Ip(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function Rp(t,e,n,i,s,o){return si=o,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z.H=t===null||t.memoizedState===null?bE:Lp,ks=!1,o=n(i,s),ks=!1,zo&&(o=tE(e,n,i,s)),eE(t),o}function eE(t){Z.H=Ya;var e=Se!==null&&Se.next!==null;if(si=0,Je=Se=se=null,Zu=!1,Ha=0,Go=null,e)throw Error(O(300));t===null||We||(t=t.dependencies,t!==null&&Qu(t)&&(We=!0))}function tE(t,e,n,i){se=t;var s=0;do{if(zo&&(Go=null),Ha=0,zo=!1,25<=s)throw Error(O(301));if(s+=1,Je=Se=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Z.H=ME,o=e(n,i)}while(zo);return o}function Fw(){var t=Z.H,e=t.useState()[0];return e=typeof e.then=="function"?dl(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(se.flags|=1024),e}function wp(){var t=ju!==0;return ju=0,t}function xp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Np(t){if(Zu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Zu=!1}si=0,Je=Se=se=null,zo=!1,Ha=ju=0,Go=null}function wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?se.memoizedState=Je=t:Je=Je.next=t,Je}function Ye(){if(Se===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Je===null?se.memoizedState:Je.next;if(e!==null)Je=e,Se=t;else{if(t===null)throw se.alternate===null?Error(O(467)):Error(O(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Je===null?se.memoizedState=Je=t:Je=Je.next=t}return Je}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var e=Ha;return Ha+=1,Go===null&&(Go=[]),t=Q0(Go,t,e),e=se,(Je===null?e.memoizedState:Je.next)===null&&(e=e.alternate,Z.H=e===null||e.memoizedState===null?bE:Lp),t}function Yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===Xn)return gt(t)}throw Error(O(438,String(t)))}function bp(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Hc(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=IR;return e.index++,n}function oi(t,e){return typeof e=="function"?e(t):e}function Su(t){var e=Ye();return Mp(e,Se,t)}function Mp(t,e,n){var i=t.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=n;var s=t.baseQueue,o=i.pending;if(o!==null){if(s!==null){var r=s.next;s.next=o.next,o.next=r}e.baseQueue=s=o,i.pending=null}if(o=t.baseState,s===null)t.memoizedState=o;else{e=s.next;var a=r=null,u=null,d=e,h=!1;do{var m=d.lane&-536870913;if(m!==d.lane?(le&m)===m:(si&m)===m){var p=d.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Wo&&(h=!0);else if((si&p)===p){d=d.next,p===Wo&&(h=!0);continue}else m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(a=u=m,r=o):u=u.next=m,se.lanes|=p,ji|=p;m=d.action,ks&&n(o,m),o=d.hasEagerState?d.eagerState:n(o,m)}else p={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(a=u=p,r=o):u=u.next=p,se.lanes|=m,ji|=m;d=d.next}while(d!==null&&d!==e);if(u===null?r=o:u.next=a,!Wt(o,t.memoizedState)&&(We=!0,h&&(n=Fo,n!==null)))throw n;t.memoizedState=o,t.baseState=r,t.baseQueue=u,i.lastRenderedState=o}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Gf(t){var e=Ye(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do o=t(o,r.action),r=r.next;while(r!==s);Wt(o,e.memoizedState)||(We=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function nE(t,e,n){var i=se,s=Ye(),o=ue;if(o){if(n===void 0)throw Error(O(407));n=n()}else n=e();var r=!Wt((Se||s).memoizedState,n);if(r&&(s.memoizedState=n,We=!0),s=s.queue,Dp(oE.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,jo(9,{destroy:void 0},sE.bind(null,i,s,n,e),null),Ie===null)throw Error(O(349));o||si&127||iE(i,e,n)}return n}function iE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=Hc(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sE(t,e,n,i){e.value=n,e.getSnapshot=i,rE(e)&&aE(t)}function oE(t,e,n){return n(function(){rE(e)&&aE(t)})}function rE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function aE(t){var e=Js(t,2);e!==null&&Ut(e,t,2)}function Xd(t){var e=wt();if(typeof t=="function"){var n=t;if(t=n(),ks){Mi(!0);try{n()}finally{Mi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},e}function lE(t,e,n,i){return t.baseState=n,Mp(t,Se,typeof i=="function"?i:oi)}function Bw(t,e,n,i,s){if(Jc(t))throw Error(O(485));if(t=e.action,t!==null){var o={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){o.listeners.push(r)}};Z.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,uE(e,o)):(o.next=n.next,e.pending=n.next=o)}}function uE(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var o=Z.T,r={};Z.T=r;try{var a=n(s,i),u=Z.S;u!==null&&u(r,a),fy(t,e,a)}catch(d){Wd(t,e,d)}finally{o!==null&&r.types!==null&&(o.types=r.types),Z.T=o}}else try{o=n(s,i),fy(t,e,o)}catch(d){Wd(t,e,d)}}function fy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){dy(t,e,i)},function(i){return Wd(t,e,i)}):dy(t,e,n)}function dy(t,e,n){e.status="fulfilled",e.value=n,cE(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,uE(t,n)))}function Wd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,cE(e),e=e.next;while(e!==i)}t.action=null}function cE(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fE(t,e){return e}function hy(t,e){if(ue){var n=Ie.formState;if(n!==null){e:{var i=se;if(ue){if(Me){t:{for(var s=Me,o=an;s.nodeType!==8;){if(!o){s=null;break t}if(s=cn(s.nextSibling),s===null){s=null;break t}}o=s.data,s=o==="F!"||o==="F"?s:null}if(s){Me=cn(s.nextSibling),i=s.data==="F!";break e}}Wi(i)}i=!1}i&&(e=n[0])}}return n=wt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fE,lastRenderedState:e},n.queue=i,n=wE.bind(null,se,i),i.dispatch=n,i=Xd(!1),o=kp.bind(null,se,!1,i.queue),i=wt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=Bw.bind(null,se,s,o,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function py(t){var e=Ye();return dE(e,Se,t)}function dE(t,e,n){if(e=Mp(t,e,fE)[0],t=Su(oi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=dl(e)}catch(r){throw r===_r?Gc:r}else i=e;e=Ye();var s=e.queue,o=s.dispatch;return n!==e.memoizedState&&(se.flags|=2048,jo(9,{destroy:void 0},zw.bind(null,s,n),null)),[i,o,t]}function zw(t,e){t.action=e}function my(t){var e=Ye(),n=Se;if(n!==null)return dE(e,n,t);Ye(),e=e.memoizedState,n=Ye();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function jo(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=se.updateQueue,e===null&&(e=Hc(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function hE(){return Ye().memoizedState}function Cu(t,e,n,i){var s=wt();se.flags|=t,s.memoizedState=jo(1|e,{destroy:void 0},n,i===void 0?null:i)}function Kc(t,e,n,i){var s=Ye();i=i===void 0?null:i;var o=s.memoizedState.inst;Se!==null&&i!==null&&Ip(i,Se.memoizedState.deps)?s.memoizedState=jo(e,o,n,i):(se.flags|=t,s.memoizedState=jo(1|e,o,n,i))}function gy(t,e){Cu(8390656,8,t,e)}function Dp(t,e){Kc(2048,8,t,e)}function Gw(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=Hc(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function pE(t){var e=Ye().memoizedState;return Gw({ref:e,nextImpl:t}),function(){if(me&2)throw Error(O(440));return e.impl.apply(void 0,arguments)}}function mE(t,e){return Kc(4,2,t,e)}function gE(t,e){return Kc(4,4,t,e)}function yE(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _E(t,e,n){n=n!=null?n.concat([t]):null,Kc(4,4,yE.bind(null,e,t),n)}function Pp(){}function vE(t,e){var n=Ye();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Ip(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function TE(t,e){var n=Ye();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Ip(e,i[1]))return i[0];if(i=t(),ks){Mi(!0);try{t()}finally{Mi(!1)}}return n.memoizedState=[i,e],i}function Vp(t,e,n){return n===void 0||si&1073741824&&!(le&261930)?t.memoizedState=e:(t.memoizedState=n,t=lA(),se.lanes|=t,ji|=t,n)}function EE(t,e,n,i){return Wt(n,e)?n:Zo.current!==null?(t=Vp(t,n,i),Wt(t,e)||(We=!0),t):!(si&42)||si&1073741824&&!(le&261930)?(We=!0,t.memoizedState=n):(t=lA(),se.lanes|=t,ji|=t,e)}function AE(t,e,n,i,s){var o=ge.p;ge.p=o!==0&&8>o?o:8;var r=Z.T,a={};Z.T=a,kp(t,!1,e,n);try{var u=s(),d=Z.S;if(d!==null&&d(a,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=qw(u,i);Ia(t,e,h,$t(t))}else Ia(t,e,i,$t(t))}catch(m){Ia(t,e,{then:function(){},status:"rejected",reason:m},$t())}finally{ge.p=o,r!==null&&a.types!==null&&(r.types=a.types),Z.T=r}}function Hw(){}function Zd(t,e,n,i){if(t.tag!==5)throw Error(O(476));var s=SE(t).queue;AE(t,s,e,ws,n===null?Hw:function(){return CE(t),n(i)})}function SE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ws,baseState:ws,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ws},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function CE(t){var e=SE(t);e.next===null&&(e=t.alternate.memoizedState),Ia(t,e.next.queue,{},$t())}function Up(){return gt(Qa)}function IE(){return Ye().memoizedState}function RE(){return Ye().memoizedState}function Yw(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=$t();t=Fi(n);var i=Bi(e,t,n);i!==null&&(Ut(i,e,n),Aa(i,e,n)),e={cache:Tp()},t.payload=e;return}e=e.return}}function Kw(t,e,n){var i=$t();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Jc(t)?xE(e,n):(n=gp(t,e,n,i),n!==null&&(Ut(n,t,i),NE(n,e,i)))}function wE(t,e,n){var i=$t();Ia(t,e,n,i)}function Ia(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))xE(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var r=e.lastRenderedState,a=o(r,n);if(s.hasEagerState=!0,s.eagerState=a,Wt(a,r))return zc(t,e,s,0),Ie===null&&Bc(),!1}catch{}finally{}if(n=gp(t,e,s,i),n!==null)return Ut(n,t,i),NE(n,e,i),!0}return!1}function kp(t,e,n,i){if(i={lane:2,revertLane:Yp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(e)throw Error(O(479))}else e=gp(t,n,i,2),e!==null&&Ut(e,t,2)}function Jc(t){var e=t.alternate;return t===se||e!==null&&e===se}function xE(t,e){zo=Zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NE(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,p0(t,n)}}var Ya={readContext:gt,use:Yc,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Ya.useEffectEvent=Fe;var bE={readContext:gt,use:Yc,useCallback:function(t,e){return wt().memoizedState=[t,e===void 0?null:e],t},useContext:gt,useEffect:gy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Cu(4194308,4,yE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){Cu(4,2,t,e)},useMemo:function(t,e){var n=wt();e=e===void 0?null:e;var i=t();if(ks){Mi(!0);try{t()}finally{Mi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=wt();if(n!==void 0){var s=n(e);if(ks){Mi(!0);try{n(e)}finally{Mi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=Kw.bind(null,se,t),[i.memoizedState,t]},useRef:function(t){var e=wt();return t={current:t},e.memoizedState=t},useState:function(t){t=Xd(t);var e=t.queue,n=wE.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Pp,useDeferredValue:function(t,e){var n=wt();return Vp(n,t,e)},useTransition:function(){var t=Xd(!1);return t=AE.bind(null,se,t.queue,!0,!1),wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=se,s=wt();if(ue){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Ie===null)throw Error(O(349));le&127||iE(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,gy(oE.bind(null,i,o,t),[t]),i.flags|=2048,jo(9,{destroy:void 0},sE.bind(null,i,o,n,e),null),n},useId:function(){var t=wt(),e=Ie.identifierPrefix;if(ue){var n=xn,i=wn;n=(i&~(1<<32-Qt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ju++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Ow++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Up,useFormState:hy,useActionState:hy,useOptimistic:function(t){var e=wt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=kp.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:bp,useCacheRefresh:function(){return wt().memoizedState=Yw.bind(null,se)},useEffectEvent:function(t){var e=wt(),n={impl:t};return e.memoizedState=n,function(){if(me&2)throw Error(O(440));return n.impl.apply(void 0,arguments)}}},Lp={readContext:gt,use:Yc,useCallback:vE,useContext:gt,useEffect:Dp,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:gE,useMemo:TE,useReducer:Su,useRef:hE,useState:function(){return Su(oi)},useDebugValue:Pp,useDeferredValue:function(t,e){var n=Ye();return EE(n,Se.memoizedState,t,e)},useTransition:function(){var t=Su(oi)[0],e=Ye().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:nE,useId:IE,useHostTransitionStatus:Up,useFormState:py,useActionState:py,useOptimistic:function(t,e){var n=Ye();return lE(n,Se,t,e)},useMemoCache:bp,useCacheRefresh:RE};Lp.useEffectEvent=pE;var ME={readContext:gt,use:Yc,useCallback:vE,useContext:gt,useEffect:Dp,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:gE,useMemo:TE,useReducer:Gf,useRef:hE,useState:function(){return Gf(oi)},useDebugValue:Pp,useDeferredValue:function(t,e){var n=Ye();return Se===null?Vp(n,t,e):EE(n,Se.memoizedState,t,e)},useTransition:function(){var t=Gf(oi)[0],e=Ye().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:nE,useId:IE,useHostTransitionStatus:Up,useFormState:my,useActionState:my,useOptimistic:function(t,e){var n=Ye();return Se!==null?lE(n,Se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:bp,useCacheRefresh:RE};ME.useEffectEvent=pE;function Hf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=$t(),s=Fi(i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(Ut(e,t,i),Aa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=$t(),s=Fi(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(Ut(e,t,i),Aa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),i=Fi(n);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,n),e!==null&&(Ut(e,t,n),Aa(e,t,n))}};function yy(t,e,n,i,s,o,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,r):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,i)||!Fa(s,o):!0}function _y(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&jd.enqueueReplaceState(e,e.state,null)}function Ls(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ve({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function DE(t){Yu(t)}function PE(t){console.error(t)}function VE(t){Yu(t)}function ec(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function vy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function eh(t,e,n){return n=Fi(n),n.tag=3,n.payload={element:null},n.callback=function(){ec(t,e)},n}function UE(t){return t=Fi(t),t.tag=3,t}function kE(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var o=i.value;t.payload=function(){return s(o)},t.callback=function(){vy(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){vy(e,n,i),typeof s!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function Jw(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&yr(e,n,s,!0),n=Zt.current,n!==null){switch(n.tag){case 31:case 13:return un===null?oc():n.alternate===null&&Be===0&&(Be=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===$u?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),td(t,i,s)),!1;case 22:return n.flags|=65536,i===$u?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),td(t,i,s)),!1}throw Error(O(435,n.tag))}return td(t,i,s),oc(),!1}if(ue)return e=Zt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Bd&&(t=Error(O(422),{cause:i}),za(rn(t,n)))):(i!==Bd&&(e=Error(O(423),{cause:i}),za(rn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=rn(i,n),s=eh(t.stateNode,i,s),zf(t,s),Be!==4&&(Be=2)),!1;var o=Error(O(520),{cause:i});if(o=rn(o,n),xa===null?xa=[o]:xa.push(o),Be!==4&&(Be=2),e===null)return!0;i=rn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=eh(n.stateNode,i,t),zf(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(zi===null||!zi.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,s=UE(s),kE(s,t,n,i),zf(n,s),!1}n=n.return}while(n!==null);return!1}var qp=Error(O(461)),We=!1;function ft(t,e,n,i){e.child=t===null?X0(e,null,n,i):Us(e,t.child,n,i)}function Ty(t,e,n,i,s){n=n.render;var o=e.ref;if("ref"in i){var r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}else r=i;return Vs(e),i=Rp(t,e,n,r,o,s),a=wp(),t!==null&&!We?(xp(t,e,s),ri(t,e,s)):(ue&&a&&_p(e),e.flags|=1,ft(t,e,i,s),e.child)}function Ey(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!yp(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,LE(t,e,o,i,s)):(t=Eu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!Op(t,s)){var r=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(r,i)&&t.ref===e.ref)return ri(t,e,s)}return e.flags|=1,t=jn(o,i),t.ref=e.ref,t.return=e,e.child=t}function LE(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(Fa(o,i)&&t.ref===e.ref)if(We=!1,e.pendingProps=i=o,Op(t,s))t.flags&131072&&(We=!0);else return e.lanes=t.lanes,ri(t,e,s)}return th(t,e,n,i,s)}function qE(t,e,n,i){var s=i.children,o=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(o=o!==null?o.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~o}else i=0,e.child=null;return Ay(t,e,o,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(e,o!==null?o.cachePool:null),o!==null?cy(e,o):Qd(),j0(e);else return i=e.lanes=536870912,Ay(t,e,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(Au(e,o.cachePool),cy(e,o),Ni(),e.memoizedState=null):(t!==null&&Au(e,null),Qd(),Ni());return ft(t,e,s,n),e.child}function fa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ay(t,e,n,i,s){var o=Ep();return o=o===null?null:{parent:$e._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&Au(e,null),Qd(),j0(e),t!==null&&yr(t,e,i,!0),e.childLanes=s,null}function Iu(t,e){return e=tc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Sy(t,e,n){return Us(e,t.child,null,n),t=Iu(e,e.pendingProps),t.flags|=2,Gt(e),e.memoizedState=null,t}function Qw(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ue){if(i.mode==="hidden")return t=Iu(e,i),e.lanes=536870912,fa(null,t);if($d(e),(t=Me)?(t=bA(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:wn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=G0(t),n.return=e,e.child=n,pt=e,Me=null)):t=null,t===null)throw Wi(e);return e.lanes=536870912,null}return Iu(e,i)}var o=t.memoizedState;if(o!==null){var r=o.dehydrated;if($d(e),s)if(e.flags&256)e.flags&=-257,e=Sy(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(O(558));else if(We||yr(t,e,n,!1),s=(n&t.childLanes)!==0,We||s){if(i=Ie,i!==null&&(r=m0(i,n),r!==0&&r!==o.retryLane))throw o.retryLane=r,Js(t,r),Ut(i,t,r),qp;oc(),e=Sy(t,e,n)}else t=o.treeContext,Me=cn(r.nextSibling),pt=e,ue=!0,Oi=null,an=!1,t!==null&&Y0(e,t),e=Iu(e,i),e.flags|=4096;return e}return t=jn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ru(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(O(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function th(t,e,n,i,s){return Vs(e),n=Rp(t,e,n,i,void 0,s),i=wp(),t!==null&&!We?(xp(t,e,s),ri(t,e,s)):(ue&&i&&_p(e),e.flags|=1,ft(t,e,n,s),e.child)}function Cy(t,e,n,i,s,o){return Vs(e),e.updateQueue=null,n=tE(e,i,n,s),eE(t),i=wp(),t!==null&&!We?(xp(t,e,o),ri(t,e,o)):(ue&&i&&_p(e),e.flags|=1,ft(t,e,n,o),e.child)}function Iy(t,e,n,i,s){if(Vs(e),e.stateNode===null){var o=Do,r=n.contextType;typeof r=="object"&&r!==null&&(o=gt(r)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jd,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},Sp(e),r=n.contextType,o.context=typeof r=="object"&&r!==null?gt(r):Do,o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Hf(e,n,r,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&jd.enqueueReplaceState(o,o.state,null),Ca(e,i,o,s),Sa(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var a=e.memoizedProps,u=Ls(n,a);o.props=u;var d=o.context,h=n.contextType;r=Do,typeof h=="object"&&h!==null&&(r=gt(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a||d!==r)&&_y(e,o,i,r),Ri=!1;var p=e.memoizedState;o.state=p,Ca(e,i,o,s),Sa(),d=e.memoizedState,a||p!==d||Ri?(typeof m=="function"&&(Hf(e,n,m,i),d=e.memoizedState),(u=Ri||yy(e,n,u,i,p,d,r))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),o.props=i,o.state=d,o.context=r,i=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Kd(t,e),r=e.memoizedProps,h=Ls(n,r),o.props=h,m=e.pendingProps,p=o.context,d=n.contextType,u=Do,typeof d=="object"&&d!==null&&(u=gt(d)),a=n.getDerivedStateFromProps,(d=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r!==m||p!==u)&&_y(e,o,i,u),Ri=!1,p=e.memoizedState,o.state=p,Ca(e,i,o,s),Sa();var _=e.memoizedState;r!==m||p!==_||Ri||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof a=="function"&&(Hf(e,n,a,i),_=e.memoizedState),(h=Ri||yy(e,n,h,i,p,_,u)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),o.props=i,o.state=_,o.context=u,i=h):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,Ru(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=Us(e,t.child,null,s),e.child=Us(e,null,n,s)):ft(t,e,n,s),e.memoizedState=o.state,t=e.child):t=ri(t,e,s),t}function Ry(t,e,n,i){return Ps(),e.flags|=256,ft(t,e,n,i),e.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:J0()}}function Jf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Yt),t}function OE(t,e,n){var i=e.pendingProps,s=!1,o=(e.flags&128)!==0,r;if((r=o)||(r=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ue){if(s?xi(e):Ni(),(t=Me)?(t=bA(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xi!==null?{id:wn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=G0(t),n.return=e,e.child=n,pt=e,Me=null)):t=null,t===null)throw Wi(e);return mh(t)?e.lanes=32:e.lanes=536870912,null}var a=i.children;return i=i.fallback,s?(Ni(),s=e.mode,a=tc({mode:"hidden",children:a},s),i=xs(i,s,n,null),a.return=e,i.return=e,a.sibling=i,e.child=a,i=e.child,i.memoizedState=Kf(n),i.childLanes=Jf(t,r,n),e.memoizedState=Yf,fa(null,i)):(xi(e),nh(e,a))}var u=t.memoizedState;if(u!==null&&(a=u.dehydrated,a!==null)){if(o)e.flags&256?(xi(e),e.flags&=-257,e=Qf(t,e,n)):e.memoizedState!==null?(Ni(),e.child=t.child,e.flags|=128,e=null):(Ni(),a=i.fallback,s=e.mode,i=tc({mode:"visible",children:i.children},s),a=xs(a,s,n,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,Us(e,t.child,null,n),i=e.child,i.memoizedState=Kf(n),i.childLanes=Jf(t,r,n),e.memoizedState=Yf,e=fa(null,i));else if(xi(e),mh(a)){if(r=a.nextSibling&&a.nextSibling.dataset,r)var d=r.dgst;r=d,i=Error(O(419)),i.stack="",i.digest=r,za({value:i,source:null,stack:null}),e=Qf(t,e,n)}else if(We||yr(t,e,n,!1),r=(n&t.childLanes)!==0,We||r){if(r=Ie,r!==null&&(i=m0(r,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Js(t,i),Ut(r,t,i),qp;ph(a)||oc(),e=Qf(t,e,n)}else ph(a)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Me=cn(a.nextSibling),pt=e,ue=!0,Oi=null,an=!1,t!==null&&Y0(e,t),e=nh(e,i.children),e.flags|=4096);return e}return s?(Ni(),a=i.fallback,s=e.mode,u=t.child,d=u.sibling,i=jn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,d!==null?a=jn(d,a):(a=xs(a,s,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,fa(null,i),i=e.child,a=t.child.memoizedState,a===null?a=Kf(n):(s=a.cachePool,s!==null?(u=$e._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=J0(),a={baseLanes:a.baseLanes|n,cachePool:s}),i.memoizedState=a,i.childLanes=Jf(t,r,n),e.memoizedState=Yf,fa(t.child,i)):(xi(e),n=t.child,t=n.sibling,n=jn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function nh(t,e){return e=tc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function tc(t,e){return t=Ht(22,t,null,e),t.lanes=0,t}function Qf(t,e,n){return Us(e,t.child,null,n),t=nh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Gd(t.return,e,n)}function $f(t,e,n,i,s,o){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:o}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=o)}function FE(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;i=i.children;var r=He.current,a=(r&2)!==0;if(a?(r=r&1|2,e.flags|=128):r&=1,Re(He,r),ft(t,e,i,n),i=ue?Ba:0,!a&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,n,e);else if(t.tag===19)wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$f(e,!1,s,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$f(e,!0,n,null,o,i);break;case"together":$f(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))if(t!==null){if(yr(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Op(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function $w(t,e,n){switch(e.tag){case 3:Bu(e,e.stateNode.containerInfo),wi(e,$e,t.memoizedState.cache),Ps();break;case 27:case 5:bd(e);break;case 4:Bu(e,e.stateNode.containerInfo);break;case 10:wi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,$d(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(xi(e),e.flags|=128,null):n&e.child.childLanes?OE(t,e,n):(xi(e),t=ri(t,e,n),t!==null?t.sibling:null);xi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(yr(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return FE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(He,He.current),i)break;return null;case 22:return e.lanes=0,qE(t,e,n,e.pendingProps);case 24:wi(e,$e,t.memoizedState.cache)}return ri(t,e,n)}function BE(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)We=!0;else{if(!Op(t,n)&&!(e.flags&128))return We=!1,$w(t,e,n);We=!!(t.flags&131072)}else We=!1,ue&&e.flags&1048576&&H0(e,Ba,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=As(e.elementType),e.type=t,typeof t=="function")yp(t)?(i=Ls(t,i),e.tag=1,e=Iy(null,e,t,i,n)):(e.tag=0,e=th(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===ip){e.tag=11,e=Ty(null,e,t,i,n);break e}else if(s===sp){e.tag=14,e=Ey(null,e,t,i,n);break e}}throw e=xd(t)||t,Error(O(306,e,""))}}return e;case 0:return th(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Ls(i,e.pendingProps),Iy(t,e,i,s,n);case 3:e:{if(Bu(e,e.stateNode.containerInfo),t===null)throw Error(O(387));i=e.pendingProps;var o=e.memoizedState;s=o.element,Kd(t,e),Ca(e,i,null,n);var r=e.memoizedState;if(i=r.cache,wi(e,$e,i),i!==o.cache&&Hd(e,[$e],n,!0),Sa(),i=r.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Ry(t,e,i,n);break e}else if(i!==s){s=rn(Error(O(424)),e),za(s),e=Ry(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Me=cn(t.firstChild),pt=e,ue=!0,Oi=null,an=!0,n=X0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ps(),i===s){e=ri(t,e,n);break e}ft(t,e,i,n)}e=e.child}return e;case 26:return Ru(t,e),t===null?(n=Jy(e.type,null,e.pendingProps,null))?e.memoizedState=n:ue||(n=e.type,t=e.pendingProps,i=uc(qi.current).createElement(n),i[ht]=e,i[qt]=t,yt(i,n,t),rt(i),e.stateNode=i):e.memoizedState=Jy(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return bd(e),t===null&&ue&&(i=e.stateNode=MA(e.type,e.pendingProps,qi.current),pt=e,an=!0,s=Me,as(e.type)?(gh=s,Me=cn(i.firstChild)):Me=s),ft(t,e,e.pendingProps.children,n),Ru(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ue&&((s=i=Me)&&(i=Ix(i,e.type,e.pendingProps,an),i!==null?(e.stateNode=i,pt=e,Me=cn(i.firstChild),an=!1,s=!0):s=!1),s||Wi(e)),bd(e),s=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,i=o.children,dh(s,o)?i=null:r!==null&&dh(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Rp(t,e,Fw,null,null,n),Qa._currentValue=s),Ru(t,e),ft(t,e,i,n),e.child;case 6:return t===null&&ue&&((t=n=Me)&&(n=Rx(n,e.pendingProps,an),n!==null?(e.stateNode=n,pt=e,Me=null,t=!0):t=!1),t||Wi(e)),null;case 13:return OE(t,e,n);case 4:return Bu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Us(e,null,i,n):ft(t,e,i,n),e.child;case 11:return Ty(t,e,e.type,e.pendingProps,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,wi(e,e.type,i.value),ft(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Vs(e),s=gt(s),i=i(s),e.flags|=1,ft(t,e,i,n),e.child;case 14:return Ey(t,e,e.type,e.pendingProps,n);case 15:return LE(t,e,e.type,e.pendingProps,n);case 19:return FE(t,e,n);case 31:return Qw(t,e,n);case 22:return qE(t,e,n,e.pendingProps);case 24:return Vs(e),i=gt($e),t===null?(s=Ep(),s===null&&(s=Ie,o=Tp(),s.pooledCache=o,o.refCount++,o!==null&&(s.pooledCacheLanes|=n),s=o),e.memoizedState={parent:i,cache:s},Sp(e),wi(e,$e,s)):(t.lanes&n&&(Kd(t,e),Ca(e,null,null,n),Sa()),s=t.memoizedState,o=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),wi(e,$e,i)):(i=o.cache,wi(e,$e,i),i!==s.cache&&Hd(e,[$e],n,!0))),ft(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(O(156,e.tag))}function Hn(t){t.flags|=4}function Xf(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(fA())t.flags|=8192;else throw bs=$u,Ap}else t.flags&=-16777217}function xy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!VA(e))if(fA())t.flags|=8192;else throw bs=$u,Ap}function ru(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?d0():536870912,t.lanes|=e,er|=e)}function ia(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xw(t,e,n){var i=e.pendingProps;switch(vp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ne(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ei($e),Qo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(go(e)?Hn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bf())),Ne(e),null;case 26:var s=e.type,o=e.memoizedState;return t===null?(Hn(e),o!==null?(Ne(e),xy(e,o)):(Ne(e),Xf(e,s,null,i,n))):o?o!==t.memoizedState?(Hn(e),Ne(e),xy(e,o)):(Ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Hn(e),Ne(e),Xf(e,s,t,i,n)),null;case 27:if(zu(e),n=qi.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(!i){if(e.stateNode===null)throw Error(O(166));return Ne(e),null}t=bn.current,go(e)?iy(e):(t=MA(s,i,n),e.stateNode=t,Hn(e))}return Ne(e),null;case 5:if(zu(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(!i){if(e.stateNode===null)throw Error(O(166));return Ne(e),null}if(o=bn.current,go(e))iy(e);else{var r=uc(qi.current);switch(o){case 1:o=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:o=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":o=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":o=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":o=r.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}o[ht]=e,o[qt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)o.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=o;e:switch(yt(o,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Hn(e)}}return Ne(e),Xf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(O(166));if(t=qi.current,go(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=pt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[ht]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||wA(t.nodeValue,n)),t||Wi(e,!0)}else t=uc(t).createTextNode(i),t[ht]=e,e.stateNode=t}return Ne(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=go(e),n!==null){if(t===null){if(!i)throw Error(O(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(557));t[ht]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),t=!1}else n=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Gt(e),e):(Gt(e),null);if(e.flags&128)throw Error(O(558))}return Ne(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=go(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[ht]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),s=!1}else s=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Gt(e),e):(Gt(e),null)}return Gt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ru(e,e.updateQueue),Ne(e),null);case 4:return Qo(),t===null&&Kp(e.stateNode.containerInfo),Ne(e),null;case 10:return ei(e.type),Ne(e),null;case 19:if(at(He),i=e.memoizedState,i===null)return Ne(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)ia(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wu(t),o!==null){for(e.flags|=128,ia(i,!1),t=o.updateQueue,e.updateQueue=t,ru(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)z0(n,t),n=n.sibling;return Re(He,He.current&1|2),ue&&Qn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Kt()>ic&&(e.flags|=128,s=!0,ia(i,!1),e.lanes=4194304)}else{if(!s)if(t=Wu(o),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,ru(e,t),ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Ne(e),null}else 2*Kt()-i.renderingStartTime>ic&&n!==536870912&&(e.flags|=128,s=!0,ia(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kt(),t.sibling=null,n=He.current,Re(He,s?n&1|2:n&1),ue&&Qn(e,i.treeForkCount),t):(Ne(e),null);case 22:case 23:return Gt(e),Cp(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),n=e.updateQueue,n!==null&&ru(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&at(Ns),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ei($e),Ne(e),null;case 25:return null;case 30:return null}throw Error(O(156,e.tag))}function Ww(t,e){switch(vp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei($e),Qo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return zu(e),null;case 31:if(e.memoizedState!==null){if(Gt(e),e.alternate===null)throw Error(O(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Gt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(He),null;case 4:return Qo(),null;case 10:return ei(e.type),null;case 22:case 23:return Gt(e),Cp(),t!==null&&at(Ns),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ei($e),null;case 25:return null;default:return null}}function zE(t,e){switch(vp(e),e.tag){case 3:ei($e),Qo();break;case 26:case 27:case 5:zu(e);break;case 4:Qo();break;case 31:e.memoizedState!==null&&Gt(e);break;case 13:Gt(e);break;case 19:at(He);break;case 10:ei(e.type);break;case 22:case 23:Gt(e),Cp(),t!==null&&at(Ns);break;case 24:ei($e)}}function hl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var o=n.create,r=n.inst;i=o(),r.destroy=i}n=n.next}while(n!==s)}}catch(a){ve(e,e.return,a)}}function Zi(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&t)===t){var r=i.inst,a=r.destroy;if(a!==void 0){r.destroy=void 0,s=e;var u=n,d=a;try{d()}catch(h){ve(s,u,h)}}}i=i.next}while(i!==o)}}catch(h){ve(e,e.return,h)}}function GE(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Z0(e,n)}catch(i){ve(t,t.return,i)}}}function HE(t,e,n){n.props=Ls(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ve(t,e,i)}}function Ra(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){ve(t,e,s)}}function Nn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){ve(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ve(t,e,s)}else n.current=null}function YE(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){ve(t,t.return,s)}}function Wf(t,e,n){try{var i=t.stateNode;vx(i,t.type,n,e),i[qt]=e}catch(s){ve(t,t.return,s)}}function KE(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ih(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wn));else if(i!==4&&(i===27&&as(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}function nc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&as(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(nc(t,e,n),t=t.sibling;t!==null;)nc(t,e,n),t=t.sibling}function JE(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);yt(e,i,n),e[ht]=t,e[qt]=n}catch(o){ve(t,t.return,o)}}var $n=!1,Qe=!1,jf=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Zw(t,e){if(t=t.containerInfo,ch=hc,t=V0(t),pp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var r=0,a=-1,u=-1,d=0,h=0,m=t,p=null;t:for(;;){for(var _;m!==n||s!==0&&m.nodeType!==3||(a=r+s),m!==o||i!==0&&m.nodeType!==3||(u=r+i),m.nodeType===3&&(r+=m.nodeValue.length),(_=m.firstChild)!==null;)p=m,m=_;for(;;){if(m===t)break t;if(p===n&&++d===s&&(a=r),p===o&&++h===i&&(u=r),(_=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fh={focusedElem:t,selectionRange:n},hc=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){switch(e=ot,o=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,s=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var x=Ls(n.type,s);t=i.getSnapshotBeforeUpdate(x,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(M){ve(n,n.return,M)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)hh(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(O(163))}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}}function QE(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n),i&4&&hl(5,n);break;case 1:if(Kn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){ve(n,n.return,r)}else{var s=Ls(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){ve(n,n.return,r)}}i&64&&GE(n),i&512&&Ra(n,n.return);break;case 3:if(Kn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Z0(t,e)}catch(r){ve(n,n.return,r)}}break;case 27:e===null&&i&4&&JE(n);case 26:case 5:Kn(t,n),e===null&&i&4&&YE(n),i&512&&Ra(n,n.return);break;case 12:Kn(t,n);break;case 31:Kn(t,n),i&4&&WE(t,n);break;case 13:Kn(t,n),i&4&&ZE(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=ax.bind(null,n),wx(t,n))));break;case 22:if(i=n.memoizedState!==null||$n,!i){e=e!==null&&e.memoizedState!==null||Qe,s=$n;var o=Qe;$n=i,(Qe=e)&&!o?Jn(t,n,(n.subtreeFlags&8772)!==0):Kn(t,n),$n=s,Qe=o}break;case 30:break;default:Kn(t,n)}}function $E(t){var e=t.alternate;e!==null&&(t.alternate=null,$E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ue=null,Pt=!1;function Yn(t,e,n){for(n=n.child;n!==null;)XE(t,e,n),n=n.sibling}function XE(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 26:Qe||Nn(n,e),Yn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qe||Nn(n,e);var i=Ue,s=Pt;as(n.type)&&(Ue=n.stateNode,Pt=!1),Yn(t,e,n),ba(n.stateNode),Ue=i,Pt=s;break;case 5:Qe||Nn(n,e);case 6:if(i=Ue,s=Pt,Ue=null,Yn(t,e,n),Ue=i,Pt=s,Ue!==null)if(Pt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(o){ve(n,e,o)}else try{Ue.removeChild(n.stateNode)}catch(o){ve(n,e,o)}break;case 18:Ue!==null&&(Pt?(t=Ue,zy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),sr(t)):zy(Ue,n.stateNode));break;case 4:i=Ue,s=Pt,Ue=n.stateNode.containerInfo,Pt=!0,Yn(t,e,n),Ue=i,Pt=s;break;case 0:case 11:case 14:case 15:Zi(2,n,e),Qe||Zi(4,n,e),Yn(t,e,n);break;case 1:Qe||(Nn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&HE(n,e,i)),Yn(t,e,n);break;case 21:Yn(t,e,n);break;case 22:Qe=(i=Qe)||n.memoizedState!==null,Yn(t,e,n),Qe=i;break;default:Yn(t,e,n)}}function WE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sr(t)}catch(n){ve(e,e.return,n)}}}function ZE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sr(t)}catch(n){ve(e,e.return,n)}}function jw(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ny),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ny),e;default:throw Error(O(435,t.tag))}}function au(t,e){var n=jw(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=lx.bind(null,t,i);i.then(s,s)}})}function Mt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],o=t,r=e,a=r;e:for(;a!==null;){switch(a.tag){case 27:if(as(a.type)){Ue=a.stateNode,Pt=!1;break e}break;case 5:Ue=a.stateNode,Pt=!1;break e;case 3:case 4:Ue=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(Ue===null)throw Error(O(160));XE(o,r,s),Ue=null,Pt=!1,o=s.alternate,o!==null&&(o.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)jE(e,t),e=e.sibling}var vn=null;function jE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mt(e,t),Dt(t),i&4&&(Zi(3,t,t.return),hl(3,t),Zi(5,t,t.return));break;case 1:Mt(e,t),Dt(t),i&512&&(Qe||n===null||Nn(n,n.return)),i&64&&$n&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=vn;if(Mt(e,t),Dt(t),i&512&&(Qe||n===null||Nn(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":o=s.getElementsByTagName("title")[0],(!o||o[ul]||o[ht]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=s.createElement(i),s.head.insertBefore(o,s.querySelector("head > title"))),yt(o,i,n),o[ht]=t,rt(o),i=o;break e;case"link":var r=$y("link","href",s).get(i+(n.href||""));if(r){for(var a=0;a<r.length;a++)if(o=r[a],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(a,1);break t}}o=s.createElement(i),yt(o,i,n),s.head.appendChild(o);break;case"meta":if(r=$y("meta","content",s).get(i+(n.content||""))){for(a=0;a<r.length;a++)if(o=r[a],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(a,1);break t}}o=s.createElement(i),yt(o,i,n),s.head.appendChild(o);break;default:throw Error(O(468,i))}o[ht]=t,rt(o),i=o}t.stateNode=i}else Xy(s,t.type,t.stateNode);else t.stateNode=Qy(s,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?Xy(s,t.type,t.stateNode):Qy(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Mt(e,t),Dt(t),i&512&&(Qe||n===null||Nn(n,n.return)),n!==null&&i&4&&Wf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Mt(e,t),Dt(t),i&512&&(Qe||n===null||Nn(n,n.return)),t.flags&32){s=t.stateNode;try{Xo(s,"")}catch(x){ve(t,t.return,x)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Wf(t,s,n!==null?n.memoizedProps:s)),i&1024&&(jf=!0);break;case 6:if(Mt(e,t),Dt(t),i&4){if(t.stateNode===null)throw Error(O(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(x){ve(t,t.return,x)}}break;case 3:if(Nu=null,s=vn,vn=cc(e.containerInfo),Mt(e,t),vn=s,Dt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{sr(e.containerInfo)}catch(x){ve(t,t.return,x)}jf&&(jf=!1,eA(t));break;case 4:i=vn,vn=cc(t.stateNode.containerInfo),Mt(e,t),Dt(t),vn=i;break;case 12:Mt(e,t),Dt(t);break;case 31:Mt(e,t),Dt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,au(t,i)));break;case 13:Mt(e,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qc=Kt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,au(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,d=$n,h=Qe;if($n=d||s,Qe=h||u,Mt(e,t),Qe=h,$n=d,Dt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||$n||Qe||Ss(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(o=u.stateNode,s)r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{a=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;a.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(x){ve(u,u.return,x)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(x){ve(u,u.return,x)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;s?Gy(_,!0):Gy(u.stateNode,!1)}catch(x){ve(u,u.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,au(t,n))));break;case 19:Mt(e,t),Dt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,au(t,i)));break;case 30:break;case 21:break;default:Mt(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(KE(i)){n=i;break}i=i.return}if(n==null)throw Error(O(160));switch(n.tag){case 27:var s=n.stateNode,o=Zf(t);nc(t,o,s);break;case 5:var r=n.stateNode;n.flags&32&&(Xo(r,""),n.flags&=-33);var a=Zf(t);nc(t,a,r);break;case 3:case 4:var u=n.stateNode.containerInfo,d=Zf(t);ih(t,d,u);break;default:throw Error(O(161))}}catch(h){ve(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;eA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Kn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)QE(t,e.alternate,e),e=e.sibling}function Ss(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zi(4,e,e.return),Ss(e);break;case 1:Nn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&HE(e,e.return,n),Ss(e);break;case 27:ba(e.stateNode);case 26:case 5:Nn(e,e.return),Ss(e);break;case 22:e.memoizedState===null&&Ss(e);break;case 30:Ss(e);break;default:Ss(e)}t=t.sibling}}function Jn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,o=e,r=o.flags;switch(o.tag){case 0:case 11:case 15:Jn(s,o,n),hl(4,o);break;case 1:if(Jn(s,o,n),i=o,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(d){ve(i,i.return,d)}if(i=o,s=i.updateQueue,s!==null){var a=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)W0(u[s],a)}catch(d){ve(i,i.return,d)}}n&&r&64&&GE(o),Ra(o,o.return);break;case 27:JE(o);case 26:case 5:Jn(s,o,n),n&&i===null&&r&4&&YE(o),Ra(o,o.return);break;case 12:Jn(s,o,n);break;case 31:Jn(s,o,n),n&&r&4&&WE(s,o);break;case 13:Jn(s,o,n),n&&r&4&&ZE(s,o);break;case 22:o.memoizedState===null&&Jn(s,o,n),Ra(o,o.return);break;case 30:break;default:Jn(s,o,n)}e=e.sibling}}function Fp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&fl(n))}function Bp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fl(t))}function _n(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tA(t,e,n,i),e=e.sibling}function tA(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:_n(t,e,n,i),s&2048&&hl(9,e);break;case 1:_n(t,e,n,i);break;case 3:_n(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fl(t)));break;case 12:if(s&2048){_n(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,r=o.id,a=o.onPostCommit;typeof a=="function"&&a(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ve(e,e.return,u)}}else _n(t,e,n,i);break;case 31:_n(t,e,n,i);break;case 13:_n(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,r=e.alternate,e.memoizedState!==null?o._visibility&2?_n(t,e,n,i):wa(t,e):o._visibility&2?_n(t,e,n,i):(o._visibility|=2,vo(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Fp(r,e);break;case 24:_n(t,e,n,i),s&2048&&Bp(e.alternate,e);break;default:_n(t,e,n,i)}}function vo(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var o=t,r=e,a=n,u=i,d=r.flags;switch(r.tag){case 0:case 11:case 15:vo(o,r,a,u,s),hl(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?vo(o,r,a,u,s):wa(o,r):(h._visibility|=2,vo(o,r,a,u,s)),s&&d&2048&&Fp(r.alternate,r);break;case 24:vo(o,r,a,u,s),s&&d&2048&&Bp(r.alternate,r);break;default:vo(o,r,a,u,s)}e=e.sibling}}function wa(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:wa(n,i),s&2048&&Fp(i.alternate,i);break;case 24:wa(n,i),s&2048&&Bp(i.alternate,i);break;default:wa(n,i)}e=e.sibling}}var da=8192;function yo(t,e,n){if(t.subtreeFlags&da)for(t=t.child;t!==null;)nA(t,e,n),t=t.sibling}function nA(t,e,n){switch(t.tag){case 26:yo(t,e,n),t.flags&da&&t.memoizedState!==null&&Ox(n,vn,t.memoizedState,t.memoizedProps);break;case 5:yo(t,e,n);break;case 3:case 4:var i=vn;vn=cc(t.stateNode.containerInfo),yo(t,e,n),vn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=da,da=16777216,yo(t,e,n),da=i):yo(t,e,n));break;default:yo(t,e,n)}}function iA(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function sa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ot=i,oA(i,t)}iA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sA(t),t=t.sibling}function sA(t){switch(t.tag){case 0:case 11:case 15:sa(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:sa(t);break;case 12:sa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,wu(t)):sa(t);break;default:sa(t)}}function wu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ot=i,oA(i,t)}iA(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zi(8,e,e.return),wu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,wu(e));break;default:wu(e)}t=t.sibling}}function oA(t,e){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:Zi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:fl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ot=i;else e:for(n=t;ot!==null;){i=ot;var s=i.sibling,o=i.return;if($E(i),i===n){ot=null;break e}if(s!==null){s.return=o,ot=s;break e}ot=o}}}var ex={getCacheForType:function(t){var e=gt($e),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return gt($e).controller.signal}},tx=typeof WeakMap=="function"?WeakMap:Map,me=0,Ie=null,re=null,le=0,_e=0,zt=null,Pi=!1,vr=!1,zp=!1,ai=0,Be=0,ji=0,Ms=0,Gp=0,Yt=0,er=0,xa=null,Vt=null,sh=!1,Qc=0,rA=0,ic=1/0,sc=null,zi=null,Ze=0,Gi=null,tr=null,ti=0,oh=0,rh=null,aA=null,Na=0,ah=null;function $t(){return me&2&&le!==0?le&-le:Z.T!==null?Yp():g0()}function lA(){if(Yt===0)if(!(le&536870912)||ue){var t=jl;jl<<=1,!(jl&3932160)&&(jl=262144),Yt=t}else Yt=536870912;return t=Zt.current,t!==null&&(t.flags|=32),Yt}function Ut(t,e,n){(t===Ie&&(_e===2||_e===9)||t.cancelPendingCommit!==null)&&(nr(t,0),Vi(t,le,Yt,!1)),ll(t,n),(!(me&2)||t!==Ie)&&(t===Ie&&(!(me&2)&&(Ms|=n),Be===4&&Vi(t,le,Yt,!1)),Ln(t))}function uA(t,e,n){if(me&6)throw Error(O(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||al(t,e),s=i?sx(t,e):ed(t,e,!0),o=i;do{if(s===0){vr&&!i&&Vi(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!nx(n)){s=ed(t,e,!1),o=!1;continue}if(s===2){if(o=e,t.errorRecoveryDisabledLanes&o)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var a=t;s=xa;var u=a.current.memoizedState.isDehydrated;if(u&&(nr(a,r).flags|=256),r=ed(a,r,!1),r!==2){if(zp&&!u){a.errorRecoveryDisabledLanes|=o,Ms|=o,s=4;break e}o=Vt,Vt=s,o!==null&&(Vt===null?Vt=o:Vt.push.apply(Vt,o))}s=r}if(o=!1,s!==2)continue}}if(s===1){nr(t,0),Vi(t,e,0,!0);break}e:{switch(i=t,o=s,o){case 0:case 1:throw Error(O(345));case 4:if((e&4194048)!==e)break;case 6:Vi(i,e,Yt,!Pi);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(O(329))}if((e&62914560)===e&&(s=Qc+300-Kt(),10<s)){if(Vi(i,e,Yt,!Pi),Lc(i,0,!0)!==0)break e;ti=e,i.timeoutHandle=NA(by.bind(null,i,n,Vt,sc,sh,e,Yt,Ms,er,Pi,o,"Throttled",-0,0),s);break e}by(i,n,Vt,sc,sh,e,Yt,Ms,er,Pi,o,null,-0,0)}}break}while(!0);Ln(t)}function by(t,e,n,i,s,o,r,a,u,d,h,m,p,_){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},nA(e,o,m);var x=(o&62914560)===o?Qc-Kt():(o&4194048)===o?rA-Kt():0;if(x=Fx(m,x),x!==null){ti=o,t.cancelPendingCommit=x(Dy.bind(null,t,e,o,n,i,s,r,a,u,h,m,null,p,_)),Vi(t,o,r,!d);return}}Dy(t,e,o,n,i,s,r,a,u)}function nx(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!Wt(o(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e,n,i){e&=~Gp,e&=~Ms,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var o=31-Qt(s),r=1<<o;i[o]=-1,s&=~r}n!==0&&h0(t,n,e)}function $c(){return me&6?!0:(pl(0),!1)}function Hp(){if(re!==null){if(_e===0)var t=re.return;else t=re,Zn=Qs=null,Np(t),Bo=null,Ga=0,t=re;for(;t!==null;)zE(t.alternate,t),t=t.return;re=null}}function nr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Ax(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ti=0,Hp(),Ie=t,re=n=jn(t.current,null),le=e,_e=0,zt=null,Pi=!1,vr=al(t,e),zp=!1,er=Yt=Gp=Ms=ji=Be=0,Vt=xa=null,sh=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Qt(i),o=1<<s;e|=t[s],i&=~o}return ai=e,Bc(),n}function cA(t,e){se=null,Z.H=Ya,e===_r||e===Gc?(e=ly(),_e=3):e===Ap?(e=ly(),_e=4):_e=e===qp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,zt=e,re===null&&(Be=1,ec(t,rn(e,t.current)))}function fA(){var t=Zt.current;return t===null?!0:(le&4194048)===le?un===null:(le&62914560)===le||le&536870912?t===un:!1}function dA(){var t=Z.H;return Z.H=Ya,t===null?Ya:t}function hA(){var t=Z.A;return Z.A=ex,t}function oc(){Be=4,Pi||(le&4194048)!==le&&Zt.current!==null||(vr=!0),!(ji&134217727)&&!(Ms&134217727)||Ie===null||Vi(Ie,le,Yt,!1)}function ed(t,e,n){var i=me;me|=2;var s=dA(),o=hA();(Ie!==t||le!==e)&&(sc=null,nr(t,e)),e=!1;var r=Be;e:do try{if(_e!==0&&re!==null){var a=re,u=zt;switch(_e){case 8:Hp(),r=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(e=!0);var d=_e;if(_e=0,zt=null,Uo(t,a,u,d),n&&vr){r=0;break e}break;default:d=_e,_e=0,zt=null,Uo(t,a,u,d)}}ix(),r=Be;break}catch(h){cA(t,h)}while(!0);return e&&t.shellSuspendCounter++,Zn=Qs=null,me=i,Z.H=s,Z.A=o,re===null&&(Ie=null,le=0,Bc()),r}function ix(){for(;re!==null;)pA(re)}function sx(t,e){var n=me;me|=2;var i=dA(),s=hA();Ie!==t||le!==e?(sc=null,ic=Kt()+500,nr(t,e)):vr=al(t,e);e:do try{if(_e!==0&&re!==null){e=re;var o=zt;t:switch(_e){case 1:_e=0,zt=null,Uo(t,e,o,1);break;case 2:case 9:if(ay(o)){_e=0,zt=null,My(e);break}e=function(){_e!==2&&_e!==9||Ie!==t||(_e=7),Ln(t)},o.then(e,e);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:ay(o)?(_e=0,zt=null,My(e)):(_e=0,zt=null,Uo(t,e,o,7));break;case 5:var r=null;switch(re.tag){case 26:r=re.memoizedState;case 5:case 27:var a=re;if(r?VA(r):a.stateNode.complete){_e=0,zt=null;var u=a.sibling;if(u!==null)re=u;else{var d=a.return;d!==null?(re=d,Xc(d)):re=null}break t}}_e=0,zt=null,Uo(t,e,o,5);break;case 6:_e=0,zt=null,Uo(t,e,o,6);break;case 8:Hp(),Be=6;break e;default:throw Error(O(462))}}ox();break}catch(h){cA(t,h)}while(!0);return Zn=Qs=null,Z.H=i,Z.A=s,me=n,re!==null?0:(Ie=null,le=0,Bc(),Be)}function ox(){for(;re!==null&&!xR();)pA(re)}function pA(t){var e=BE(t.alternate,t,ai);t.memoizedProps=t.pendingProps,e===null?Xc(t):re=e}function My(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Cy(n,e,e.pendingProps,e.type,void 0,le);break;case 11:e=Cy(n,e,e.pendingProps,e.type.render,e.ref,le);break;case 5:Np(e);default:zE(n,e),e=re=z0(e,ai),e=BE(n,e,ai)}t.memoizedProps=t.pendingProps,e===null?Xc(t):re=e}function Uo(t,e,n,i){Zn=Qs=null,Np(e),Bo=null,Ga=0;var s=e.return;try{if(Jw(t,s,e,n,le)){Be=1,ec(t,rn(n,t.current)),re=null;return}}catch(o){if(s!==null)throw re=s,o;Be=1,ec(t,rn(n,t.current)),re=null;return}e.flags&32768?(ue||i===1?t=!0:vr||le&536870912?t=!1:(Pi=t=!0,(i===2||i===9||i===3||i===6)&&(i=Zt.current,i!==null&&i.tag===13&&(i.flags|=16384))),mA(e,t)):Xc(e)}function Xc(t){var e=t;do{if(e.flags&32768){mA(e,Pi);return}t=e.return;var n=Xw(e.alternate,e,ai);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);Be===0&&(Be=5)}function mA(t,e){do{var n=Ww(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);Be=6,re=null}function Dy(t,e,n,i,s,o,r,a,u){t.cancelPendingCommit=null;do Wc();while(Ze!==0);if(me&6)throw Error(O(327));if(e!==null){if(e===t.current)throw Error(O(177));if(o=e.lanes|e.childLanes,o|=mp,qR(t,n,o,r,a,u),t===Ie&&(re=Ie=null,le=0),tr=e,Gi=t,ti=n,oh=o,rh=s,aA=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,ux(Gu,function(){return TA(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Z.T,Z.T=null,s=ge.p,ge.p=2,r=me,me|=4;try{Zw(t,e,n)}finally{me=r,ge.p=s,Z.T=i}}Ze=1,gA(),yA(),_A()}}function gA(){if(Ze===1){Ze=0;var t=Gi,e=tr,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=ge.p;ge.p=2;var s=me;me|=4;try{jE(e,t);var o=fh,r=V0(t.containerInfo),a=o.focusedElem,u=o.selectionRange;if(r!==a&&a&&a.ownerDocument&&P0(a.ownerDocument.documentElement,a)){if(u!==null&&pp(a)){var d=u.start,h=u.end;if(h===void 0&&(h=d),"selectionStart"in a)a.selectionStart=d,a.selectionEnd=Math.min(h,a.value.length);else{var m=a.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var _=p.getSelection(),x=a.textContent.length,M=Math.min(u.start,x),U=u.end===void 0?M:Math.min(u.end,x);!_.extend&&M>U&&(r=U,U=M,M=r);var I=ey(a,M),A=ey(a,U);if(I&&A&&(_.rangeCount!==1||_.anchorNode!==I.node||_.anchorOffset!==I.offset||_.focusNode!==A.node||_.focusOffset!==A.offset)){var T=m.createRange();T.setStart(I.node,I.offset),_.removeAllRanges(),M>U?(_.addRange(T),_.extend(A.node,A.offset)):(T.setEnd(A.node,A.offset),_.addRange(T))}}}}for(m=[],_=a;_=_.parentNode;)_.nodeType===1&&m.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<m.length;a++){var D=m[a];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}hc=!!ch,fh=ch=null}finally{me=s,ge.p=i,Z.T=n}}t.current=e,Ze=2}}function yA(){if(Ze===2){Ze=0;var t=Gi,e=tr,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=ge.p;ge.p=2;var s=me;me|=4;try{QE(t,e.alternate,e)}finally{me=s,ge.p=i,Z.T=n}}Ze=3}}function _A(){if(Ze===4||Ze===3){Ze=0,NR();var t=Gi,e=tr,n=ti,i=aA;e.subtreeFlags&10256||e.flags&10256?Ze=5:(Ze=0,tr=Gi=null,vA(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(zi=null),ap(n),e=e.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Z.T,s=ge.p,ge.p=2,Z.T=null;try{for(var o=t.onRecoverableError,r=0;r<i.length;r++){var a=i[r];o(a.value,{componentStack:a.stack})}}finally{Z.T=e,ge.p=s}}ti&3&&Wc(),Ln(t),s=t.pendingLanes,n&261930&&s&42?t===ah?Na++:(Na=0,ah=t):Na=0,pl(0)}}function vA(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,fl(e)))}function Wc(){return gA(),yA(),_A(),TA()}function TA(){if(Ze!==5)return!1;var t=Gi,e=oh;oh=0;var n=ap(ti),i=Z.T,s=ge.p;try{ge.p=32>n?32:n,Z.T=null,n=rh,rh=null;var o=Gi,r=ti;if(Ze=0,tr=Gi=null,ti=0,me&6)throw Error(O(331));var a=me;if(me|=4,sA(o.current),tA(o,o.current,r,n),me=a,pl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(rl,o)}catch{}return!0}finally{ge.p=s,Z.T=i,vA(t,e)}}function Py(t,e,n){e=rn(n,e),e=eh(t.stateNode,e,2),t=Bi(t,e,2),t!==null&&(ll(t,2),Ln(t))}function ve(t,e,n){if(t.tag===3)Py(t,t,n);else for(;e!==null;){if(e.tag===3){Py(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zi===null||!zi.has(i))){t=rn(n,t),n=UE(2),i=Bi(e,n,2),i!==null&&(kE(n,i,e,t),ll(i,2),Ln(i));break}}e=e.return}}function td(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new tx;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(zp=!0,s.add(n),t=rx.bind(null,t,e,n),e.then(t,t))}function rx(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ie===t&&(le&n)===n&&(Be===4||Be===3&&(le&62914560)===le&&300>Kt()-Qc?!(me&2)&&nr(t,0):Gp|=n,er===le&&(er=0)),Ln(t)}function EA(t,e){e===0&&(e=d0()),t=Js(t,e),t!==null&&(ll(t,e),Ln(t))}function ax(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EA(t,n)}function lx(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(O(314))}i!==null&&i.delete(e),EA(t,n)}function ux(t,e){return op(t,e)}var rc=null,To=null,lh=!1,ac=!1,nd=!1,Ui=0;function Ln(t){t!==To&&t.next===null&&(To===null?rc=To=t:To=To.next=t),ac=!0,lh||(lh=!0,fx())}function pl(t,e){if(!nd&&ac){nd=!0;do for(var n=!1,i=rc;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var o=0;else{var r=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-Qt(42|t)+1)-1,o&=s&~(r&~a),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Vy(i,o))}else o=le,o=Lc(i,i===Ie?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||al(i,o)||(n=!0,Vy(i,o));i=i.next}while(n);nd=!1}}function cx(){AA()}function AA(){ac=lh=!1;var t=0;Ui!==0&&Ex()&&(t=Ui);for(var e=Kt(),n=null,i=rc;i!==null;){var s=i.next,o=SA(i,e);o===0?(i.next=null,n===null?rc=s:n.next=s,s===null&&(To=n)):(n=i,(t!==0||o&3)&&(ac=!0)),i=s}Ze!==0&&Ze!==5||pl(t),Ui!==0&&(Ui=0)}function SA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var r=31-Qt(o),a=1<<r,u=s[r];u===-1?(!(a&n)||a&i)&&(s[r]=LR(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}if(e=Ie,n=le,n=Lc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(_e===2||_e===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&bf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||al(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&bf(i),ap(n)){case 2:case 8:n=c0;break;case 32:n=Gu;break;case 268435456:n=f0;break;default:n=Gu}return i=CA.bind(null,t),n=op(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&bf(i),t.callbackPriority=2,t.callbackNode=null,2}function CA(t,e){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Wc()&&t.callbackNode!==n)return null;var i=le;return i=Lc(t,t===Ie?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(uA(t,i,e),SA(t,Kt()),t.callbackNode!=null&&t.callbackNode===n?CA.bind(null,t):null)}function Vy(t,e){if(Wc())return null;uA(t,e,!0)}function fx(){Sx(function(){me&6?op(u0,cx):AA()})}function Yp(){if(Ui===0){var t=Wo;t===0&&(t=Zl,Zl<<=1,!(Zl&261888)&&(Zl=256)),Ui=t}return Ui}function Uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_u(""+t)}function ky(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function dx(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var o=Uy((s[qt]||null).action),r=i.submitter;r&&(e=(e=r[qt]||null)?Uy(e.formAction):r.getAttribute("formAction"),e!==null&&(o=e,r=null));var a=new qc("action","action",null,i,s);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ui!==0){var u=r?ky(s,r):new FormData(s);Zd(n,{pending:!0,data:u,method:s.method,action:o},null,u)}}else typeof o=="function"&&(a.preventDefault(),u=r?ky(s,r):new FormData(s),Zd(n,{pending:!0,data:u,method:s.method,action:o},o,u))},currentTarget:s}]})}}for(var id=0;id<Fd.length;id++){var sd=Fd[id],hx=sd.toLowerCase(),px=sd[0].toUpperCase()+sd.slice(1);Sn(hx,"on"+px)}Sn(k0,"onAnimationEnd");Sn(L0,"onAnimationIteration");Sn(q0,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(bw,"onTransitionRun");Sn(Mw,"onTransitionStart");Sn(Dw,"onTransitionCancel");Sn(O0,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function IA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var r=i.length-1;0<=r;r--){var a=i[r],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=d;try{o(s)}catch(h){Yu(h)}s.currentTarget=null,o=u}else for(r=0;r<i.length;r++){if(a=i[r],u=a.instance,d=a.currentTarget,a=a.listener,u!==o&&s.isPropagationStopped())break e;o=a,s.currentTarget=d;try{o(s)}catch(h){Yu(h)}s.currentTarget=null,o=u}}}}function oe(t,e){var n=e[Dd];n===void 0&&(n=e[Dd]=new Set);var i=t+"__bubble";n.has(i)||(RA(e,t,2,!1),n.add(i))}function od(t,e,n){var i=0;e&&(i|=4),RA(n,t,i,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Kp(t){if(!t[lu]){t[lu]=!0,y0.forEach(function(n){n!=="selectionchange"&&(mx.has(n)||od(n,!1,t),od(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,od("selectionchange",!1,e))}}function RA(t,e,n,i){switch(OA(e)){case 2:var s=Gx;break;case 8:s=Hx;break;default:s=Xp}n=s.bind(null,e,n,t),s=void 0,!Ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rd(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var a=i.stateNode.containerInfo;if(a===s)break;if(r===4)for(r=i.return;r!==null;){var u=r.tag;if((u===3||u===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;a!==null;){if(r=Ro(a),r===null)return;if(u=r.tag,u===5||u===6||u===26||u===27){i=o=r;continue e}a=a.parentNode}}i=i.return}I0(function(){var d=o,h=cp(n),m=[];e:{var p=F0.get(t);if(p!==void 0){var _=qc,x=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":_=lw;break;case"focusin":x="focus",_=Uf;break;case"focusout":x="blur",_=Uf;break;case"beforeblur":case"afterblur":_=Uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=fw;break;case k0:case L0:case q0:_=jR;break;case O0:_=hw;break;case"scroll":case"scrollend":_=QR;break;case"wheel":_=mw;break;case"copy":case"cut":case"paste":_=tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Kg;break;case"toggle":case"beforetoggle":_=yw}var M=(e&4)!==0,U=!M&&(t==="scroll"||t==="scrollend"),I=M?p!==null?p+"Capture":null:p;M=[];for(var A=d,T;A!==null;){var D=A;if(T=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||T===null||I===null||(D=qa(A,I),D!=null&&M.push(Ja(A,D,T))),U)break;A=A.return}0<M.length&&(p=new _(p,x,null,n,h),m.push({event:p,listeners:M}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==kd&&(x=n.relatedTarget||n.fromElement)&&(Ro(x)||x[mr]))break e;if((_||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=d,x=x?Ro(x):null,x!==null&&(U=ol(x),M=x.tag,x!==U||M!==5&&M!==27&&M!==6)&&(x=null)):(_=null,x=d),_!==x)){if(M=Hg,D="onMouseLeave",I="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(M=Kg,D="onPointerLeave",I="onPointerEnter",A="pointer"),U=_==null?p:ca(_),T=x==null?p:ca(x),p=new M(D,A+"leave",_,n,h),p.target=U,p.relatedTarget=T,D=null,Ro(h)===d&&(M=new M(I,A+"enter",x,n,h),M.target=T,M.relatedTarget=U,D=M),U=D,_&&x)t:{for(M=gx,I=_,A=x,T=0,D=I;D;D=M(D))T++;D=0;for(var L=A;L;L=M(L))D++;for(;0<T-D;)I=M(I),T--;for(;0<D-T;)A=M(A),D--;for(;T--;){if(I===A||A!==null&&I===A.alternate){M=I;break t}I=M(I),A=M(A)}M=null}else M=null;_!==null&&Ly(m,p,_,M,!1),x!==null&&U!==null&&Ly(m,U,x,M,!0)}}e:{if(p=d?ca(d):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var B=Xg;else if($g(p))if(M0)B=ww;else{B=Iw;var R=Cw}else _=p.nodeName,!_||_.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&up(d.elementType)&&(B=Xg):B=Rw;if(B&&(B=B(t,d))){b0(m,B,n,h);break e}R&&R(t,p,d),t==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&Ud(p,"number",p.value)}switch(R=d?ca(d):window,t){case"focusin":($g(R)||R.contentEditable==="true")&&(No=R,qd=d,Ta=null);break;case"focusout":Ta=qd=No=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,ty(m,n,h);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":ty(m,n,h)}var C;if(hp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xo?x0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(w0&&n.locale!=="ko"&&(xo||S!=="onCompositionStart"?S==="onCompositionEnd"&&xo&&(C=R0()):(Di=h,fp="value"in Di?Di.value:Di.textContent,xo=!0)),R=lc(d,S),0<R.length&&(S=new Yg(S,t,null,n,h),m.push({event:S,listeners:R}),C?S.data=C:(C=N0(n),C!==null&&(S.data=C)))),(C=vw?Tw(t,n):Ew(t,n))&&(S=lc(d,"onBeforeInput"),0<S.length&&(R=new Yg("onBeforeInput","beforeinput",null,n,h),m.push({event:R,listeners:S}),R.data=C)),dx(m,t,d,n,h)}IA(m,e)})}function Ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||o===null||(s=qa(t,n),s!=null&&i.unshift(Ja(t,s,o)),s=qa(t,e),s!=null&&i.push(Ja(t,s,o))),t.tag===3)return i;t=t.return}return[]}function gx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ly(t,e,n,i,s){for(var o=e._reactName,r=[];n!==null&&n!==i;){var a=n,u=a.alternate,d=a.stateNode;if(a=a.tag,u!==null&&u===i)break;a!==5&&a!==26&&a!==27||d===null||(u=d,s?(d=qa(n,o),d!=null&&r.unshift(Ja(n,d,u))):s||(d=qa(n,o),d!=null&&r.push(Ja(n,d,u)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var yx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(yx,`
`).replace(_x,"")}function wA(t,e){return e=qy(e),qy(t)===e}function Ae(t,e,n,i,s,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Xo(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Xo(t,""+i);break;case"className":tu(t,"class",i);break;case"tabIndex":tu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":tu(t,n,i);break;case"style":C0(t,i,o);break;case"data":if(e!=="object"){tu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=_u(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&Ae(t,e,"name",s.name,s,null),Ae(t,e,"formEncType",s.formEncType,s,null),Ae(t,e,"formMethod",s.formMethod,s,null),Ae(t,e,"formTarget",s.formTarget,s,null)):(Ae(t,e,"encType",s.encType,s,null),Ae(t,e,"method",s.method,s,null),Ae(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=_u(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Wn);break;case"onScroll":i!=null&&oe("scroll",t);break;case"onScrollEnd":i!=null&&oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(O(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(O(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=_u(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":oe("beforetoggle",t),oe("toggle",t),yu(t,"popover",i);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":yu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=KR.get(n)||n,yu(t,n,i))}}function uh(t,e,n,i,s,o){switch(n){case"style":C0(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(O(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(O(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Xo(t,i):(typeof i=="number"||typeof i=="bigint")&&Xo(t,""+i);break;case"onScroll":i!=null&&oe("scroll",t);break;case"onScrollEnd":i!=null&&oe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),o=t[qt]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,s),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):yu(t,n,i)}}}function yt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",t),oe("load",t);var i=!1,s=!1,o;for(o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r!=null)switch(o){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(O(137,e));default:Ae(t,e,o,r,n,null)}}s&&Ae(t,e,"srcSet",n.srcSet,n,null),i&&Ae(t,e,"src",n.src,n,null);return;case"input":oe("invalid",t);var a=o=r=s=null,u=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":a=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(O(137,e));break;default:Ae(t,e,i,h,n,null)}}E0(t,o,a,u,d,r,s,!1);return;case"select":oe("invalid",t),i=r=o=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":o=a;break;case"defaultValue":r=a;break;case"multiple":i=a;default:Ae(t,e,s,a,n,null)}e=o,n=r,t.multiple=!!i,e!=null?qo(t,!!i,e,!1):n!=null&&qo(t,!!i,n,!0);return;case"textarea":oe("invalid",t),o=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(a=n[r],a!=null))switch(r){case"value":i=a;break;case"defaultValue":s=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(O(91));break;default:Ae(t,e,r,a,n,null)}S0(t,i,s,o);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ae(t,e,u,i,n,null)}return;case"dialog":oe("beforetoggle",t),oe("toggle",t),oe("cancel",t),oe("close",t);break;case"iframe":case"object":oe("load",t);break;case"video":case"audio":for(i=0;i<Ka.length;i++)oe(Ka[i],t);break;case"image":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"embed":case"source":case"link":oe("error",t),oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(i=n[d],i!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(O(137,e));default:Ae(t,e,d,i,n,null)}return;default:if(up(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&uh(t,e,h,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&Ae(t,e,a,i,n,null))}function vx(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,r=null,a=null,u=null,d=null,h=null;for(_ in n){var m=n[_];if(n.hasOwnProperty(_)&&m!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(_)||Ae(t,e,_,null,i,m)}}for(var p in i){var _=i[p];if(m=n[p],i.hasOwnProperty(p)&&(_!=null||m!=null))switch(p){case"type":o=_;break;case"name":s=_;break;case"checked":d=_;break;case"defaultChecked":h=_;break;case"value":r=_;break;case"defaultValue":a=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(O(137,e));break;default:_!==m&&Ae(t,e,p,_,i,m)}}Vd(t,r,a,u,d,h,o,s);return;case"select":_=r=a=p=null;for(o in n)if(u=n[o],n.hasOwnProperty(o)&&u!=null)switch(o){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(o)||Ae(t,e,o,null,i,u)}for(s in i)if(o=i[s],u=n[s],i.hasOwnProperty(s)&&(o!=null||u!=null))switch(s){case"value":p=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:o!==u&&Ae(t,e,s,o,i,u)}e=a,n=r,i=_,p!=null?qo(t,!!n,p,!1):!!i!=!!n&&(e!=null?qo(t,!!n,e,!0):qo(t,!!n,n?[]:"",!1));return;case"textarea":_=p=null;for(a in n)if(s=n[a],n.hasOwnProperty(a)&&s!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Ae(t,e,a,null,i,s)}for(r in i)if(s=i[r],o=n[r],i.hasOwnProperty(r)&&(s!=null||o!=null))switch(r){case"value":p=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(O(91));break;default:s!==o&&Ae(t,e,r,s,i,o)}A0(t,p,_);return;case"option":for(var x in n)if(p=n[x],n.hasOwnProperty(x)&&p!=null&&!i.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:Ae(t,e,x,null,i,p)}for(u in i)if(p=i[u],_=n[u],i.hasOwnProperty(u)&&p!==_&&(p!=null||_!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ae(t,e,u,p,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)p=n[M],n.hasOwnProperty(M)&&p!=null&&!i.hasOwnProperty(M)&&Ae(t,e,M,null,i,p);for(d in i)if(p=i[d],_=n[d],i.hasOwnProperty(d)&&p!==_&&(p!=null||_!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(O(137,e));break;default:Ae(t,e,d,p,i,_)}return;default:if(up(e)){for(var U in n)p=n[U],n.hasOwnProperty(U)&&p!==void 0&&!i.hasOwnProperty(U)&&uh(t,e,U,void 0,i,p);for(h in i)p=i[h],_=n[h],!i.hasOwnProperty(h)||p===_||p===void 0&&_===void 0||uh(t,e,h,p,i,_);return}}for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!=null&&!i.hasOwnProperty(I)&&Ae(t,e,I,null,i,p);for(m in i)p=i[m],_=n[m],!i.hasOwnProperty(m)||p===_||p==null&&_==null||Ae(t,e,m,p,i,_)}function Oy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],o=s.transferSize,r=s.initiatorType,a=s.duration;if(o&&a&&Oy(r)){for(r=0,a=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],d=u.startTime;if(d>a)break;var h=u.transferSize,m=u.initiatorType;h&&Oy(m)&&(u=u.responseEnd,r+=h*(u<a?1:(a-d)/(u-d)))}if(--i,e+=8*(o+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ch=null,fh=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function Fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function dh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ad=null;function Ex(){var t=window.event;return t&&t.type==="popstate"?t===ad?!1:(ad=t,!0):(ad=null,!1)}var NA=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(Cx)}:NA;function Cx(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function zy(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),sr(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ba(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,ba(n);for(var o=n.firstChild;o;){var r=o.nextSibling,a=o.nodeName;o[ul]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=r}}else n==="body"&&ba(t.ownerDocument.body);n=s}while(n);sr(e)}function Gy(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function hh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hh(n),lp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Ix(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ul])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=cn(t.nextSibling),t===null)break}return null}function Rx(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=cn(t.nextSibling),t===null))return null;return t}function bA(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=cn(t.nextSibling),t===null))return null;return t}function ph(t){return t.data==="$?"||t.data==="$~"}function mh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wx(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var gh=null;function Hy(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return cn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Yy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function MA(t,e,n){switch(e=uc(n),t){case"html":if(t=e.documentElement,!t)throw Error(O(452));return t;case"head":if(t=e.head,!t)throw Error(O(453));return t;case"body":if(t=e.body,!t)throw Error(O(454));return t;default:throw Error(O(451))}}function ba(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lp(t)}var dn=new Map,Ky=new Set;function cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pi=ge.d;ge.d={f:xx,r:Nx,D:bx,C:Mx,L:Dx,m:Px,X:Ux,S:Vx,M:kx};function xx(){var t=pi.f(),e=$c();return t||e}function Nx(t){var e=gr(t);e!==null&&e.tag===5&&e.type==="form"?CE(e):pi.r(t)}var Tr=typeof document>"u"?null:document;function DA(t,e,n){var i=Tr;if(i&&typeof e=="string"&&e){var s=on(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Ky.has(s)||(Ky.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),yt(e,"link",t),rt(e),i.head.appendChild(e)))}}function bx(t){pi.D(t),DA("dns-prefetch",t,null)}function Mx(t,e){pi.C(t,e),DA("preconnect",t,e)}function Dx(t,e,n){pi.L(t,e,n);var i=Tr;if(i&&t&&e){var s='link[rel="preload"][as="'+on(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+on(n.imageSizes)+'"]')):s+='[href="'+on(t)+'"]';var o=s;switch(e){case"style":o=ir(t);break;case"script":o=Er(t)}dn.has(o)||(t=Ve({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),dn.set(o,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(ml(o))||e==="script"&&i.querySelector(gl(o))||(e=i.createElement("link"),yt(e,"link",t),rt(e),i.head.appendChild(e)))}}function Px(t,e){pi.m(t,e);var n=Tr;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+on(i)+'"][href="'+on(t)+'"]',o=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Er(t)}if(!dn.has(o)&&(t=Ve({rel:"modulepreload",href:t},e),dn.set(o,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gl(o)))return}i=n.createElement("link"),yt(i,"link",t),rt(i),n.head.appendChild(i)}}}function Vx(t,e,n){pi.S(t,e,n);var i=Tr;if(i&&t){var s=Lo(i).hoistableStyles,o=ir(t);e=e||"default";var r=s.get(o);if(!r){var a={loading:0,preload:null};if(r=i.querySelector(ml(o)))a.loading=5;else{t=Ve({rel:"stylesheet",href:t,"data-precedence":e},n),(n=dn.get(o))&&Jp(t,n);var u=r=i.createElement("link");rt(u),yt(u,"link",t),u._p=new Promise(function(d,h){u.onload=d,u.onerror=h}),u.addEventListener("load",function(){a.loading|=1}),u.addEventListener("error",function(){a.loading|=2}),a.loading|=4,xu(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:a},s.set(o,r)}}}function Ux(t,e){pi.X(t,e);var n=Tr;if(n&&t){var i=Lo(n).hoistableScripts,s=Er(t),o=i.get(s);o||(o=n.querySelector(gl(s)),o||(t=Ve({src:t,async:!0},e),(e=dn.get(s))&&Qp(t,e),o=n.createElement("script"),rt(o),yt(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(s,o))}}function kx(t,e){pi.M(t,e);var n=Tr;if(n&&t){var i=Lo(n).hoistableScripts,s=Er(t),o=i.get(s);o||(o=n.querySelector(gl(s)),o||(t=Ve({src:t,async:!0,type:"module"},e),(e=dn.get(s))&&Qp(t,e),o=n.createElement("script"),rt(o),yt(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(s,o))}}function Jy(t,e,n,i){var s=(s=qi.current)?cc(s):null;if(!s)throw Error(O(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ir(n.href),n=Lo(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ir(n.href);var o=Lo(s).hoistableStyles,r=o.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,r),(o=s.querySelector(ml(t)))&&!o._p&&(r.instance=o,r.state.loading=5),dn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dn.set(t,n),o||Lx(s,t,n,r.state))),e&&i===null)throw Error(O(528,""));return r}if(e&&i!==null)throw Error(O(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Er(n),n=Lo(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(O(444,t))}}function ir(t){return'href="'+on(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function PA(t){return Ve({},t,{"data-precedence":t.precedence,precedence:null})}function Lx(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),yt(e,"link",n),rt(e),t.head.appendChild(e))}function Er(t){return'[src="'+on(t)+'"]'}function gl(t){return"script[async]"+t}function Qy(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+on(n.href)+'"]');if(i)return e.instance=i,rt(i),i;var s=Ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),rt(i),yt(i,"style",s),xu(i,n.precedence,t),e.instance=i;case"stylesheet":s=ir(n.href);var o=t.querySelector(ml(s));if(o)return e.state.loading|=4,e.instance=o,rt(o),o;i=PA(n),(s=dn.get(s))&&Jp(i,s),o=(t.ownerDocument||t).createElement("link"),rt(o);var r=o;return r._p=new Promise(function(a,u){r.onload=a,r.onerror=u}),yt(o,"link",i),e.state.loading|=4,xu(o,n.precedence,t),e.instance=o;case"script":return o=Er(n.src),(s=t.querySelector(gl(o)))?(e.instance=s,rt(s),s):(i=n,(s=dn.get(o))&&(i=Ve({},n),Qp(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),rt(s),yt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(O(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,xu(i,n.precedence,t));return e.instance}function xu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,o=s,r=0;r<i.length;r++){var a=i[r];if(a.dataset.precedence===e)o=a;else if(o!==s)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Jp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Qp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nu=null;function $y(t,e,n){if(Nu===null){var i=new Map,s=Nu=new Map;s.set(n,i)}else s=Nu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var o=n[s];if(!(o[ul]||o[ht]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var r=o.getAttribute(e)||"";r=t+r;var a=i.get(r);a?a.push(o):i.set(r,[o])}}return i}function Xy(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function qx(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function VA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Ox(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=ir(i.href),o=e.querySelector(ml(s));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=fc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=o,rt(o);return}o=e.ownerDocument||e,i=PA(i),(s=dn.get(s))&&Jp(i,s),o=o.createElement("link"),rt(o);var r=o;r._p=new Promise(function(a,u){r.onload=a,r.onerror=u}),yt(o,"link",i),n.instance=o}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=fc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ld=0;function Fx(t,e){return t.stylesheets&&t.count===0&&bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&bu(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4+e);0<t.imgBytes&&ld===0&&(ld=62500*Tx());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bu(t,t.stylesheets),t.unsuspend)){var o=t.unsuspend;t.unsuspend=null,o()}},(t.imgBytes>ld?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function bu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,e.forEach(Bx,t),dc=null,fc.call(t))}function Bx(t,e){if(!(e.state.loading&4)){var n=dc.get(t);if(n)var i=n.get(null);else{n=new Map,dc.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<s.length;o++){var r=s[o];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),o=n.get(r)||i,o===i&&n.set(null,s),n.set(r,s),this.count++,i=fc.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),o?o.parentNode.insertBefore(s,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Qa={$$typeof:Xn,Provider:null,Consumer:null,_currentValue:ws,_currentValue2:ws,_threadCount:0};function zx(t,e,n,i,s,o,r,a,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.hiddenUpdates=Mf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=o,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function UA(t,e,n,i,s,o,r,a,u,d,h,m){return t=new zx(t,e,n,r,u,d,h,m,a),e=1,o===!0&&(e|=24),o=Ht(3,null,null,e),t.current=o,o.stateNode=t,e=Tp(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},Sp(o),t}function kA(t){return t?(t=Do,t):Do}function LA(t,e,n,i,s,o){s=kA(s),i.context===null?i.context=s:i.pendingContext=s,i=Fi(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Bi(t,i,e),n!==null&&(Ut(n,t,e),Aa(n,t,e))}function Wy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $p(t,e){Wy(t,e),(t=t.alternate)&&Wy(t,e)}function qA(t){if(t.tag===13||t.tag===31){var e=Js(t,67108864);e!==null&&Ut(e,t,67108864),$p(t,67108864)}}function Zy(t){if(t.tag===13||t.tag===31){var e=$t();e=rp(e);var n=Js(t,e);n!==null&&Ut(n,t,e),$p(t,e)}}var hc=!0;function Gx(t,e,n,i){var s=Z.T;Z.T=null;var o=ge.p;try{ge.p=2,Xp(t,e,n,i)}finally{ge.p=o,Z.T=s}}function Hx(t,e,n,i){var s=Z.T;Z.T=null;var o=ge.p;try{ge.p=8,Xp(t,e,n,i)}finally{ge.p=o,Z.T=s}}function Xp(t,e,n,i){if(hc){var s=yh(i);if(s===null)rd(t,e,i,pc,n),jy(t,i);else if(Kx(s,t,e,n,i))i.stopPropagation();else if(jy(t,i),e&4&&-1<Yx.indexOf(t)){for(;s!==null;){var o=gr(s);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var r=Es(o.pendingLanes);if(r!==0){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;r;){var u=1<<31-Qt(r);a.entanglements[1]|=u,r&=~u}Ln(o),!(me&6)&&(ic=Kt()+500,pl(0))}}break;case 31:case 13:a=Js(o,2),a!==null&&Ut(a,o,2),$c(),$p(o,2)}if(o=yh(i),o===null&&rd(t,e,i,pc,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else rd(t,e,i,null,n)}}function yh(t){return t=cp(t),Wp(t)}var pc=null;function Wp(t){if(pc=null,t=Ro(t),t!==null){var e=ol(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=s0(e),t!==null)return t;t=null}else if(n===31){if(t=o0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return pc=t,null}function OA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bR()){case u0:return 2;case c0:return 8;case Gu:case MR:return 32;case f0:return 268435456;default:return 32}default:return 32}}var _h=!1,Hi=null,Yi=null,Ki=null,$a=new Map,Xa=new Map,bi=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":$a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(e.pointerId)}}function oa(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=gr(e),e!==null&&qA(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Kx(t,e,n,i,s){switch(e){case"focusin":return Hi=oa(Hi,t,e,n,i,s),!0;case"dragenter":return Yi=oa(Yi,t,e,n,i,s),!0;case"mouseover":return Ki=oa(Ki,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return $a.set(o,oa($a.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Xa.set(o,oa(Xa.get(o)||null,t,e,n,i,s)),!0}return!1}function FA(t){var e=Ro(t.target);if(e!==null){var n=ol(e);if(n!==null){if(e=n.tag,e===13){if(e=s0(n),e!==null){t.blockedOn=e,Lg(t.priority,function(){Zy(n)});return}}else if(e===31){if(e=o0(n),e!==null){t.blockedOn=e,Lg(t.priority,function(){Zy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yh(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);kd=i,n.target.dispatchEvent(i),kd=null}else return e=gr(n),e!==null&&qA(e),t.blockedOn=n,!1;e.shift()}return!0}function e_(t,e,n){Mu(t)&&n.delete(e)}function Jx(){_h=!1,Hi!==null&&Mu(Hi)&&(Hi=null),Yi!==null&&Mu(Yi)&&(Yi=null),Ki!==null&&Mu(Ki)&&(Ki=null),$a.forEach(e_),Xa.forEach(e_)}function uu(t,e){t.blockedOn===e&&(t.blockedOn=null,_h||(_h=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Jx)))}var cu=null;function t_(t){cu!==t&&(cu=t,et.unstable_scheduleCallback(et.unstable_NormalPriority,function(){cu===t&&(cu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Wp(i||n)===null)continue;break}var o=gr(n);o!==null&&(t.splice(e,3),e-=3,Zd(o,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function sr(t){function e(u){return uu(u,t)}Hi!==null&&uu(Hi,t),Yi!==null&&uu(Yi,t),Ki!==null&&uu(Ki,t),$a.forEach(e),Xa.forEach(e);for(var n=0;n<bi.length;n++){var i=bi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)FA(n),n.blockedOn===null&&bi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],o=n[i+1],r=s[qt]||null;if(typeof o=="function")r||t_(n);else if(r){var a=null;if(o&&o.hasAttribute("formAction")){if(s=o,r=o[qt]||null)a=r.formAction;else if(Wp(s)!==null)continue}else a=r.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),t_(n)}}}function BA(){function t(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Zp(t){this._internalRoot=t}Zc.prototype.render=Zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));var n=e.current,i=$t();LA(n,i,t,e,null,null)};Zc.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;LA(t.current,2,null,t,null,null),$c(),e[mr]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=g0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&FA(t)}};var n_=n0.version;if(n_!=="19.2.1")throw Error(O(527,n_,"19.2.1"));ge.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=SR(e),t=t!==null?r0(t):null,t=t===null?null:t.stateNode,t};var Qx={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{rl=fu.inject(Qx),Jt=fu}catch{}}Uc.createRoot=function(t,e){if(!i0(t))throw Error(O(299));var n=!1,i="",s=DE,o=PE,r=VE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=UA(t,1,!1,null,null,n,i,null,s,o,r,BA),t[mr]=e.current,Kp(t),new Zp(e)};Uc.hydrateRoot=function(t,e,n){if(!i0(t))throw Error(O(299));var i=!1,s="",o=DE,r=PE,a=VE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=UA(t,1,!0,e,n??null,i,s,u,o,r,a,BA),e.context=kA(null),n=e.current,i=$t(),i=rp(i),s=Fi(i),s.callback=null,Bi(n,s,i),n=i,e.current.lanes=n,ll(e,n),Ln(e),t[mr]=e.current,Kp(t),new Zc(e)};Uc.version="19.2.1";function zA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zA)}catch(t){console.error(t)}}zA(),XT.exports=Uc;var $x=XT.exports;const Xx=FT($x);var Tn=(t=>(t.ADMIN="ADMIN",t.USER="USER",t))(Tn||{}),i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Wx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],r=t[n++],a=t[n++],u=((s&7)<<18|(o&63)<<12|(r&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|r&63)}}return e.join("")},HA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],r=s+1<t.length,a=r?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=o>>2,m=(o&3)<<4|a>>4;let p=(a&15)<<2|d>>6,_=d&63;u||(_=64,r||(p=64)),i.push(n[h],n[m],n[p],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||d==null||m==null)throw new Zx;const p=o<<2|a>>4;if(i.push(p),d!==64){const _=a<<4&240|d>>2;if(i.push(_),m!==64){const x=d<<6&192|m;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jx=function(t){const e=GA(t);return HA.encodeByteArray(e,!0)},mc=function(t){return jx(t).replace(/\./g,"")},eN=function(t){try{return HA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=()=>tN().__FIREBASE_DEFAULTS__,iN=()=>{if(typeof process>"u"||typeof i_>"u")return;const t=i_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eN(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return nN()||iN()||sN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oN=t=>{var e,n;return(n=(e=jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rN=t=>{const e=oN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},YA=()=>{var t;return(t=jp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mc(JSON.stringify(n)),mc(JSON.stringify(r)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cN(){var t;const e=(t=jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dN(){return!cN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function hN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="FirebaseError";class ls extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pN,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],r=o?mN(o,i):"Error",a=`${this.serviceName}: ${r} (${s}).`;return new ls(s,a,i)}}function mN(t,e){return t.replace(gN,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gN=/\{\$([^}]+)}/g;function gc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],r=e[s];if(s_(o)&&s_(r)){if(!gc(o,r))return!1}else if(o!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function s_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,_N=2,vN=4*60*60*1e3,TN=.5;function o_(t,e=yN,n=_N){const i=e*Math.pow(n,t),s=Math.round(TN*i*(Math.random()-.5)*2);return Math.min(vN,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SN(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);i===a&&r.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const r=this.instances.get(s);return r&&e(r,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AN(t){return t===Cs?void 0:t}function SN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const IN={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},RN=fe.INFO,wN={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},xN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=wN[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=RN,this._logHandler=xN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const NN=(t,e)=>e.some(n=>t instanceof n);let r_,a_;function bN(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MN(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QA=new WeakMap,vh=new WeakMap,$A=new WeakMap,ud=new WeakMap,tm=new WeakMap;function DN(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",r)},o=()=>{n(Ji(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&QA.set(n,t)}).catch(()=>{}),tm.set(e,t),e}function PN(t){if(vh.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",r),t.removeEventListener("abort",r)},o=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",r),t.addEventListener("abort",r)});vh.set(t,e)}let Th={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$A.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VN(t){Th=t(Th)}function UN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(cd(this),e,...n);return $A.set(i,e.sort?e.sort():[e]),Ji(i)}:MN().includes(t)?function(...e){return t.apply(cd(this),e),Ji(QA.get(this))}:function(...e){return Ji(t.apply(cd(this),e))}}function kN(t){return typeof t=="function"?UN(t):(t instanceof IDBTransaction&&PN(t),NN(t,bN())?new Proxy(t,Th):t)}function Ji(t){if(t instanceof IDBRequest)return DN(t);if(ud.has(t))return ud.get(t);const e=kN(t);return e!==t&&(ud.set(t,e),tm.set(e,t)),e}const cd=t=>tm.get(t);function XA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const r=indexedDB.open(t,e),a=Ji(r);return i&&r.addEventListener("upgradeneeded",u=>{i(Ji(r.result),u.oldVersion,u.newVersion,Ji(r.transaction),u)}),n&&r.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const LN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],fd=new Map;function l_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=qN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||LN.includes(n)))return;const o=async function(r,...a){const u=this.transaction(r,s?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return fd.set(e,o),o}VN(t=>({...t,get:(e,n,i)=>l_(e,n)||t.get(e,n,i),has:(e,n)=>!!l_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function FN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eh="@firebase/app",u_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new em("@firebase/app"),BN="@firebase/app-compat",zN="@firebase/analytics-compat",GN="@firebase/analytics",HN="@firebase/app-check-compat",YN="@firebase/app-check",KN="@firebase/auth",JN="@firebase/auth-compat",QN="@firebase/database",$N="@firebase/data-connect",XN="@firebase/database-compat",WN="@firebase/functions",ZN="@firebase/functions-compat",jN="@firebase/installations",e1="@firebase/installations-compat",t1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",s1="@firebase/performance-compat",o1="@firebase/remote-config",r1="@firebase/remote-config-compat",a1="@firebase/storage",l1="@firebase/storage-compat",u1="@firebase/firestore",c1="@firebase/vertexai-preview",f1="@firebase/firestore-compat",d1="firebase",h1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="[DEFAULT]",p1={[Eh]:"fire-core",[BN]:"fire-core-compat",[GN]:"fire-analytics",[zN]:"fire-analytics-compat",[YN]:"fire-app-check",[HN]:"fire-app-check-compat",[KN]:"fire-auth",[JN]:"fire-auth-compat",[QN]:"fire-rtdb",[$N]:"fire-data-connect",[XN]:"fire-rtdb-compat",[WN]:"fire-fn",[ZN]:"fire-fn-compat",[jN]:"fire-iid",[e1]:"fire-iid-compat",[t1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[s1]:"fire-perf-compat",[o1]:"fire-rc",[r1]:"fire-rc-compat",[a1]:"fire-gcs",[l1]:"fire-gcs-compat",[u1]:"fire-fst",[f1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[d1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,m1=new Map,Sh=new Map;function c_(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(Sh.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Sh.set(e,t);for(const n of yc.values())c_(n,t);for(const n of m1.values())c_(n,t);return!0}function yl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new jc("app","Firebase",g1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=h1;function WA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ah,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Qi.create("bad-app-name",{appName:String(s)});if(n||(n=YA()),!n)throw Qi.create("no-options");const o=yc.get(s);if(o){if(gc(n,o.options)&&gc(i,o.config))return o;throw Qi.create("duplicate-app",{appName:s})}const r=new CN(s);for(const u of Sh.values())r.addComponent(u);const a=new y1(n,i,r);return yc.set(s,a),a}function ZA(t=Ah){const e=yc.get(t);if(!e&&t===Ah&&YA())return WA();if(!e)throw Qi.create("no-app",{appName:t});return e}function Mn(t,e,n){var i;let s=(i=p1[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),r=e.match(/\s|\//);if(o||r){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(a.join(" "));return}ts(new li(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",T1=1,Wa="firebase-heartbeat-store";let dd=null;function jA(){return dd||(dd=XA(v1,T1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),dd}async function E1(t){try{const n=(await jA()).transaction(Wa),i=await n.objectStore(Wa).get(eS(t));return await n.done,i}catch(e){if(e instanceof ls)ui.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function f_(t,e){try{const i=(await jA()).transaction(Wa,"readwrite");await i.objectStore(Wa).put(e,eS(t)),await i.done}catch(n){if(n instanceof ls)ui.warn(n.message);else{const i=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(i.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30*24*60*60*1e3;class C1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R1(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=d_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const a=new Date(r.date).valueOf();return Date.now()-a<=S1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:i,unsentEntries:s}=I1(this._heartbeatsCache.heartbeats),o=mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ui.warn(n),""}}}function d_(){return new Date().toISOString().substring(0,10)}function I1(t,e=A1){const n=[];let i=t.slice();for(const s of t){const o=n.find(r=>r.agent===s.agent);if(o){if(o.dates.push(s.date),h_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),h_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class R1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function h_(t){return mc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){ts(new li("platform-logger",e=>new ON(e),"PRIVATE")),ts(new li("heartbeat",e=>new C1(e),"PRIVATE")),Mn(Eh,u_,t),Mn(Eh,u_,"esm2017"),Mn("fire-js","")}w1("");var x1="firebase",N1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(x1,N1,"app");const tS="@firebase/installations",nm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1e4,iS=`w:${nm}`,sS="FIS_v2",b1="https://firebaseinstallations.googleapis.com/v1",M1=60*60*1e3,D1="installations",P1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qs=new jc(D1,P1,V1);function oS(t){return t instanceof ls&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS({projectId:t}){return`${b1}/projects/${t}/installations`}function aS(t){return{token:t.token,requestStatus:2,expiresIn:k1(t.expiresIn),creationTime:Date.now()}}async function lS(t,e){const i=(await e.json()).error;return qs.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function uS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U1(t,{refreshToken:e}){const n=uS(t);return n.append("Authorization",L1(e)),n}async function cS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function k1(t){return Number(t.replace("s","000"))}function L1(t){return`${sS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=rS(t),s=uS(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const r={fid:n,authVersion:sS,appId:t.appId,sdkVersion:iS},a={method:"POST",headers:s,body:JSON.stringify(r)},u=await cS(()=>fetch(i,a));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:aS(d.authToken)}}else throw await lS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=/^[cdef][\w-]{21}$/,Ch="";function B1(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z1(t);return F1.test(n)?n:Ch}catch{return Ch}}function z1(t){return O1(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function hS(t,e){const n=ef(t);pS(n,e),G1(n,e)}function pS(t,e){const n=dS.get(t);if(n)for(const i of n)i(e)}function G1(t,e){const n=H1();n&&n.postMessage({key:t,fid:e}),Y1()}let Is=null;function H1(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{pS(t.data.key,t.data.fid)}),Is}function Y1(){dS.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebase-installations-database",J1=1,Os="firebase-installations-store";let hd=null;function im(){return hd||(hd=XA(K1,J1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Os)}}})),hd}async function _c(t,e){const n=ef(t),s=(await im()).transaction(Os,"readwrite"),o=s.objectStore(Os),r=await o.get(n);return await o.put(e,n),await s.done,(!r||r.fid!==e.fid)&&hS(t,e.fid),e}async function mS(t){const e=ef(t),i=(await im()).transaction(Os,"readwrite");await i.objectStore(Os).delete(e),await i.done}async function tf(t,e){const n=ef(t),s=(await im()).transaction(Os,"readwrite"),o=s.objectStore(Os),r=await o.get(n),a=e(r);return a===void 0?await o.delete(n):await o.put(a,n),await s.done,a&&(!r||r.fid!==a.fid)&&hS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){let e;const n=await tf(t.appConfig,i=>{const s=Q1(i),o=$1(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===Ch?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Q1(t){const e=t||{fid:B1(),registrationStatus:0};return gS(e)}function $1(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(qs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=X1(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:W1(t)}:{installationEntry:e}}async function X1(t,e){try{const n=await q1(t,e);return _c(t.appConfig,n)}catch(n){throw oS(n)&&n.customData.serverCode===409?await mS(t.appConfig):await _c(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function W1(t){let e=await p_(t.appConfig);for(;e.registrationStatus===1;)await fS(100),e=await p_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await sm(t);return i||n}return e}function p_(t){return tf(t,e=>{if(!e)throw qs.create("installation-not-found");return gS(e)})}function gS(t){return Z1(t)?{fid:t.fid,registrationStatus:0}:t}function Z1(t){return t.registrationStatus===1&&t.registrationTime+nS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1({appConfig:t,heartbeatServiceProvider:e},n){const i=eb(t,n),s=U1(t,n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const r={installation:{sdkVersion:iS,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(r)},u=await cS(()=>fetch(i,a));if(u.ok){const d=await u.json();return aS(d)}else throw await lS("Generate Auth Token",u)}function eb(t,{fid:e}){return`${rS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t,e=!1){let n;const i=await tf(t.appConfig,o=>{if(!yS(o))throw qs.create("not-registered");const r=o.authToken;if(!e&&ib(r))return o;if(r.requestStatus===1)return n=tb(t,e),o;{if(!navigator.onLine)throw qs.create("app-offline");const a=ob(o);return n=nb(t,a),a}});return n?await n:i.authToken}async function tb(t,e){let n=await m_(t.appConfig);for(;n.authToken.requestStatus===1;)await fS(100),n=await m_(t.appConfig);const i=n.authToken;return i.requestStatus===0?om(t,e):i}function m_(t){return tf(t,e=>{if(!yS(e))throw qs.create("not-registered");const n=e.authToken;return rb(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nb(t,e){try{const n=await j1(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await _c(t.appConfig,i),n}catch(n){if(oS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mS(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _c(t.appConfig,i)}throw n}}function yS(t){return t!==void 0&&t.registrationStatus===2}function ib(t){return t.requestStatus===2&&!sb(t)}function sb(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+M1}function ob(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function rb(t){return t.requestStatus===1&&t.requestTime+nS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(t){const e=t,{installationEntry:n,registrationPromise:i}=await sm(e);return i?i.catch(console.error):om(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(t,e=!1){const n=t;return await ub(n),(await om(n,e)).token}async function ub(t){const{registrationPromise:e}=await sm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t){if(!t||!t.options)throw pd("App Configuration");if(!t.name)throw pd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pd(t){return qs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="installations",fb="installations-internal",db=t=>{const e=t.getProvider("app").getImmediate(),n=cb(e),i=yl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},hb=t=>{const e=t.getProvider("app").getImmediate(),n=yl(e,_S).getImmediate();return{getId:()=>ab(n),getToken:s=>lb(n,s)}};function pb(){ts(new li(_S,db,"PUBLIC")),ts(new li(fb,hb,"PRIVATE"))}pb();Mn(tS,nm);Mn(tS,nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="analytics",mb="firebase_id",gb="origin",yb=60*1e3,_b="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt=new em("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xt=new jc("analytics","Analytics",vb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){if(!t.startsWith(rm)){const e=Xt.create("invalid-gtag-resource",{gtagURL:t});return kt.warn(e.message),""}return t}function vS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Eb(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Ab(t,e){const n=Eb("firebase-js-sdk-policy",{createScriptURL:Tb}),i=document.createElement("script"),s=`${rm}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function Sb(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Cb(t,e,n,i,s,o){const r=i[s];try{if(r)await e[r];else{const u=(await vS(n)).find(d=>d.measurementId===s);u&&await e[u.appId]}}catch(a){kt.error(a)}t("config",s,o)}async function Ib(t,e,n,i,s){try{let o=[];if(s&&s.send_to){let r=s.send_to;Array.isArray(r)||(r=[r]);const a=await vS(n);for(const u of r){const d=a.find(m=>m.measurementId===u),h=d&&e[d.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,s||{})}catch(o){kt.error(o)}}function Rb(t,e,n,i){async function s(o,...r){try{if(o==="event"){const[a,u]=r;await Ib(t,e,n,a,u)}else if(o==="config"){const[a,u]=r;await Cb(t,e,n,i,a,u)}else if(o==="consent"){const[a,u]=r;t("consent",a,u)}else if(o==="get"){const[a,u,d]=r;t("get",a,u,d)}else if(o==="set"){const[a]=r;t("set",a)}else t(o,...r)}catch(a){kt.error(a)}}return s}function wb(t,e,n,i,s){let o=function(...r){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=Rb(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function xb(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=30,bb=1e3;class Mb{constructor(e={},n=bb){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TS=new Mb;function Db(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Pb(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:Db(i)},o=_b.replace("{app-id}",n),r=await fetch(o,s);if(r.status!==200&&r.status!==304){let a="";try{const u=await r.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:r.status,responseMessage:a})}return r.json()}async function Vb(t,e=TS,n){const{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw Xt.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Xt.create("no-api-key")}const r=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lb;return setTimeout(async()=>{a.abort()},yb),ES({appId:i,apiKey:s,measurementId:o},r,a,e)}async function ES(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=TS){var o;const{appId:r,measurementId:a}=t;try{await Ub(i,e)}catch(u){if(a)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:r,measurementId:a};throw u}try{const u=await Pb(t);return s.deleteThrottleMetadata(r),u}catch(u){const d=u;if(!kb(d)){if(s.deleteThrottleMetadata(r),a)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:r,measurementId:a};throw u}const h=Number((o=d==null?void 0:d.customData)===null||o===void 0?void 0:o.httpStatus)===503?o_(n,s.intervalMillis,Nb):o_(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(r,m),kt.debug(`Calling attemptFetch again in ${h} millis`),ES(t,m,i,s)}}function Ub(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),i(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kb(t){if(!(t instanceof ls)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Lb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qb(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const o=await e,r=Object.assign(Object.assign({},i),{send_to:o});t("event",n,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(){if(KA())try{await JA()}catch(t){return kt.warn(Xt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kt.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Fb(t,e,n,i,s,o,r){var a;const u=Vb(t);u.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>kt.error(_)),e.push(u);const d=Ob().then(_=>{if(_)return i.getId()}),[h,m]=await Promise.all([u,d]);xb(o)||Ab(o,h.measurementId),s("js",new Date);const p=(a=r==null?void 0:r.config)!==null&&a!==void 0?a:{};return p[gb]="firebase",p.update=!0,m!=null&&(p[mb]=m),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.app=e}_delete(){return delete Ma[this.app.options.appId],Promise.resolve()}}let Ma={},g_=[];const y_={};let md="dataLayer",zb="gtag",__,AS,v_=!1;function Gb(){const t=[];if(fN()&&t.push("This is a browser extension environment."),hN()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});kt.warn(n.message)}}function Hb(t,e,n){Gb();const i=t.options.appId;if(!i)throw Xt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xt.create("no-api-key");if(Ma[i]!=null)throw Xt.create("already-exists",{id:i});if(!v_){Sb(md);const{wrappedGtag:o,gtagCore:r}=wb(Ma,g_,y_,md,zb);AS=o,__=r,v_=!0}return Ma[i]=Fb(t,g_,y_,e,__,md,n),new Bb(t)}function Yb(t=ZA()){t=es(t);const e=yl(t,vc);return e.isInitialized()?e.getImmediate():Kb(t)}function Kb(t,e={}){const n=yl(t,vc);if(n.isInitialized()){const s=n.getImmediate();if(gc(e,n.getOptions()))return s;throw Xt.create("already-initialized")}return n.initialize({options:e})}function Jb(t,e,n,i){t=es(t),qb(AS,Ma[t.app.options.appId],e,n,i).catch(s=>kt.error(s))}const T_="@firebase/analytics",E_="0.10.8";function Qb(){ts(new li(vc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Hb(i,s,n)},"PUBLIC")),ts(new li("analytics-internal",t,"PRIVATE")),Mn(T_,E_),Mn(T_,E_,"esm2017");function t(e){try{const n=e.getProvider(vc).getImmediate();return{logEvent:(i,s,o)=>Jb(n,i,s,o)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}}}Qb();var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,SS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function S(){}S.prototype=C.prototype,R.D=C.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(w,b,P){for(var N=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)N[tt-2]=arguments[tt];return C.prototype[b].apply(w,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,C,S){S||(S=0);var w=Array(16);if(typeof C=="string")for(var b=0;16>b;++b)w[b]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(b=0;16>b;++b)w[b]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=R.g[0],S=R.g[1],b=R.g[2];var P=R.g[3],N=C+(P^S&(b^P))+w[0]+3614090360&4294967295;C=S+(N<<7&4294967295|N>>>25),N=P+(b^C&(S^b))+w[1]+3905402710&4294967295,P=C+(N<<12&4294967295|N>>>20),N=b+(S^P&(C^S))+w[2]+606105819&4294967295,b=P+(N<<17&4294967295|N>>>15),N=S+(C^b&(P^C))+w[3]+3250441966&4294967295,S=b+(N<<22&4294967295|N>>>10),N=C+(P^S&(b^P))+w[4]+4118548399&4294967295,C=S+(N<<7&4294967295|N>>>25),N=P+(b^C&(S^b))+w[5]+1200080426&4294967295,P=C+(N<<12&4294967295|N>>>20),N=b+(S^P&(C^S))+w[6]+2821735955&4294967295,b=P+(N<<17&4294967295|N>>>15),N=S+(C^b&(P^C))+w[7]+4249261313&4294967295,S=b+(N<<22&4294967295|N>>>10),N=C+(P^S&(b^P))+w[8]+1770035416&4294967295,C=S+(N<<7&4294967295|N>>>25),N=P+(b^C&(S^b))+w[9]+2336552879&4294967295,P=C+(N<<12&4294967295|N>>>20),N=b+(S^P&(C^S))+w[10]+4294925233&4294967295,b=P+(N<<17&4294967295|N>>>15),N=S+(C^b&(P^C))+w[11]+2304563134&4294967295,S=b+(N<<22&4294967295|N>>>10),N=C+(P^S&(b^P))+w[12]+1804603682&4294967295,C=S+(N<<7&4294967295|N>>>25),N=P+(b^C&(S^b))+w[13]+4254626195&4294967295,P=C+(N<<12&4294967295|N>>>20),N=b+(S^P&(C^S))+w[14]+2792965006&4294967295,b=P+(N<<17&4294967295|N>>>15),N=S+(C^b&(P^C))+w[15]+1236535329&4294967295,S=b+(N<<22&4294967295|N>>>10),N=C+(b^P&(S^b))+w[1]+4129170786&4294967295,C=S+(N<<5&4294967295|N>>>27),N=P+(S^b&(C^S))+w[6]+3225465664&4294967295,P=C+(N<<9&4294967295|N>>>23),N=b+(C^S&(P^C))+w[11]+643717713&4294967295,b=P+(N<<14&4294967295|N>>>18),N=S+(P^C&(b^P))+w[0]+3921069994&4294967295,S=b+(N<<20&4294967295|N>>>12),N=C+(b^P&(S^b))+w[5]+3593408605&4294967295,C=S+(N<<5&4294967295|N>>>27),N=P+(S^b&(C^S))+w[10]+38016083&4294967295,P=C+(N<<9&4294967295|N>>>23),N=b+(C^S&(P^C))+w[15]+3634488961&4294967295,b=P+(N<<14&4294967295|N>>>18),N=S+(P^C&(b^P))+w[4]+3889429448&4294967295,S=b+(N<<20&4294967295|N>>>12),N=C+(b^P&(S^b))+w[9]+568446438&4294967295,C=S+(N<<5&4294967295|N>>>27),N=P+(S^b&(C^S))+w[14]+3275163606&4294967295,P=C+(N<<9&4294967295|N>>>23),N=b+(C^S&(P^C))+w[3]+4107603335&4294967295,b=P+(N<<14&4294967295|N>>>18),N=S+(P^C&(b^P))+w[8]+1163531501&4294967295,S=b+(N<<20&4294967295|N>>>12),N=C+(b^P&(S^b))+w[13]+2850285829&4294967295,C=S+(N<<5&4294967295|N>>>27),N=P+(S^b&(C^S))+w[2]+4243563512&4294967295,P=C+(N<<9&4294967295|N>>>23),N=b+(C^S&(P^C))+w[7]+1735328473&4294967295,b=P+(N<<14&4294967295|N>>>18),N=S+(P^C&(b^P))+w[12]+2368359562&4294967295,S=b+(N<<20&4294967295|N>>>12),N=C+(S^b^P)+w[5]+4294588738&4294967295,C=S+(N<<4&4294967295|N>>>28),N=P+(C^S^b)+w[8]+2272392833&4294967295,P=C+(N<<11&4294967295|N>>>21),N=b+(P^C^S)+w[11]+1839030562&4294967295,b=P+(N<<16&4294967295|N>>>16),N=S+(b^P^C)+w[14]+4259657740&4294967295,S=b+(N<<23&4294967295|N>>>9),N=C+(S^b^P)+w[1]+2763975236&4294967295,C=S+(N<<4&4294967295|N>>>28),N=P+(C^S^b)+w[4]+1272893353&4294967295,P=C+(N<<11&4294967295|N>>>21),N=b+(P^C^S)+w[7]+4139469664&4294967295,b=P+(N<<16&4294967295|N>>>16),N=S+(b^P^C)+w[10]+3200236656&4294967295,S=b+(N<<23&4294967295|N>>>9),N=C+(S^b^P)+w[13]+681279174&4294967295,C=S+(N<<4&4294967295|N>>>28),N=P+(C^S^b)+w[0]+3936430074&4294967295,P=C+(N<<11&4294967295|N>>>21),N=b+(P^C^S)+w[3]+3572445317&4294967295,b=P+(N<<16&4294967295|N>>>16),N=S+(b^P^C)+w[6]+76029189&4294967295,S=b+(N<<23&4294967295|N>>>9),N=C+(S^b^P)+w[9]+3654602809&4294967295,C=S+(N<<4&4294967295|N>>>28),N=P+(C^S^b)+w[12]+3873151461&4294967295,P=C+(N<<11&4294967295|N>>>21),N=b+(P^C^S)+w[15]+530742520&4294967295,b=P+(N<<16&4294967295|N>>>16),N=S+(b^P^C)+w[2]+3299628645&4294967295,S=b+(N<<23&4294967295|N>>>9),N=C+(b^(S|~P))+w[0]+4096336452&4294967295,C=S+(N<<6&4294967295|N>>>26),N=P+(S^(C|~b))+w[7]+1126891415&4294967295,P=C+(N<<10&4294967295|N>>>22),N=b+(C^(P|~S))+w[14]+2878612391&4294967295,b=P+(N<<15&4294967295|N>>>17),N=S+(P^(b|~C))+w[5]+4237533241&4294967295,S=b+(N<<21&4294967295|N>>>11),N=C+(b^(S|~P))+w[12]+1700485571&4294967295,C=S+(N<<6&4294967295|N>>>26),N=P+(S^(C|~b))+w[3]+2399980690&4294967295,P=C+(N<<10&4294967295|N>>>22),N=b+(C^(P|~S))+w[10]+4293915773&4294967295,b=P+(N<<15&4294967295|N>>>17),N=S+(P^(b|~C))+w[1]+2240044497&4294967295,S=b+(N<<21&4294967295|N>>>11),N=C+(b^(S|~P))+w[8]+1873313359&4294967295,C=S+(N<<6&4294967295|N>>>26),N=P+(S^(C|~b))+w[15]+4264355552&4294967295,P=C+(N<<10&4294967295|N>>>22),N=b+(C^(P|~S))+w[6]+2734768916&4294967295,b=P+(N<<15&4294967295|N>>>17),N=S+(P^(b|~C))+w[13]+1309151649&4294967295,S=b+(N<<21&4294967295|N>>>11),N=C+(b^(S|~P))+w[4]+4149444226&4294967295,C=S+(N<<6&4294967295|N>>>26),N=P+(S^(C|~b))+w[11]+3174756917&4294967295,P=C+(N<<10&4294967295|N>>>22),N=b+(C^(P|~S))+w[2]+718787259&4294967295,b=P+(N<<15&4294967295|N>>>17),N=S+(P^(b|~C))+w[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(b+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+b&4294967295,R.g[3]=R.g[3]+P&4294967295}i.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var S=C-this.blockSize,w=this.B,b=this.h,P=0;P<C;){if(b==0)for(;P<=S;)s(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<C;)if(w[b++]=R.charCodeAt(P++),b==this.blockSize){s(this,w),b=0;break}}else for(;P<C;)if(w[b++]=R[P++],b==this.blockSize){s(this,w),b=0;break}}this.h=b,this.o+=C},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var S=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.u(R),R=Array(16),C=S=0;4>C;++C)for(var w=0;32>w;w+=8)R[S++]=this.g[C]>>>w&255;return R};function o(R,C){var S=a;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=C(R)}function r(R,C){this.h=C;for(var S=[],w=!0,b=R.length-1;0<=b;b--){var P=R[b]|0;w&&P==C||(S[b]=P,w=!1)}this.g=S}var a={};function u(R){return-128<=R&&128>R?o(R,function(C){return new r([C|0],0>C?-1:0)}):new r([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return m;if(0>R)return U(d(-R));for(var C=[],S=1,w=0;R>=S;w++)C[w]=R/S|0,S*=4294967296;return new r(C,0)}function h(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return U(h(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(C,8)),w=m,b=0;b<R.length;b+=8){var P=Math.min(8,R.length-b),N=parseInt(R.substring(b,b+P),C);8>P?(P=d(Math.pow(C,P)),w=w.j(P).add(d(N))):(w=w.j(S),w=w.add(d(N)))}return w}var m=u(0),p=u(1),_=u(16777216);t=r.prototype,t.m=function(){if(M(this))return-U(this).m();for(var R=0,C=1,S=0;S<this.g.length;S++){var w=this.i(S);R+=(0<=w?w:4294967296+w)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x(this))return"0";if(M(this))return"-"+U(this).toString(R);for(var C=d(Math.pow(R,6)),S=this,w="";;){var b=D(S,C).g;S=I(S,b.j(C));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=b,x(S))return P+w;for(;6>P.length;)P="0"+P;w=P+w}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function x(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=I(this,R),M(R)?-1:x(R)?0:1};function U(R){for(var C=R.g.length,S=[],w=0;w<C;w++)S[w]=~R.g[w];return new r(S,~R.h).add(p)}t.abs=function(){return M(this)?U(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),S=[],w=0,b=0;b<=C;b++){var P=w+(this.i(b)&65535)+(R.i(b)&65535),N=(P>>>16)+(this.i(b)>>>16)+(R.i(b)>>>16);w=N>>>16,P&=65535,N&=65535,S[b]=N<<16|P}return new r(S,S[S.length-1]&-2147483648?-1:0)};function I(R,C){return R.add(U(C))}t.j=function(R){if(x(this)||x(R))return m;if(M(this))return M(R)?U(this).j(U(R)):U(U(this).j(R));if(M(R))return U(this.j(U(R)));if(0>this.l(_)&&0>R.l(_))return d(this.m()*R.m());for(var C=this.g.length+R.g.length,S=[],w=0;w<2*C;w++)S[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<R.g.length;b++){var P=this.i(w)>>>16,N=this.i(w)&65535,tt=R.i(b)>>>16,Rt=R.i(b)&65535;S[2*w+2*b]+=N*Rt,A(S,2*w+2*b),S[2*w+2*b+1]+=P*Rt,A(S,2*w+2*b+1),S[2*w+2*b+1]+=N*tt,A(S,2*w+2*b+1),S[2*w+2*b+2]+=P*tt,A(S,2*w+2*b+2)}for(w=0;w<C;w++)S[w]=S[2*w+1]<<16|S[2*w];for(w=C;w<2*C;w++)S[w]=0;return new r(S,0)};function A(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function T(R,C){this.g=R,this.h=C}function D(R,C){if(x(C))throw Error("division by zero");if(x(R))return new T(m,m);if(M(R))return C=D(U(R),C),new T(U(C.g),U(C.h));if(M(C))return C=D(R,U(C)),new T(U(C.g),C.h);if(30<R.g.length){if(M(R)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var S=p,w=C;0>=w.l(R);)S=L(S),w=L(w);var b=B(S,1),P=B(w,1);for(w=B(w,2),S=B(S,2);!x(w);){var N=P.add(w);0>=N.l(R)&&(b=b.add(S),P=N),w=B(w,1),S=B(S,1)}return C=I(R,b.j(C)),new T(b,C)}for(b=m;0<=R.l(C);){for(S=Math.max(1,Math.floor(R.m()/C.m())),w=Math.ceil(Math.log(S)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),P=d(S),N=P.j(C);M(N)||0<N.l(R);)S-=w,P=d(S),N=P.j(C);x(P)&&(P=p),b=b.add(P),R=I(R,N)}return new T(b,R)}t.A=function(R){return D(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),S=[],w=0;w<C;w++)S[w]=this.i(w)&R.i(w);return new r(S,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),S=[],w=0;w<C;w++)S[w]=this.i(w)|R.i(w);return new r(S,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),S=[],w=0;w<C;w++)S[w]=this.i(w)^R.i(w);return new r(S,this.h^R.h)};function L(R){for(var C=R.g.length+1,S=[],w=0;w<C;w++)S[w]=R.i(w)<<1|R.i(w-1)>>>31;return new r(S,R.h)}function B(R,C){var S=C>>5;C%=32;for(var w=R.g.length-S,b=[],P=0;P<w;P++)b[P]=0<C?R.i(P+S)>>>C|R.i(P+S+1)<<32-C:R.i(P+S);return new r(b,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SS=i,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=d,r.fromString=h,Ds=r}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CS,ha,IS,Du,Ih,RS,wS,xS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof du=="object"&&du];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function s(c,g){if(g)e:{var y=i;c=c.split(".");for(var E=0;E<c.length-1;E++){var V=c[E];if(!(V in y))break e;y=y[V]}c=c[c.length-1],E=y[c],g=g(E),g!=E&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var y=0,E=!1,V={next:function(){if(!E&&y<c.length){var k=y++;return{value:g(k,c[k]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return o(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function u(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function d(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function h(c,g,y){return c.call.apply(c.bind,arguments)}function m(c,g,y){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),c.apply(g,V)}}return function(){return c.apply(g,arguments)}}function p(c,g,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function _(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function x(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(E,V,k){for(var H=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)H[Ce-2]=arguments[Ce];return g.prototype[V].apply(E,H)}}function M(c){const g=c.length;if(0<g){const y=Array(g);for(let E=0;E<g;E++)y[E]=c[E];return y}return[]}function U(c,g){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(u(E)){const V=c.length||0,k=E.length||0;c.length=V+k;for(let H=0;H<k;H++)c[V+H]=E[H]}else c.push(E)}}class I{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function A(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function B(c,g,y){for(const E in c)g.call(y,c[E],E,c)}function R(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function C(c){const g={};for(const y in c)g[y]=c[y];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,g){let y,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(y in E)c[y]=E[y];for(let k=0;k<S.length;k++)y=S[k],Object.prototype.hasOwnProperty.call(E,y)&&(c[y]=E[y])}}function b(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function P(c){a.setTimeout(()=>{throw c},0)}function N(){var c=ye;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class tt{constructor(){this.h=this.g=null}add(g,y){const E=Rt.get();E.set(g,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Rt=new I(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,j=!1,ye=new tt,we=()=>{const c=a.Promise.resolve(void 0);Q=()=>{c.then(qn)}};var qn=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(y){P(y)}var g=Rt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}j=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var jt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return c}();function bt(c,g){if(ke.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(L){e:{try{D(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:br[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bt.aa.h.call(this)}}x(bt,ke);var br={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var cs="closure_listenable_"+(1e6*Math.random()|0),Rl=0;function hn(c,g,y,E,V){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!E,this.ha=V,this.key=++Rl,this.da=this.fa=!1}function Ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fs(c){this.src=c,this.g={},this.h=0}fs.prototype.add=function(c,g,y,E,V){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var H=Zs(c,g,E,V);return-1<H?(g=c[H],y||(g.fa=!1)):(g=new hn(g,this.src,k,!!E,V),g.fa=y,c.push(g)),g};function ds(c,g){var y=g.type;if(y in c.g){var E=c.g[y],V=Array.prototype.indexOf.call(E,g,void 0),k;(k=0<=V)&&Array.prototype.splice.call(E,V,1),k&&(Ft(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Zs(c,g,y,E){for(var V=0;V<c.length;++V){var k=c[V];if(!k.da&&k.listener==g&&k.capture==!!y&&k.ha==E)return V}return-1}var pn="closure_lm_"+(1e6*Math.random()|0),js={};function yi(c,g,y,E,V){if(Array.isArray(g)){for(var k=0;k<g.length;k++)yi(c,g[k],y,E,V);return null}return y=xl(y),c&&c[cs]?c.K(g,y,d(E)?!!E.capture:!1,V):Mr(c,g,y,!1,E,V)}function Mr(c,g,y,E,V,k){if(!g)throw Error("Invalid event type");var H=d(V)?!!V.capture:!!V,Ce=to(c);if(Ce||(c[pn]=Ce=new fs(c)),y=Ce.add(g,y,E,H,k),y.proxy)return y;if(E=eo(),y.proxy=E,E.src=c,E.listener=y,c.addEventListener)jt||(V=H),V===void 0&&(V=!1),c.addEventListener(g.toString(),E,V);else if(c.attachEvent)c.attachEvent(Pr(g.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function eo(){function c(y){return g.call(c.src,c.listener,y)}const g=_f;return c}function wl(c,g,y,E,V){if(Array.isArray(g))for(var k=0;k<g.length;k++)wl(c,g[k],y,E,V);else E=d(E)?!!E.capture:!!E,y=xl(y),c&&c[cs]?(c=c.i,g=String(g).toString(),g in c.g&&(k=c.g[g],y=Zs(k,y,E,V),-1<y&&(Ft(k[y]),Array.prototype.splice.call(k,y,1),k.length==0&&(delete c.g[g],c.h--)))):c&&(c=to(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Zs(g,y,E,V)),(y=-1<c?g[c]:null)&&Dr(y))}function Dr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[cs])ds(g.i,c);else{var y=c.type,E=c.proxy;g.removeEventListener?g.removeEventListener(y,E,c.capture):g.detachEvent?g.detachEvent(Pr(y),E):g.addListener&&g.removeListener&&g.removeListener(E),(y=to(g))?(ds(y,c),y.h==0&&(y.src=null,g[pn]=null)):Ft(c)}}}function Pr(c){return c in js?js[c]:js[c]="on"+c}function _f(c,g){if(c.da)c=!0;else{g=new bt(g,this);var y=c.listener,E=c.ha||c.src;c.fa&&Dr(c),c=y.call(E,g)}return c}function to(c){return c=c[pn],c instanceof fs?c:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(c){return typeof c=="function"?c:(c[Vr]||(c[Vr]=function(g){return c.handleEvent(g)}),c[Vr])}function nt(){lt.call(this),this.i=new fs(this),this.M=this,this.F=null}x(nt,lt),nt.prototype[cs]=!0,nt.prototype.removeEventListener=function(c,g,y,E){wl(this,c,g,y,E)};function ut(c,g){var y,E=c.F;if(E)for(y=[];E;E=E.F)y.push(E);if(c=c.M,E=g.type||g,typeof g=="string")g=new ke(g,c);else if(g instanceof ke)g.target=g.target||c;else{var V=g;g=new ke(E,c),w(g,V)}if(V=!0,y)for(var k=y.length-1;0<=k;k--){var H=g.g=y[k];V=no(H,E,!0,g)&&V}if(H=g.g=c,V=no(H,E,!0,g)&&V,V=no(H,E,!1,g)&&V,y)for(k=0;k<y.length;k++)H=g.g=y[k],V=no(H,E,!1,g)&&V}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],E=0;E<y.length;E++)Ft(y[E]);delete c.g[g],c.h--}}this.F=null},nt.prototype.K=function(c,g,y,E){return this.i.add(String(c),g,!1,y,E)},nt.prototype.L=function(c,g,y,E){return this.i.add(String(c),g,!0,y,E)};function no(c,g,y,E){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,k=0;k<g.length;++k){var H=g[k];if(H&&!H.da&&H.capture==y){var Ce=H.listener,ct=H.ha||H.src;H.fa&&ds(c.i,H),V=Ce.call(ct,E)!==!1&&V}}return V&&!E.defaultPrevented}function In(c,g,y){if(typeof c=="function")y&&(c=p(c,y));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function io(c){c.g=In(()=>{c.g=null,c.i&&(c.i=!1,io(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Nl extends lt{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){lt.call(this),this.h=c,this.g={}}x(hs,lt);var bl=[];function so(c){B(c.g,function(g,y){this.g.hasOwnProperty(y)&&Dr(g)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),so(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=a.JSON.stringify,Ml=a.JSON.parse,Dl=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ro(){}ro.prototype.h=null;function Ur(c){return c.h||(c.h=c.i())}function kr(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ao(){ke.call(this,"d")}x(ao,ke);function lo(){ke.call(this,"c")}x(lo,ke);var Rn={},Lr=null;function ps(){return Lr=Lr||new nt}Rn.La="serverreachability";function qr(c){ke.call(this,Rn.La,c)}x(qr,ke);function vi(c){const g=ps();ut(g,new qr(g))}Rn.STAT_EVENT="statevent";function Or(c,g){ke.call(this,Rn.STAT_EVENT,c),this.stat=g}x(Or,ke);function it(c){const g=ps();ut(g,new Or(g,c))}Rn.Ma="timingevent";function Fr(c,g){ke.call(this,Rn.Ma,c),this.size=g}x(Fr,ke);function Ti(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Pl(c,g,y,E,V,k){c.info(function(){if(c.g)if(k)for(var H="",Ce=k.split("&"),ct=0;ct<Ce.length;ct++){var de=Ce[ct].split("=");if(1<de.length){var Tt=de[0];de=de[1];var Et=Tt.split("_");H=2<=Et.length&&Et[1]=="type"?H+(Tt+"="+de+"&"):H+(Tt+"=redacted&")}}else H=null;else H=k;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+g+`
`+y+`
`+H})}function Vl(c,g,y,E,V,k,H){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+g+`
`+y+`
`+k+" "+H})}function On(c,g,y,E){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+kl(c,y)+(E?" "+E:"")})}function Ul(c,g){c.info(function(){return"TIMEOUT: "+g})}Ei.prototype.info=function(){};function kl(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var E=y[c];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var k=V[0];if(k!="noop"&&k!="stop"&&k!="close")for(var H=1;H<V.length;H++)V[H]=""}}}}return oo(y)}catch{return g}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uo;function gs(){}x(gs,ro),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},uo=new gs;function mn(c,g,y,E){this.j=c,this.i=g,this.l=y,this.R=E||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}var Gr={},co={};function fo(c,g,y){c.L=1,c.v=Bl(Bn(g)),c.m=y,c.P=!0,Hr(c,null)}function Hr(c,g){c.F=Date.now(),q(c),c.A=Bn(c.v);var y=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),ag(y.i,"t",E),c.C=0,y=c.j.J,c.h=new zr,c.g=Ig(c.j,y?g:null,!c.m),0<c.O&&(c.M=new Nl(p(c.Y,c,c.g),c.O)),g=c.U,y=c.g,E=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(bl[0]=V.toString()),V=bl);for(var k=0;k<V.length;k++){var H=yi(y,V[k],E||g.handleEvent,!1,g.h||g);if(!H)break;g.g[H.key]=H}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),vi(),Pl(c.i,c.u,c.A,c.l,c.R,c.m)}mn.prototype.ca=function(c){c=c.target;const g=this.M;g&&zn(c)==3?g.j():this.Y(c)},mn.prototype.Y=function(c){try{if(c==this.g)e:{const Et=zn(this.g);var g=this.g.Ba();const mo=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||pg(this.g)))){this.J||Et!=4||g==7||(g==8||0>=mo?vi(3):vi(2)),Le(this);var y=this.g.Z();this.X=y;t:if(Yr(this)){var E=pg(this.g);c="";var V=E.length,k=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),ze(this);var H="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,c+=this.h.i.decode(E[g],{stream:!(k&&g==V-1)});E.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=y==200,Vl(this.i,this.u,this.A,this.l,this.R,Et,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,ct=this.g;if((Ce=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Ce)){var de=Ce;break t}}de=null}if(y=de)On(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fn(this,y);else{this.o=!1,this.s=3,it(12),gn(this),ze(this);break e}}if(this.P){y=!0;let yn;for(;!this.J&&this.C<H.length;)if(yn=Ll(this,H),yn==co){Et==4&&(this.s=4,it(14),y=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Gr){this.s=4,it(15),On(this.i,this.l,H,"[Invalid Chunk]"),y=!1;break}else On(this.i,this.l,yn,null),Fn(this,yn);if(Yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||H.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)On(this.i,this.l,H,"[Invalid Chunked Response]"),gn(this),ze(this);else if(0<H.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Cf(Tt),Tt.M=!0,it(11))}}else On(this.i,this.l,H,null),Fn(this,H);Et==4&&gn(this),this.o&&!this.J&&(Et==4?Eg(this.j,this):(this.o=!1,q(this)))}else XI(this.g),y==400&&0<H.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),gn(this),ze(this)}}}catch{}finally{}};function Yr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ll(c,g){var y=c.C,E=g.indexOf(`
`,y);return E==-1?co:(y=Number(g.substring(y,E)),isNaN(y)?Gr:(E+=1,E+y>g.length?co:(g=g.slice(E,E+y),c.C=E+y,g)))}mn.prototype.cancel=function(){this.J=!0,gn(this)};function q(c){c.S=Date.now()+c.I,W(c,c.I)}function W(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ti(p(c.ba,c),g)}function Le(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ul(this.i,this.A),this.L!=2&&(vi(),it(17)),gn(this),this.s=2,ze(this)):W(this,this.S-c)};function ze(c){c.j.G==0||c.J||Eg(c.j,c)}function gn(c){Le(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,so(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fn(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||vf(y.h,c))){if(!c.K&&vf(y.h,c)&&y.G==3){try{var E=y.Da.g.parse(g)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Jl(y),Yl(y);else break e;Sf(y),it(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ti(p(y.Za,y),6e3));if(1>=Zm(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _s(y,11)}else if((c.K||y.g==c)&&Jl(y),!A(g))for(V=y.Da.g.parse(g),g=0;g<V.length;g++){let de=V[g];if(y.T=de[0],de=de[1],y.G==2)if(de[0]=="c"){y.K=de[1],y.ia=de[2];const Tt=de[3];Tt!=null&&(y.la=Tt,y.j.info("VER="+y.la));const Et=de[4];Et!=null&&(y.Aa=Et,y.j.info("SVER="+y.Aa));const mo=de[5];mo!=null&&typeof mo=="number"&&0<mo&&(E=1.5*mo,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const yn=c.g;if(yn){const $l=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var k=E.h;k.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Tf(k,k.h),k.h=null))}if(E.D){const If=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;If&&(E.ya=If,xe(E.I,E.D,If))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var H=c;if(E.qa=Cg(E,E.J?E.ia:null,E.W),H.K){jm(E.h,H);var Ce=H,ct=E.L;ct&&(Ce.I=ct),Ce.B&&(Le(Ce),q(Ce)),E.g=H}else vg(E);0<y.i.length&&Kl(y)}else de[0]!="stop"&&de[0]!="close"||_s(y,7);else y.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?_s(y,7):Af(y):de[0]!="noop"&&y.l&&y.l.ta(de),y.v=0)}}vi(4)}catch{}}var ql=class{constructor(c,g){this.g=c,this.map=g}};function Xm(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wm(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Zm(c){return c.h?1:c.g?c.g.size:0}function vf(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Tf(c,g){c.g?c.g.add(g):c.h=g}function jm(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Xm.prototype.cancel=function(){if(this.i=eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function eg(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return M(c.i)}function UI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var g=[],y=c.length,E=0;E<y;E++)g.push(c[E]);return g}g=[],y=0;for(E in c)g[y++]=c[E];return g}function kI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const E in c)g[y++]=E;return g}}}function tg(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=kI(c),E=UI(c),V=E.length,k=0;k<V;k++)g.call(void 0,E[k],y&&y[k],c)}var ng=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LI(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var E=c[y].indexOf("="),V=null;if(0<=E){var k=c[y].substring(0,E);V=c[y].substring(E+1)}else k=c[y];g(k,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ys(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ys){this.h=c.h,Ol(this,c.j),this.o=c.o,this.g=c.g,Fl(this,c.s),this.l=c.l;var g=c.i,y=new Qr;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),ig(this,y),this.m=c.m}else c&&(g=String(c).match(ng))?(this.h=!1,Ol(this,g[1]||"",!0),this.o=Kr(g[2]||""),this.g=Kr(g[3]||"",!0),Fl(this,g[4]),this.l=Kr(g[5]||"",!0),ig(this,g[6]||"",!0),this.m=Kr(g[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}ys.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Jr(g,sg,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Jr(g,sg,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Jr(y,y.charAt(0)=="/"?FI:OI,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Jr(y,zI)),c.join("")};function Bn(c){return new ys(c)}function Ol(c,g,y){c.j=y?Kr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Fl(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ig(c,g,y){g instanceof Qr?(c.i=g,GI(c.i,c.h)):(y||(g=Jr(g,BI)),c.i=new Qr(g,c.h))}function xe(c,g,y){c.i.set(g,y)}function Bl(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Kr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Jr(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,qI),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sg=/[#\/\?@]/g,OI=/[#\?:]/g,FI=/[#\?]/g,BI=/[#\?@]/g,zI=/#/g;function Qr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ai(c){c.g||(c.g=new Map,c.h=0,c.i&&LI(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=Qr.prototype,t.add=function(c,g){Ai(this),this.i=null,c=ho(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function og(c,g){Ai(c),g=ho(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function rg(c,g){return Ai(c),g=ho(c,g),c.g.has(g)}t.forEach=function(c,g){Ai(this),this.g.forEach(function(y,E){y.forEach(function(V){c.call(g,V,E,this)},this)},this)},t.na=function(){Ai(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let E=0;E<g.length;E++){const V=c[E];for(let k=0;k<V.length;k++)y.push(g[E])}return y},t.V=function(c){Ai(this);let g=[];if(typeof c=="string")rg(this,c)&&(g=g.concat(this.g.get(ho(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},t.set=function(c,g){return Ai(this),this.i=null,c=ho(this,c),rg(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ag(c,g,y){og(c,g),0<y.length&&(c.i=null,c.g.set(ho(c,g),M(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var E=g[y];const k=encodeURIComponent(String(E)),H=this.V(E);for(E=0;E<H.length;E++){var V=k;H[E]!==""&&(V+="="+encodeURIComponent(String(H[E]))),c.push(V)}}return this.i=c.join("&")};function ho(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function GI(c,g){g&&!c.j&&(Ai(c),c.i=null,c.g.forEach(function(y,E){var V=E.toLowerCase();E!=V&&(og(this,E),ag(this,V,y))},c)),c.j=g}function HI(c,g){const y=new Ei;if(a.Image){const E=new Image;E.onload=_(Si,y,"TestLoadImage: loaded",!0,g,E),E.onerror=_(Si,y,"TestLoadImage: error",!1,g,E),E.onabort=_(Si,y,"TestLoadImage: abort",!1,g,E),E.ontimeout=_(Si,y,"TestLoadImage: timeout",!1,g,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else g(!1)}function YI(c,g){const y=new Ei,E=new AbortController,V=setTimeout(()=>{E.abort(),Si(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:E.signal}).then(k=>{clearTimeout(V),k.ok?Si(y,"TestPingServer: ok",!0,g):Si(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Si(y,"TestPingServer: error",!1,g)})}function Si(c,g,y,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(y)}catch{}}function KI(){this.g=new Dl}function JI(c,g,y){const E=y||"";try{tg(c,function(V,k){let H=V;d(V)&&(H=oo(V)),g.push(E+k+"="+encodeURIComponent(H))})}catch(V){throw g.push(E+"type="+encodeURIComponent("_badmap")),V}}function zl(c){this.l=c.Ub||null,this.j=c.eb||!1}x(zl,ro),zl.prototype.g=function(){return new Gl(this.l,this.j)},zl.prototype.i=function(c){return function(){return c}}({});function Gl(c,g){nt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Gl,nt),t=Gl.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lg(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function lg(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$r(this):Xr(this),this.readyState==3&&lg(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$r(this))},t.Qa=function(c){this.g&&(this.response=c,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function Xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ug(c){let g="";return B(c,function(y,E){g+=E,g+=":",g+=y,g+=`\r
`}),g}function Ef(c,g,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=ug(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):xe(c,g,y))}function Oe(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Oe,nt);var QI=/^https?$/i,$I=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uo.g(),this.v=this.o?Ur(this.o):Ur(uo),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(k){cg(this,k);return}if(c=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)y.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const k of E.keys())y.set(k,E.get(k));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(k=>k.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($I,g,void 0))||E||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,H]of y)this.g.setRequestHeader(k,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hg(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){cg(this,k)}};function cg(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,fg(c),Hl(c)}function fg(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),Hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hl(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dg(this):this.bb())},t.bb=function(){dg(this)};function dg(c){if(c.h&&typeof r<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)In(c.Ea,0,c);else if(ut(c,"readystatechange"),zn(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var E;if(E=H===0){var V=String(c.D).match(ng)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),E=!QI.test(V?V.toLowerCase():"")}y=E}if(y)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var k=2<zn(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",fg(c)}}finally{Hl(c)}}}}function Hl(c,g){if(c.g){hg(c);const y=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ut(c,"ready");try{y.onreadystatechange=E}catch{}}}function hg(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ml(g)}};function pg(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function XI(c){const g={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(A(c[E]))continue;var y=b(c[E]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const k=g[V]||[];g[V]=k,k.push(y)}R(g,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function mg(c){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,c),this.cb=Wr("retryDelaySeedMs",1e4,c),this.Wa=Wr("forwardChannelMaxRetries",2,c),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xm(c&&c.concurrentRequestLimit),this.Da=new KI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mg.prototype,t.la=8,t.G=1,t.connect=function(c,g,y,E){it(0),this.W=c,this.H=g||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Cg(this,null,this.W),Kl(this)};function Af(c){if(gg(c),c.G==3){var g=c.U++,y=Bn(c.I);if(xe(y,"SID",c.K),xe(y,"RID",g),xe(y,"TYPE","terminate"),Zr(c,y),g=new mn(c,c.j,g),g.L=2,g.v=Bl(Bn(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=Ig(g.j,null),g.g.ea(g.v)),g.F=Date.now(),q(g)}Sg(c)}function Yl(c){c.g&&(Cf(c),c.g.cancel(),c.g=null)}function gg(c){Yl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Jl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Kl(c){if(!Wm(c.h)&&!c.s){c.s=!0;var g=c.Ga;Q||we(),j||(Q(),j=!0),ye.add(g,c),c.B=0}}function WI(c,g){return Zm(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ti(p(c.Ga,c,g),Ag(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new mn(this,this.j,c);let k=this.o;if(this.S&&(k?(k=C(k),w(k,this.S)):k=this.S),this.m!==null||this.O||(V.H=k,k=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(g+=E,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=_g(this,V,g),y=Bn(this.I),xe(y,"RID",c),xe(y,"CVER",22),this.D&&xe(y,"X-HTTP-Session-Id",this.D),Zr(this,y),k&&(this.O?g="headers="+encodeURIComponent(String(ug(k)))+"&"+g:this.m&&Ef(y,this.m,k)),Tf(this.h,V),this.Ua&&xe(y,"TYPE","init"),this.P?(xe(y,"$req",g),xe(y,"SID","null"),V.T=!0,fo(V,y,null)):fo(V,y,g),this.G=2}}else this.G==3&&(c?yg(this,c):this.i.length==0||Wm(this.h)||yg(this))};function yg(c,g){var y;g?y=g.l:y=c.U++;const E=Bn(c.I);xe(E,"SID",c.K),xe(E,"RID",y),xe(E,"AID",c.T),Zr(c,E),c.m&&c.o&&Ef(E,c.m,c.o),y=new mn(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=_g(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tf(c.h,y),fo(y,E,g)}function Zr(c,g){c.H&&B(c.H,function(y,E){xe(g,E,y)}),c.l&&tg({},function(y,E){xe(g,E,y)})}function _g(c,g,y){y=Math.min(c.i.length,y);var E=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let k=-1;for(;;){const H=["count="+y];k==-1?0<y?(k=V[0].g,H.push("ofs="+k)):k=0:H.push("ofs="+k);let Ce=!0;for(let ct=0;ct<y;ct++){let de=V[ct].g;const Tt=V[ct].map;if(de-=k,0>de)k=Math.max(0,V[ct].g-100),Ce=!1;else try{JI(Tt,H,"req"+de+"_")}catch{E&&E(Tt)}}if(Ce){E=H.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,E}function vg(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Q||we(),j||(Q(),j=!0),ye.add(g,c),c.v=0}}function Sf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ti(p(c.Fa,c),Ag(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Tg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ti(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Yl(this),Tg(this))};function Cf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tg(c){c.g=new mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Bn(c.qa);xe(g,"RID","rpc"),xe(g,"SID",c.K),xe(g,"AID",c.T),xe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(g,"TO",c.ja),xe(g,"TYPE","xmlhttp"),Zr(c,g),c.m&&c.o&&Ef(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Bl(Bn(g)),y.m=null,y.P=!0,Hr(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Yl(this),Sf(this),it(19))};function Jl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Eg(c,g){var y=null;if(c.g==g){Jl(c),Cf(c),c.g=null;var E=2}else if(vf(c.h,g))y=g.D,jm(c.h,g),E=1;else return;if(c.G!=0){if(g.o)if(E==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var V=c.B;E=ps(),ut(E,new Fr(E,y)),Kl(c)}else vg(c);else if(V=g.s,V==3||V==0&&0<g.X||!(E==1&&WI(c,g)||E==2&&Sf(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),V){case 1:_s(c,5);break;case 4:_s(c,10);break;case 3:_s(c,6);break;default:_s(c,2)}}}function Ag(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function _s(c,g){if(c.j.info("Error code "+g),g==2){var y=p(c.fb,c),E=c.Xa;const V=!E;E=new ys(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ol(E,"https"),Bl(E),V?HI(E.toString(),y):YI(E.toString(),y)}else it(2);c.G=0,c.l&&c.l.sa(g),Sg(c),gg(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Sg(c){if(c.G=0,c.ka=[],c.l){const g=eg(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ka,g),U(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Cg(c,g,y){var E=y instanceof ys?Bn(y):new ys(y);if(E.g!="")g&&(E.g=g+"."+E.g),Fl(E,E.s);else{var V=a.location;E=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var k=new ys(null);E&&Ol(k,E),g&&(k.g=g),V&&Fl(k,V),y&&(k.l=y),E=k}return y=c.D,g=c.ya,y&&g&&xe(E,y,g),xe(E,"VER",c.la),Zr(c,E),E}function Ig(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Oe(new zl({eb:y})):new Oe(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rg(){}t=Rg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ql(){}Ql.prototype.g=function(c,g){return new Bt(c,g)};function Bt(c,g){nt.call(this),this.g=new mg(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!A(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new po(this)}x(Bt,nt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Af(this.g)},Bt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=oo(c),c=y);g.i.push(new ql(g.Ya++,c)),g.G==3&&Kl(g)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,Bt.aa.N.call(this)};function wg(c){ao.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(wg,ao);function xg(){lo.call(this),this.status=1}x(xg,lo);function po(c){this.g=c}x(po,Rg),po.prototype.ua=function(){ut(this.g,"a")},po.prototype.ta=function(c){ut(this.g,new wg(c))},po.prototype.sa=function(c){ut(this.g,new xg)},po.prototype.ra=function(){ut(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,xS=function(){return new Ql},wS=function(){return ps()},RS=Rn,Ih={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Du=ms,Br.COMPLETE="complete",IS=Br,kr.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ha=kr,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,CS=Oe}).apply(typeof du<"u"?du:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let St=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new em("@firebase/firestore");function ra(){return Fs.logLevel}function J(t,...e){if(Fs.logLevel<=fe.DEBUG){const n=e.map(am);Fs.debug(`Firestore (${Ar}): ${t}`,...n)}}function ci(t,...e){if(Fs.logLevel<=fe.ERROR){const n=e.map(am);Fs.error(`Firestore (${Ar}): ${t}`,...n)}}function or(t,...e){if(Fs.logLevel<=fe.WARN){const n=e.map(am);Fs.warn(`Firestore (${Ar}): ${t}`,...n)}}function am(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Ar}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function Te(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class Xb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wb{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ni,e.enqueueRetryable(()=>s(this.currentUser))};const r=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ni)}},0),r()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string"),new NS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new St(e)}}class Zb{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jb{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Zb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);const i=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const r=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new eM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=nM(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function he(t,e){return t<e?-1:t>e?1:0}function rr(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new je(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new je(0,0))}static max(){return new te(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,i){n===void 0?n=0:n>e.length&&ee(),i===void 0?i=e.length-n:i>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),r=n.get(s);if(o<r)return-1;if(o>r)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Za{construct(e,n,i){return new De(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Za{construct(e,n,i){return new mt(e,n,i)}static isValidIdentifier(e){return iM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let r=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else a==="`"?(r=!r,s++):a!=="."||r?(i+=a,s++):(o(),s++)}if(o(),r)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.path=e}static fromPath(e){return new $(De.fromString(e))}static fromName(e){return new $(De.fromString(e).popFirst(5))}static empty(){return new $(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new De(e.slice()))}}function sM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(i===1e9?new je(n+1,0):new je(n,i));return new ns(s,$.empty(),e)}function oM(t){return new ns(t.readTime,t.key,-1)}class ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ns(te.min(),$.empty(),-1)}static max(){return new ns(te.max(),$.empty(),-1)}}function rM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==aM)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,i)=>{n(e)})}static reject(e){return new z((n,i)=>{i(e)})}static waitFor(e){return new z((n,i)=>{let s=0,o=0,r=!1;e.forEach(a=>{++s,a.next(()=>{++o,r&&o===s&&n()},u=>i(u))}),r=!0,o===s&&n()})}static or(e){let n=z.resolve(!1);for(const i of e)n=n.next(s=>s?z.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new z((i,s)=>{const o=e.length,r=new Array(o);let a=0;for(let u=0;u<o;u++){const d=u;n(e[d]).next(h=>{r[d]=h,++a,a===o&&i(r)},h=>s(h))}})}static doWhile(e,n){return new z((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function uM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lm.oe=-1;function nf(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function cM(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??dt.RED,this.left=s??dt.EMPTY,this.right=o??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new dt(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,i,s,o){return this}insert(e,n,i){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new En([])}unionWith(e){let n=new _t(mt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rr(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DS("Invalid base64 string: "+o):o}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let r=0;r<s.length;++r)o+=String.fromCharCode(s[r]);return o}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Te(!!t),typeof t=="string"){let e=0;const n=fM.exec(t);if(Te(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cm(t){const e=t.mapValue.fields.__previous_value__;return um(e)?cm(e):e}function ja(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,i,s,o,r,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=r,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}}class el{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu={mapValue:{}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?um(t)?4:pM(t)?9007199254740991:hM(t)?10:11:ee()}function Un(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ja(t).isEqual(ja(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const r=is(s.timestampValue),a=is(o.timestampValue);return r.seconds===a.seconds&&r.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Bs(s.bytesValue).isEqual(Bs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Ge(s.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ge(s.integerValue)===Ge(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const r=Ge(s.doubleValue),a=Ge(o.doubleValue);return r===a?Tc(r)===Tc(a):isNaN(r)&&isNaN(a)}return!1}(t,e);case 9:return rr(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return function(s,o){const r=s.mapValue.fields||{},a=o.mapValue.fields||{};if(C_(r)!==C_(a))return!1;for(const u in r)if(r.hasOwnProperty(u)&&(a[u]===void 0||!Un(r[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function tl(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function ar(t,e){if(t===e)return 0;const n=zs(t),i=zs(e);if(n!==i)return he(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,r){const a=Ge(o.integerValue||o.doubleValue),u=Ge(r.integerValue||r.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return R_(t.timestampValue,e.timestampValue);case 4:return R_(ja(t),ja(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(o,r){const a=Bs(o),u=Bs(r);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,r){const a=o.split("/"),u=r.split("/");for(let d=0;d<a.length&&d<u.length;d++){const h=he(a[d],u[d]);if(h!==0)return h}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,r){const a=he(Ge(o.latitude),Ge(r.latitude));return a!==0?a:he(Ge(o.longitude),Ge(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w_(t.arrayValue,e.arrayValue);case 10:return function(o,r){var a,u,d,h;const m=o.fields||{},p=r.fields||{},_=(a=m.value)===null||a===void 0?void 0:a.arrayValue,x=(u=p.value)===null||u===void 0?void 0:u.arrayValue,M=he(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:w_(_,x)}(t.mapValue,e.mapValue);case 11:return function(o,r){if(o===pu.mapValue&&r===pu.mapValue)return 0;if(o===pu.mapValue)return 1;if(r===pu.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),d=r.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=he(u[m],h[m]);if(p!==0)return p;const _=ar(a[u[m]],d[h[m]]);if(_!==0)return _}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function R_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=is(t),i=is(e),s=he(n.seconds,i.seconds);return s!==0?s:he(n.nanos,i.nanos)}function w_(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=ar(n[s],i[s]);if(o)return o}return he(n.length,i.length)}function lr(t){return Rh(t)}function Rh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=is(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Rh(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const r of i)o?o=!1:s+=",",s+=`${r}:${Rh(n.fields[r])}`;return s+"}"}(t.mapValue):ee()}function x_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wh(t){return!!t&&"integerValue"in t}function fm(t){return!!t&&"arrayValue"in t}function N_(t){return!!t&&"nullValue"in t}function b_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pu(t){return!!t&&"mapValue"in t}function hM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Da(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=mt.emptyPath(),i={},s=[];e.forEach((r,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=a.popLast()}r?i[a.lastSegment()]=Da(r):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Pu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Sr(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new ln(Da(this.value))}}function PS(t){const e=[];return Sr(t.fields,(n,i)=>{const s=new mt([n]);if(Pu(i)){const o=PS(i.mapValue).fields;if(o.length===0)e.push(s);else for(const r of o)e.push(s.child(r))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,i,s,o,r,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=r,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,te.min(),te.min(),te.min(),ln.empty(),0)}static newFoundDocument(e,n,i,s){return new Ct(e,1,n,te.min(),i,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,te.min(),te.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,te.min(),te.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.position=e,this.inclusive=n}}function M_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],r=t.position[s];if(o.field.isKeyField()?i=$.comparator($.fromName(r.referenceValue),n.key):i=ar(r,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function mM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{}class Xe extends VS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new yM(e,n,i):n==="array-contains"?new TM(e,i):n==="in"?new EM(e,i):n==="not-in"?new AM(e,i):n==="array-contains-any"?new SM(e,i):new Xe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new _M(e,i):new vM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ar(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(ar(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends VS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new An(e,n)}matches(e){return US(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function US(t){return t.op==="and"}function kS(t){return gM(t)&&US(t)}function gM(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function xh(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+lr(t.value);if(kS(t))return t.filters.map(e=>xh(e)).join(",");{const e=t.filters.map(n=>xh(n)).join(",");return`${t.op}(${e})`}}function LS(t,e){return t instanceof Xe?function(i,s){return s instanceof Xe&&i.op===s.op&&i.field.isEqual(s.field)&&Un(i.value,s.value)}(t,e):t instanceof An?function(i,s){return s instanceof An&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,r,a)=>o&&LS(r,s.filters[a]),!0):!1}(t,e):void ee()}function qS(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${lr(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(qS).join(" ,")+"}"}(t):"Filter"}class yM extends Xe{constructor(e,n,i){super(e,n,i),this.key=$.fromName(i.referenceValue)}matches(e){const n=$.comparator(e.key,this.key);return this.matchesComparison(n)}}class _M extends Xe{constructor(e,n){super(e,"in",n),this.keys=OS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vM extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=OS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class TM extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fm(n)&&tl(n.arrayValue,this.value)}}class EM extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tl(this.value.arrayValue,n)}}class AM extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tl(this.value.arrayValue,n)}}class SM extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n=null,i=[],s=[],o=null,r=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=r,this.endAt=a,this.ue=null}}function P_(t,e=null,n=[],i=[],s=null,o=null,r=null){return new CM(t,e,n,i,s,o,r)}function dm(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>xh(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>lr(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>lr(i)).join(",")),e.ue=n}return e.ue}function hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function Nh(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n=null,i=[],s=[],o=null,r="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=r,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IM(t,e,n,i,s,o,r,a){return new Tl(t,e,n,i,s,o,r,a)}function pm(t){return new Tl(t)}function V_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FS(t){return t.collectionGroup!==null}function Pa(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(r){let a=new _t(mt.comparator);return r.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ac(o,i))}),n.has(mt.keyField().canonicalString())||e.ce.push(new Ac(mt.keyField(),i))}return e.ce}function Dn(t){const e=ne(t);return e.le||(e.le=RM(e,Pa(t))),e.le}function RM(t,e){if(t.limitType==="F")return P_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Ac(s.field,o)});const n=t.endAt?new Ec(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ec(t.startAt.position,t.startAt.inclusive):null;return P_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function bh(t,e){const n=t.filters.concat([e]);return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mh(t,e,n){return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sf(t,e){return hm(Dn(t),Dn(e))&&t.limitType===e.limitType}function BS(t){return`${dm(Dn(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>qS(s)).join(", ")}]`),nf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>lr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>lr(s)).join(",")),`Target(${i})`}(Dn(t))}; limitType=${t.limitType})`}function of(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):$.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Pa(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(r,a,u){const d=M_(r,a,u);return r.inclusive?d<=0:d<0}(i.startAt,Pa(i),s)||i.endAt&&!function(r,a,u){const d=M_(r,a,u);return r.inclusive?d>=0:d>0}(i.endAt,Pa(i),s))}(t,e)}function wM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let i=!1;for(const s of Pa(t)){const o=xM(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function xM(t,e,n){const i=t.field.isKeyField()?$.comparator(e.key,n.key):function(o,r,a){const u=r.data.field(o),d=a.data.field(o);return u!==null&&d!==null?ar(u,d):ee()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new qe($.comparator);function fi(){return NM}const GS=new qe($.comparator);function pa(...t){let e=GS;for(const n of t)e=e.insert(n.key,n);return e}function HS(t){let e=GS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Rs(){return Va()}function YS(){return Va()}function Va(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}const bM=new qe($.comparator),MM=new _t($.comparator);function ae(...t){let e=MM;for(const n of t)e=e.add(n);return e}const DM=new _t(he);function PM(){return DM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function KS(t){return{integerValue:""+t}}function VM(t,e){return cM(e)?KS(e):mm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function UM(t,e,n){return t instanceof Sc?function(s,o){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&um(o)&&(o=cm(o)),o&&(r.fields.__previous_value__=o),{mapValue:r}}(n,e):t instanceof nl?QS(t,e):t instanceof il?$S(t,e):function(s,o){const r=JS(s,o),a=U_(r)+U_(s.Pe);return wh(r)&&wh(s.Pe)?KS(a):mm(s.serializer,a)}(t,e)}function kM(t,e,n){return t instanceof nl?QS(t,e):t instanceof il?$S(t,e):n}function JS(t,e){return t instanceof Cc?function(i){return wh(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Sc extends rf{}class nl extends rf{constructor(e){super(),this.elements=e}}function QS(t,e){const n=XS(e);for(const i of t.elements)n.some(s=>Un(s,i))||n.push(i);return{arrayValue:{values:n}}}class il extends rf{constructor(e){super(),this.elements=e}}function $S(t,e){let n=XS(e);for(const i of t.elements)n=n.filter(s=>!Un(s,i));return{arrayValue:{values:n}}}class Cc extends rf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function U_(t){return Ge(t.integerValue||t.doubleValue)}function XS(t){return fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LM(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof nl&&s instanceof nl||i instanceof il&&s instanceof il?rr(i.elements,s.elements,Un):i instanceof Cc&&s instanceof Cc?Un(i.Pe,s.Pe):i instanceof Sc&&s instanceof Sc}(t.transform,e.transform)}class qM{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class af{}function WS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gm(t.key,Pn.none()):new El(t.key,t.data,Pn.none());{const n=t.data,i=ln.empty();let s=new _t(mt.comparator);for(let o of e.fields)if(!s.has(o)){let r=n.field(o);r===null&&o.length>1&&(o=o.popLast(),r=n.field(o)),r===null?i.delete(o):i.set(o,r),s=s.add(o)}return new $s(t.key,i,new En(s.toArray()),Pn.none())}}function OM(t,e,n){t instanceof El?function(s,o,r){const a=s.value.clone(),u=L_(s.fieldTransforms,o,r.transformResults);a.setAll(u),o.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(s,o,r){if(!Vu(s.precondition,o))return void o.convertToUnknownDocument(r.version);const a=L_(s.fieldTransforms,o,r.transformResults),u=o.data;u.setAll(ZS(s)),u.setAll(a),o.convertToFoundDocument(r.version,u).setHasCommittedMutations()}(t,e,n):function(s,o,r){o.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function Ua(t,e,n,i){return t instanceof El?function(o,r,a,u){if(!Vu(o.precondition,r))return a;const d=o.value.clone(),h=q_(o.fieldTransforms,u,r);return d.setAll(h),r.convertToFoundDocument(r.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof $s?function(o,r,a,u){if(!Vu(o.precondition,r))return a;const d=q_(o.fieldTransforms,u,r),h=r.data;return h.setAll(ZS(o)),h.setAll(d),r.convertToFoundDocument(r.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(o,r,a){return Vu(o.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):a}(t,e,n)}function FM(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=JS(i.transform,s||null);o!=null&&(n===null&&(n=ln.empty()),n.set(i.field,o))}return n||null}function k_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&rr(i,s,(o,r)=>LM(o,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends af{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends af{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ZS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function L_(t,e,n){const i=new Map;Te(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],r=o.transform,a=e.data.field(o.field);i.set(o.field,kM(r,a,n[s]))}return i}function q_(t,e,n){const i=new Map;for(const s of t){const o=s.transform,r=n.data.field(s.field);i.set(s.field,UM(o,r,e))}return i}class gm extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BM extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&OM(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ua(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ua(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=YS();return this.mutations.forEach(s=>{const o=e.get(s.key),r=o.overlayedDocument;let a=this.applyToLocalView(r,o.mutatedFields);a=n.has(s.key)?null:a;const u=WS(r,a);u!==null&&i.set(s.key,u),r.isValidDocument()||r.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&rr(this.mutations,e.mutations,(n,i)=>k_(n,i))&&rr(this.baseMutations,e.baseMutations,(n,i)=>k_(n,i))}}class ym{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Te(e.mutations.length===i.length);let s=function(){return bM}();const o=e.mutations;for(let r=0;r<o.length;r++)s=s.insert(o[r].key,i[r].version);return new ym(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ce;function YM(t){switch(t){default:return ee();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function jS(t){if(t===void 0)return ci("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ke.OK:return F.OK;case Ke.CANCELLED:return F.CANCELLED;case Ke.UNKNOWN:return F.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return F.INTERNAL;case Ke.UNAVAILABLE:return F.UNAVAILABLE;case Ke.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ke.NOT_FOUND:return F.NOT_FOUND;case Ke.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ke.ABORTED:return F.ABORTED;case Ke.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ke.DATA_LOSS:return F.DATA_LOSS;default:return ee()}}(ce=Ke||(Ke={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Ds([4294967295,4294967295],0);function O_(t){const e=KM().encode(t),n=new SS;return n.update(e),new Uint8Array(n.digest())}function F_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ds([n,i],0),new Ds([s,o],0)]}class _m{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ma(`Invalid padding: ${n}`);if(i<0)throw new ma(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ma(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ds.fromNumber(this.Ie)}Ee(e,n,i){let s=e.add(n.multiply(Ds.fromNumber(i)));return s.compare(JM)===1&&(s=new Ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=O_(e),[i,s]=F_(n);for(let o=0;o<this.hashCount;o++){const r=this.Ee(i,s,o);if(!this.de(r))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),r=new _m(o,s,n);return i.forEach(a=>r.insert(a)),r}insert(e){if(this.Ie===0)return;const n=O_(e),[i,s]=F_(n);for(let o=0;o<this.hashCount;o++){const r=this.Ee(i,s,o);this.Ae(r)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new lf(te.min(),s,new qe(he),fi(),ae())}}class Al{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Al(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class eC{constructor(e,n){this.targetId=e,this.me=n}}class tC{constructor(e,n,i=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class B_{constructor(){this.fe=0,this.ge=G_(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),i=ae();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ee()}}),new Al(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=G_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QM{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=z_(),this.Qe=new qe(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,i=e.me.count,s=this.Je(n);if(s){const o=s.target;if(Nh(o))if(i===0){const r=new $(o.path);this.Ue(n,r,Ct.newNoDocument(r,te.min()))}else Te(i===1);else{const r=this.Ye(n);if(r!==i){const a=this.Ze(e),u=a?this.Xe(a,e,r):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let r,a;try{r=Bs(i).toUint8Array()}catch(u){if(u instanceof DS)return or("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new _m(r,s,o)}catch(u){return or(u instanceof ma?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const r=this.Le.tt(),a=`projects/${r.projectId}/databases/${r.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,r)=>{const a=this.Je(r);if(a){if(o.current&&Nh(a.target)){const u=new $(a.target.path);this.ke.get(u)!==null||this.it(r,u)||this.Ue(r,u,Ct.newNoDocument(u,e))}o.be&&(n.set(r,o.ve()),o.Ce())}});let i=ae();this.qe.forEach((o,r)=>{let a=!0;r.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,r)=>r.setReadTime(e));const s=new lf(e,n,this.Qe,this.ke,i);return this.ke=fi(),this.qe=z_(),this.Qe=new qe(he),s}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new B_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new B_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function z_(){return new qe($.comparator)}function G_(){return new qe($.comparator)}const $M={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WM={and:"AND",or:"OR"};class ZM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dh(t,e){return t.useProto3Json||nf(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jM(t,e){return Ic(t,e.toTimestamp())}function Vn(t){return Te(!!t),te.fromTimestamp(function(n){const i=is(n);return new je(i.seconds,i.nanos)}(t))}function vm(t,e){return Ph(t,e).canonicalString()}function Ph(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){const e=De.fromString(t);return Te(lC(e)),e}function Vh(t,e){return vm(t.databaseId,e.path)}function gd(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(oC(n))}function sC(t,e){return vm(t.databaseId,e)}function eD(t){const e=iC(t);return e.length===4?De.emptyPath():oC(e)}function Uh(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oC(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H_(t,e,n){return{name:Vh(t,e),fields:n.value.mapValue.fields}}function tD(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(Te(h===void 0||typeof h=="string"),vt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),r=e.targetChange.cause,a=r&&function(d){const h=d.code===void 0?F.UNKNOWN:jS(d.code);return new K(h,d.message||"")}(r);n=new tC(i,s,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=gd(t,i.document.name),o=Vn(i.document.updateTime),r=i.document.createTime?Vn(i.document.createTime):te.min(),a=new ln({mapValue:{fields:i.document.fields}}),u=Ct.newFoundDocument(s,o,r,a),d=i.targetIds||[],h=i.removedTargetIds||[];n=new Uu(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=gd(t,i.document),o=i.readTime?Vn(i.readTime):te.min(),r=Ct.newNoDocument(s,o),a=i.removedTargetIds||[];n=new Uu([],a,r.key,r)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=gd(t,i.document),o=i.removedTargetIds||[];n=new Uu([],o,s,null)}else{if(!("filter"in e))return ee();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,r=new HM(s,o),a=i.targetId;n=new eC(a,r)}}return n}function nD(t,e){let n;if(e instanceof El)n={update:H_(t,e.key,e.value)};else if(e instanceof gm)n={delete:Vh(t,e.key)};else if(e instanceof $s)n={update:H_(t,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof BM))return ee();n={verify:Vh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,r){const a=r.transform;if(a instanceof Sc)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nl)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof il)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cc)return{fieldPath:r.field.canonicalString(),increment:a.Pe};throw ee()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:jM(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function iD(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(s,o){let r=s.updateTime?Vn(s.updateTime):Vn(o);return r.isEqual(te.min())&&(r=Vn(o)),new qM(r,s.transformResults||[])}(n,e))):[]}function sD(t,e){return{documents:[sC(t,e.path)]}}function oD(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=sC(t,s);const o=function(d){if(d.length!==0)return aC(An.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const r=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Ao(p.field),direction:lD(p.dir)}}(h))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const a=Dh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function rD(t){let e=eD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Te(i===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(m){const p=rC(m);return p instanceof An&&kS(p)?p.getFilters():[p]}(n.where));let r=[];n.orderBy&&(r=function(m){return m.map(p=>function(x){return new Ac(So(x.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(m){let p;return p=typeof m=="object"?m.value:m,nf(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,_=m.values||[];return new Ec(_,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,_=m.values||[];return new Ec(_,p)}(n.endAt)),IM(e,s,r,o,a,"F",u,d)}function aD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=So(n.unaryFilter.field);return Xe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=So(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=So(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=So(n.unaryFilter.field);return Xe.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(So(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(i=>rC(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function lD(t){return $M[t]}function uD(t){return XM[t]}function cD(t){return WM[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function So(t){return mt.fromServerFormat(t.fieldPath)}function aC(t){return t instanceof Xe?function(n){if(n.op==="=="){if(b_(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(N_(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b_(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(N_(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:uD(n.op),value:n.value}}}(t):t instanceof An?function(n){const i=n.getFilters().map(s=>aC(s));return i.length===1?i[0]:{compositeFilter:{op:cD(n.op),filters:i}}}(t):ee()}function fD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,i,s,o=te.min(),r=te.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ct=e}}function hD(t){const e=rD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.un=new mD}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ns.min())}updateCollectionGroup(e,n,i){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class mD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new _t(De.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new _t(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ur(0)}static kn(){return new ur(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Ua(i.mutation,s,En.empty(),je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let r=pa();return o.forEach((a,u)=>{r=r.insert(a,u.overlayedDocument)}),r}))}getOverlayedDocuments(e,n){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((r,a)=>{n.set(r,a)})})}computeViews(e,n,i,s){let o=fi();const r=Va(),a=function(){return Va()}();return n.forEach((u,d)=>{const h=i.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof $s)?o=o.insert(d.key,d):h!==void 0?(r.set(d.key,h.mutation.getFieldMask()),Ua(h.mutation,d,h.mutation.getFieldMask(),je.now())):r.set(d.key,En.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,h)=>r.set(d,h)),n.forEach((d,h)=>{var m;return a.set(d,new yD(h,(m=r.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Va();let s=new qe((r,a)=>r-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>{for(const a of r)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=i.get(u)||En.empty();h=a.applyToLocalView(d,h),i.set(u,h);const m=(s.get(a.batchId)||ae()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const r=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,h=u.value,m=YS();h.forEach(p=>{if(!o.has(p)){const _=WS(n.get(p),i.get(p));_!==null&&m.set(p,_),o=o.add(p)}}),r.push(this.documentOverlayCache.saveOverlays(e,d,m))}return z.waitFor(r)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(r){return $.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const r=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):z.resolve(Rs());let a=-1,u=o;return r.next(d=>z.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,ae())).next(h=>({batchId:a,changes:HS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(i=>{let s=pa();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let r=pa();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,u=>{const d=function(m,p){return new Tl(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(h=>{h.forEach((m,p)=>{r=r.insert(m,p)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(r=>(o=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(r=>{o.forEach((u,d)=>{const h=d.getKey();r.get(h)===null&&(r=r.insert(h,Ct.newInvalidDocument(h)))});let a=pa();return r.forEach((u,d)=>{const h=o.get(u);h!==void 0&&Ua(h.mutation,d,En.empty(),je.now()),of(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:hD(s.bundledQuery),readTime:Vn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.overlays=new qe($.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Rs();return z.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.ht(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),z.resolve()}getOverlaysForCollection(e,n,i){const s=Rs(),o=n.length+1,r=new $(n.child("")),a=this.overlays.getIteratorFrom(r);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>i&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new qe((d,h)=>d-h);const r=this.overlays.getIterator();for(;r.hasNext();){const d=r.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let h=o.get(d.largestBatchId);h===null&&(h=Rs(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Rs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const r=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,r)}this.overlays=this.overlays.insert(i.key,new GM(n,i));let o=this.Ir.get(n);o===void 0&&(o=ae(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Tr=new _t(st.Er),this.dr=new _t(st.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new st(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new st(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new $(new De([])),i=new st(n,e),s=new st(n,e+1),o=[];return this.dr.forEachInRange([i,s],r=>{this.Vr(r),o.push(r.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new $(new De([])),i=new st(n,e),s=new st(n,e+1);let o=ae();return this.dr.forEachInRange([i,s],r=>{o=o.add(r.key)}),o}containsKey(e){const n=new st(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class st{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||$.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(st.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new zM(o,n,i,s);this.mutationQueue.push(r);for(const a of s)this.br=this.br.add(new st(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(r)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.vr(i),o=s<0?0:s;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new st(n,0),s=new st(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,s],r=>{const a=this.Dr(r.wr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new _t(he);return n.forEach(s=>{const o=new st(s,0),r=new st(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,r],a=>{i=i.add(a.wr)})}),z.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;$.isDocumentKey(o)||(o=o.child(""));const r=new st(new $(o),0);let a=new _t(he);return this.br.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.wr)),!0)},r),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const s=this.Dr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return z.forEach(n.mutations,s=>{const o=new st(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new st(n,0),s=this.br.firstAfterOrEqual(i);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.Mr=e,this.docs=function(){return new qe($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,r=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:r}),this.size+=r-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return z.resolve(i?i.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let i=fi();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Ct.newInvalidDocument(s))}),z.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=fi();const r=n.path,a=new $(r.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!r.isPrefixOf(d.path))break;d.path.length>r.length+1||rM(oM(h),i)<=0||(s.has(h.key)||of(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,i,s){ee()}Or(e,n){return z.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new CD(this)}getSize(e){return z.resolve(this.size)}}class CD extends gD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.persistence=e,this.Nr=new Cr(n=>dm(n),hm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tm,this.targetCount=0,this.kr=ur.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ur(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Nr.forEach((r,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(r),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(o).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return z.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),z.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(r=>{o.push(s.markPotentiallyOrphaned(e,r))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return z.resolve(i)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lm(0),this.Kr=!1,this.Kr=!0,this.$r=new ED,this.referenceDelegate=e(this),this.Ur=new ID(this),this.indexManager=new pD,this.remoteDocumentCache=function(s){return new SD(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new dD(n),this.Gr=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new AD(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){J("MemoryPersistence","Starting transaction:",e);const s=new wD(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return z.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class wD extends lM{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Jr=new Tm,this.Yr=null}static Zr(e){return new Em(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),z.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,i=>{const s=$.fromPath(i);return this.ei(e,s).next(o=>{o||n.removeEntry(s,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=s}static Wi(e,n){let i=ae(),s=ae();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Am(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dN()?8:uM(uN())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.Yi(e,n).next(r=>{o.result=r}).next(()=>{if(!o.result)return this.Zi(e,n,s,i).next(r=>{o.result=r})}).next(()=>{if(o.result)return;const r=new xD;return this.Xi(e,n,r).next(a=>{if(o.result=a,this.zi)return this.es(e,n,r,a.size)})}).next(()=>o.result)}es(e,n,i,s){return i.documentReadCount<this.ji?(ra()<=fe.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(ra()<=fe.DEBUG&&J("QueryEngine","Query:",Eo(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(ra()<=fe.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):z.resolve())}Yi(e,n){if(V_(n))return z.resolve(null);let i=Dn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mh(n,null,"F"),i=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const r=ae(...o);return this.Ji.getDocuments(e,r).next(a=>this.indexManager.getMinOffset(e,i).next(u=>{const d=this.ts(n,a);return this.ns(n,d,r,u.readTime)?this.Yi(e,Mh(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,i,s){return V_(n)||s.isEqual(te.min())?z.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const r=this.ts(n,o);return this.ns(n,r,i,s)?z.resolve(null):(ra()<=fe.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eo(n)),this.rs(e,r,n,sM(s,-1)).next(a=>a))})}ts(e,n){let i=new _t(zS(e));return n.forEach((s,o)=>{of(e,o)&&(i=i.add(o))}),i}ns(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,i){return ra()<=fe.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ns.min(),i)}rs(e,n,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(r=>{o=o.insert(r.key,r)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,i,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new qe(he),this._s=new Cr(o=>dm(o),hm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function MD(t,e,n,i){return new bD(t,e,n,i)}async function uC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const r=[],a=[];let u=ae();for(const d of s){r.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of o){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(i,u).next(d=>({hs:d,removedBatchIds:r,addedBatchIds:a}))})})}function DD(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,h){const m=d.batch,p=m.keys();let _=z.resolve();return p.forEach(x=>{_=_.next(()=>h.getEntry(u,x)).next(M=>{const U=d.docVersions.get(x);Te(U!==null),M.version.compareTo(U)<0&&(m.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),h.addEntry(M)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=ae();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function cC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function PD(t,e){const n=ne(t),i=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const r=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,m)=>{const p=s.get(m);if(!p)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,m)));let _=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(vt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,i)),s=s.insert(m,_),function(M,U,I){return M.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,_,h)&&a.push(n.Ur.updateTargetData(o,_))});let u=fi(),d=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(VD(o,r,e.documentUpdates).next(h=>{u=h.Ps,d=h.Is})),!i.isEqual(te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return z.waitFor(a).next(()=>r.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.os=s,o))}function VD(t,e,n){let i=ae(),s=ae();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let r=fi();return n.forEach((a,u)=>{const d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),r=r.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),r=r.insert(a,u)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:r,Is:s}})}function UD(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kD(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ur.getTargetData(i,e).next(o=>o?(s=o,z.resolve(s)):n.Ur.allocateTargetId(i).next(r=>(s=new ki(e,r,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function kh(t,e,n){const i=ne(t),s=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,r=>i.persistence.referenceDelegate.removeTarget(r,s))}catch(r){if(!vl(r))throw r;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${r}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function Y_(t,e,n){const i=ne(t);let s=te.min(),o=ae();return i.persistence.runTransaction("Execute query","readwrite",r=>function(u,d,h){const m=ne(u),p=m._s.get(h);return p!==void 0?z.resolve(m.os.get(p)):m.Ur.getTargetData(d,h)}(i,r,Dn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(r,a.targetId).next(u=>{o=u})}).next(()=>i.ss.getDocumentsMatchingQuery(r,e,n?s:te.min(),n?o:ae())).next(a=>(LD(i,wM(e),a),{documents:a,Ts:o})))}function LD(t,e,n){let i=t.us.get(e)||te.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}class K_{constructor(){this.activeTargetIds=PM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qD{constructor(){this.so=new K_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new K_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function yd(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class zD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,i,s,o,r){const a=yd(),u=this.xo(n,i.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,r),this.No(n,u,d,s).then(h=>(J("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw or("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,i,s,o,r,a){return this.Mo(n,i,s,o,r)}Oo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ar}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,r)=>n[r]=o),s&&s.headers.forEach((o,r)=>n[r]=o)}xo(n,i){const s=FD[n];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,s){const o=yd();return new Promise((r,a)=>{const u=new CS;u.setWithCredentials(!0),u.listenOnce(IS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const h=u.getResponseJson();J(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),r(h);break;case Du.TIMEOUT:J(At,`RPC '${e}' ${o} timed out`),a(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const m=u.getStatus();if(J(At,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const x=function(U){const I=U.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(_.status);a(new K(x,_.message))}else a(new K(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new K(F.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{J(At,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);J(At,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,i,15)})}Bo(e,n,i){const s=yd(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=xS(),a=wS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const h=o.join("");J(At,`Creating RPC '${e}' stream ${s}: ${h}`,u);const m=r.createWebChannel(h,u);let p=!1,_=!1;const x=new BD({Io:U=>{_?J(At,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(p||(J(At,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),J(At,`RPC '${e}' stream ${s} sending:`,U),m.send(U))},To:()=>m.close()}),M=(U,I,A)=>{U.listen(I,T=>{try{A(T)}catch(D){setTimeout(()=>{throw D},0)}})};return M(m,ha.EventType.OPEN,()=>{_||(J(At,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),M(m,ha.EventType.CLOSE,()=>{_||(_=!0,J(At,`RPC '${e}' stream ${s} transport closed`),x.So())}),M(m,ha.EventType.ERROR,U=>{_||(_=!0,or(At,`RPC '${e}' stream ${s} transport errored:`,U),x.So(new K(F.UNAVAILABLE,"The operation could not be completed")))}),M(m,ha.EventType.MESSAGE,U=>{var I;if(!_){const A=U.data[0];Te(!!A);const T=A,D=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(D){J(At,`RPC '${e}' stream ${s} received error:`,D);const L=D.status;let B=function(S){const w=Ke[S];if(w!==void 0)return jS(w)}(L),R=D.message;B===void 0&&(B=F.INTERNAL,R="Unknown error status: "+L+" with message "+D.message),_=!0,x.So(new K(B,R)),m.close()}else J(At,`RPC '${e}' stream ${s} received:`,A),x.bo(A)}}),M(a,RS.STAT_EVENT,U=>{U.stat===Ih.PROXY?J(At,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Ih.NOPROXY&&J(At,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return new ZM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,i=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,i,s,o,r,a,u){this.ui=e,this.Ho=i,this.Jo=s,this.connection=o,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===n&&this.P_(i,s)},i=>{e(()=>{const s=new K(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends dC{constructor(e,n,i,s,o,r){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,r),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=tD(this.serializer,e),i=function(o){if(!("targetChange"in o))return te.min();const r=o.targetChange;return r.targetIds&&r.targetIds.length?te.min():r.readTime?Vn(r.readTime):te.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Uh(this.serializer),n.addTarget=function(o,r){let a;const u=r.target;if(a=Nh(u)?{documents:sD(o,u)}:{query:oD(o,u)._t},a.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){a.resumeToken=nC(o,r.resumeToken);const d=Dh(o,r.expectedCount);d!==null&&(a.expectedCount=d)}else if(r.snapshotVersion.compareTo(te.min())>0){a.readTime=Ic(o,r.snapshotVersion.toTimestamp());const d=Dh(o,r.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const i=aD(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Uh(this.serializer),n.removeTarget=e,this.a_(n)}}class HD extends dC{constructor(e,n,i,s,o,r){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,r),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iD(e.writeResults,e.commitTime),i=Vn(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Uh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>nD(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,r])=>this.connection.Mo(e,Ph(n,i),s,o,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(F.UNKNOWN,o.toString())})}Lo(e,n,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Lo(e,Ph(n,i),s,r,a,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new K(F.UNKNOWN,r.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ci(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(r=>{i.enqueueAndForget(async()=>{Xs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ne(u);d.L_.add(4),await Sl(d),d.q_.set("Unknown"),d.L_.delete(4),await cf(d)}(this))})}),this.q_=new KD(i,s)}}async function cf(t){if(Xs(t))for(const e of t.B_)await e(!0)}async function Sl(t){for(const e of t.B_)await e(!1)}function hC(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Rm(n)?Im(n):Ir(n).r_()&&Cm(n,e))}function Sm(t,e){const n=ne(t),i=Ir(n);n.N_.delete(e),i.r_()&&pC(n,e),n.N_.size===0&&(i.r_()?i.o_():Xs(n)&&n.q_.set("Unknown"))}function Cm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ir(t).A_(e)}function pC(t,e){t.Q_.xe(e),Ir(t).R_(e)}function Im(t){t.Q_=new QM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ir(t).start(),t.q_.v_()}function Rm(t){return Xs(t)&&!Ir(t).n_()&&t.N_.size>0}function Xs(t){return ne(t).L_.size===0}function mC(t){t.Q_=void 0}async function QD(t){t.q_.set("Online")}async function $D(t){t.N_.forEach((e,n)=>{Cm(t,e)})}async function XD(t,e){mC(t),Rm(t)?(t.q_.M_(e),Im(t)):t.q_.set("Unknown")}async function WD(t,e,n){if(t.q_.set("Online"),e instanceof tC&&e.state===2&&e.cause)try{await async function(s,o){const r=o.cause;for(const a of o.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,r),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(i){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Rc(t,i)}else if(e instanceof Uu?t.Q_.Ke(e):e instanceof eC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const i=await cC(t.localStore);n.compareTo(i)>=0&&await function(o,r){const a=o.Q_.rt(r);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.N_.get(d);h&&o.N_.set(d,h.withResumeToken(u.resumeToken,r))}}),a.targetMismatches.forEach((u,d)=>{const h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),pC(o,u);const m=new ki(h.target,u,d,h.sequenceNumber);Cm(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){J("RemoteStore","Failed to raise snapshot:",i),await Rc(t,i)}}async function Rc(t,e,n){if(!vl(e))throw e;t.L_.add(1),await Sl(t),t.q_.set("Offline"),n||(n=()=>cC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await cf(t)})}function gC(t,e){return e().catch(n=>Rc(t,n,e))}async function ff(t){const e=ne(t),n=ss(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZD(e);)try{const s=await UD(e.localStore,i);if(s===null){e.O_.length===0&&n.o_();break}i=s.batchId,jD(e,s)}catch(s){await Rc(e,s)}yC(e)&&_C(e)}function ZD(t){return Xs(t)&&t.O_.length<10}function jD(t,e){t.O_.push(e);const n=ss(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yC(t){return Xs(t)&&!ss(t).n_()&&t.O_.length>0}function _C(t){ss(t).start()}async function e2(t){ss(t).p_()}async function t2(t){const e=ss(t);for(const n of t.O_)e.m_(n.mutations)}async function n2(t,e,n){const i=t.O_.shift(),s=ym.from(i,e,n);await gC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ff(t)}async function i2(t,e){e&&ss(t).V_&&await async function(i,s){if(function(r){return YM(r)&&r!==F.ABORTED}(s.code)){const o=i.O_.shift();ss(i).s_(),await gC(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await ff(i)}}(t,e),yC(t)&&_C(t)}async function Q_(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const i=Xs(n);n.L_.add(3),await Sl(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await cf(n)}async function s2(t,e){const n=ne(t);e?(n.L_.delete(2),await cf(n)):e||(n.L_.add(2),await Sl(n),n.q_.set("Unknown"))}function Ir(t){return t.K_||(t.K_=function(n,i,s){const o=ne(n);return o.w_(),new GD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:QD.bind(null,t),Ro:$D.bind(null,t),mo:XD.bind(null,t),d_:WD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Rm(t)?Im(t):t.q_.set("Unknown")):(await t.K_.stop(),mC(t))})),t.K_}function ss(t){return t.U_||(t.U_=function(n,i,s){const o=ne(n);return o.w_(),new HD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e2.bind(null,t),mo:i2.bind(null,t),f_:t2.bind(null,t),g_:n2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ff(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(r=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const r=Date.now()+i,a=new wm(e,n,r,s,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(t,e){if(ci("AsyncQueue",`${e}: ${t}`),vl(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.comparator=e?(n,i)=>e(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=pa(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.W_=new qe($.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class cr{constructor(e,n,i,s,o,r,a,u,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=r,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,o){const r=[];return n.forEach(a=>{r.push({type:0,doc:a})}),new cr(e,n,Ho.emptySet(n),r,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class r2{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const s=ne(n),o=s.queries;s.queries=X_(),o.forEach((r,a)=>{for(const u of a.j_)u.onError(i)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function X_(){return new Cr(t=>BS(t),sf)}async function vC(t,e){const n=ne(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(i=2):(o=new o2,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(r){const a=xm(r,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Nm(n)}async function TC(t,e){const n=ne(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const r=o.j_.indexOf(e);r>=0&&(o.j_.splice(r,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function a2(t,e){const n=ne(t);let i=!1;for(const s of e){const o=s.query,r=n.queries.get(o);if(r){for(const a of r.j_)a.X_(s)&&(i=!0);r.z_=s}}i&&Nm(n)}function l2(t,e,n){const i=ne(t),s=i.queries.get(e);if(s)for(const o of s.j_)o.onError(n);i.queries.delete(e)}function Nm(t){t.Y_.forEach(e=>{e.next()})}var Lh,W_;(W_=Lh||(Lh={})).ea="default",W_.Cache="cache";class EC{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new cr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.key=e}}class SC{constructor(e){this.key=e}}class u2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=zS(e),this.Ra=new Ho(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new $_,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,r=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const p=s.get(h),_=of(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let U=!1;p&&_?p.data.isEqual(_.data)?x!==M&&(i.track({type:3,doc:_}),U=!0):this.ga(p,_)||(i.track({type:2,doc:_}),U=!0,(u&&this.Aa(_,u)>0||d&&this.Aa(_,d)<0)&&(a=!0)):!p&&_?(i.track({type:0,doc:_}),U=!0):p&&!_&&(i.track({type:1,doc:p}),U=!0,(u||d)&&(a=!0)),U&&(_?(r=r.add(_),o=M?o.add(h):o.delete(h)):(r=r.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;r.size>this.query.limit;){const h=this.query.limitType==="F"?r.last():r.first();r=r.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Ra:r,fa:i,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const r=e.fa.G_();r.sort((h,m)=>function(_,x){const M=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return M(_)-M(x)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(i),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,r.length!==0||d?{snapshot:new cr(this.query,e.Ra,o,r,e.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ae(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new SC(i))}),this.da.forEach(i=>{e.has(i)||n.push(new AC(i))}),n}ba(e){this.Ta=e.Ts,this.da=ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class c2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class f2{constructor(e){this.key=e,this.va=!1}}class d2{constructor(e,n,i,s,o,r){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=r,this.Ca={},this.Fa=new Cr(a=>BS(a),sf),this.Ma=new Map,this.xa=new Set,this.Oa=new qe($.comparator),this.Na=new Map,this.La=new Tm,this.Ba={},this.ka=new Map,this.qa=ur.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function h2(t,e,n=!0){const i=NC(t);let s;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await CC(i,e,n,!0),s}async function p2(t,e){const n=NC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,i){const s=await kD(t.localStore,Dn(e)),o=s.targetId,r=t.sharedClientState.addLocalQueryTarget(o,n);let a;return i&&(a=await m2(t,e,o,r==="current",s.resumeToken)),t.isPrimaryClient&&n&&hC(t.remoteStore,s),a}async function m2(t,e,n,i,s){t.Ka=(m,p,_)=>async function(M,U,I,A){let T=U.view.ma(I);T.ns&&(T=await Y_(M.localStore,U.query,!1).then(({documents:R})=>U.view.ma(R,T)));const D=A&&A.targetChanges.get(U.targetId),L=A&&A.targetMismatches.get(U.targetId)!=null,B=U.view.applyChanges(T,M.isPrimaryClient,D,L);return j_(M,U.targetId,B.wa),B.snapshot}(t,m,p,_);const o=await Y_(t.localStore,e,!0),r=new u2(e,o.Ts),a=r.ma(o.documents),u=Al.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=r.applyChanges(a,t.isPrimaryClient,u);j_(t,n,d.wa);const h=new c2(e,n,r);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function g2(t,e,n){const i=ne(t),s=i.Fa.get(e),o=i.Ma.get(s.targetId);if(o.length>1)return i.Ma.set(s.targetId,o.filter(r=>!sf(r,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await kh(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Sm(i.remoteStore,s.targetId),qh(i,s.targetId)}).catch(_l)):(qh(i,s.targetId),await kh(i.localStore,s.targetId,!0))}async function y2(t,e){const n=ne(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Sm(n.remoteStore,i.targetId))}async function _2(t,e,n){const i=I2(t);try{const s=await function(r,a){const u=ne(r),d=je.now(),h=a.reduce((_,x)=>_.add(x.key),ae());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=fi(),M=ae();return u.cs.getEntries(_,h).next(U=>{x=U,x.forEach((I,A)=>{A.isValidDocument()||(M=M.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(U=>{m=U;const I=[];for(const A of a){const T=FM(A,m.get(A.key).overlayedDocument);T!=null&&I.push(new $s(A.key,T,PS(T.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,I,a)}).next(U=>{p=U;const I=U.applyToLocalDocumentSet(m,M);return u.documentOverlayCache.saveOverlays(_,U.batchId,I)})}).then(()=>({batchId:p.batchId,changes:HS(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(r,a,u){let d=r.Ba[r.currentUser.toKey()];d||(d=new qe(he)),d=d.insert(a,u),r.Ba[r.currentUser.toKey()]=d}(i,s.batchId,n),await Cl(i,s.changes),await ff(i.remoteStore)}catch(s){const o=xm(s,"Failed to persist write");n.reject(o)}}async function IC(t,e){const n=ne(t);try{const i=await PD(n.localStore,e);e.targetChanges.forEach((s,o)=>{const r=n.Na.get(o);r&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?r.va=!0:s.modifiedDocuments.size>0?Te(r.va):s.removedDocuments.size>0&&(Te(r.va),r.va=!1))}),await Cl(n,i,e)}catch(i){await _l(i)}}function Z_(t,e,n){const i=ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Fa.forEach((o,r)=>{const a=r.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(r,a){const u=ne(r);u.onlineState=a;let d=!1;u.queries.forEach((h,m)=>{for(const p of m.j_)p.Z_(a)&&(d=!0)}),d&&Nm(u)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function v2(t,e,n){const i=ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Na.get(e),o=s&&s.key;if(o){let r=new qe($.comparator);r=r.insert(o,Ct.newNoDocument(o,te.min()));const a=ae().add(o),u=new lf(te.min(),new Map,new qe(he),r,a);await IC(i,u),i.Oa=i.Oa.remove(o),i.Na.delete(e),bm(i)}else await kh(i.localStore,e,!1).then(()=>qh(i,e,n)).catch(_l)}async function T2(t,e){const n=ne(t),i=e.batch.batchId;try{const s=await DD(n.localStore,e);wC(n,i,null),RC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Cl(n,s)}catch(s){await _l(s)}}async function E2(t,e,n){const i=ne(t);try{const s=await function(r,a){const u=ne(r);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,a).next(m=>(Te(m!==null),h=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(i.localStore,e);wC(i,e,n),RC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Cl(i,s)}catch(s){await _l(s)}}function RC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wC(t,e,n){const i=ne(t);let s=i.Ba[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function qh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||xC(t,i)})}function xC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Sm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bm(t))}function j_(t,e,n){for(const i of n)i instanceof AC?(t.La.addReference(i.key,e),A2(t,i)):i instanceof SC?(J("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||xC(t,i.key)):ee()}function A2(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(i),bm(t))}function bm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new $(De.fromString(e)),i=t.qa.next();t.Na.set(i,new f2(n)),t.Oa=t.Oa.insert(n,i),hC(t.remoteStore,new ki(Dn(pm(n.path)),i,"TargetPurposeLimboResolution",lm.oe))}}async function Cl(t,e,n){const i=ne(t),s=[],o=[],r=[];i.Fa.isEmpty()||(i.Fa.forEach((a,u)=>{r.push(i.Ka(u,e,n).then(d=>{var h;if((d||n)&&i.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Am.Wi(u.targetId,d);o.push(m)}}))}),await Promise.all(r),i.Ca.d_(s),await async function(u,d){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(d,p=>z.forEach(p.$i,_=>h.persistence.referenceDelegate.addReference(m,p.targetId,_)).next(()=>z.forEach(p.Ui,_=>h.persistence.referenceDelegate.removeReference(m,p.targetId,_)))))}catch(m){if(!vl(m))throw m;J("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const _=h.os.get(p),x=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(p,M)}}}(i.localStore,o))}async function S2(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const i=await uC(n.localStore,e);n.currentUser=e,function(o,r){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new K(F.CANCELLED,r))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cl(n,i.hs)}}function C2(t,e){const n=ne(t),i=n.Na.get(e);if(i&&i.va)return ae().add(i.key);{let s=ae();const o=n.Ma.get(e);if(!o)return s;for(const r of o){const a=n.Fa.get(r);s=s.unionWith(a.view.Va)}return s}}function NC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v2.bind(null,e),e.Ca.d_=a2.bind(null,e.eventManager),e.Ca.$a=l2.bind(null,e.eventManager),e}function I2(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E2.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return MD(this.persistence,new ND,e.initialUser,this.serializer)}Ga(e){return new RD(Em.Zr,this.serializer)}Wa(e){return new qD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class Oh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S2.bind(null,this.syncEngine),await s2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r2}()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),i=function(o){return new zD(o)}(e.databaseInfo);return function(o,r,a,u){return new YD(o,r,a,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,r,a){return new JD(i,s,o,r,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Z_(this.syncEngine,n,0),function(){return J_.D()?new J_:new OD}())}createSyncEngine(e,n){return function(s,o,r,a,u,d,h){const m=new d2(s,o,r,a,u,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ne(s);J("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Sl(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oh.provider={build:()=>new Oh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=bS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async r=>{J("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(J("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=xm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vd(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await uC(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ev(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w2(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Q_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Q_(e.remoteStore,s)),t._onlineComponents=e}async function w2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await vd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;or("Error using user provided cache. Falling back to memory cache: "+n),await vd(t,new wc)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await vd(t,new wc);return t._offlineComponents}async function MC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await ev(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await ev(t,new Oh))),t._onlineComponents}function x2(t){return MC(t).then(e=>e.syncEngine)}async function DC(t){const e=await MC(t),n=e.eventManager;return n.onListen=h2.bind(null,e.syncEngine),n.onUnlisten=g2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y2.bind(null,e.syncEngine),n}function N2(t,e,n={}){const i=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,r,a,u,d){const h=new bC({next:p=>{h.Za(),r.enqueueAndForget(()=>TC(o,m));const _=p.docs.has(a);!_&&p.fromCache?d.reject(new K(F.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&p.fromCache&&u&&u.source==="server"?d.reject(new K(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new EC(pm(a.path),h,{includeMetadataChanges:!0,_a:!0});return vC(o,m)}(await DC(t),t.asyncQueue,e,n,i)),i.promise}function b2(t,e,n={}){const i=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,r,a,u,d){const h=new bC({next:p=>{h.Za(),r.enqueueAndForget(()=>TC(o,m)),p.fromCache&&u.source==="server"?d.reject(new K(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new EC(a,h,{includeMetadataChanges:!0,_a:!0});return vC(o,m)}(await DC(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M2(t,e,n,i){if(e===!0&&i===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nv(t){if(!$.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iv(t){if($.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $b;switch(i.type){case"firstParty":return new jb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=tv.get(n);i&&(J("ComponentProvider","Removing Datastore"),tv.delete(n),i.terminate())}(this),Promise.resolve()}}function D2(t,e,n,i={}){var s;const o=(t=os(t,hf))._getSettings(),r=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==r&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:r,ssl:!1})),i.mockUserToken){let a,u;if(typeof i.mockUserToken=="string")a=i.mockUserToken,u=St.MOCK_USER;else{a=lN(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new St(d)}t._authCredentials=new Xb(new NS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class $i extends Rr{constructor(e,n,i){super(e,n,pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new $(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function UC(t,e,...n){if(t=es(t),VC("collection","path",e),t instanceof hf){const i=De.fromString(e,...n);return iv(i),new $i(t,null,i)}{if(!(t instanceof Lt||t instanceof $i))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return iv(i),new $i(t.firestore,null,i)}}function Gs(t,e,...n){if(t=es(t),arguments.length===1&&(e=bS.newId()),VC("doc","path",e),t instanceof hf){const i=De.fromString(e,...n);return nv(i),new Lt(t,null,new $(i))}{if(!(t instanceof Lt||t instanceof $i))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return nv(i),new Lt(t.firestore,t instanceof $i?t.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fC(this,"async_queue_retry"),this.Vu=()=>{const i=_d();i&&J("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=_d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ni;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vl(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(r){let a=r.message||"";return r.stack&&(a=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),a}(i);throw ci("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=wm.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Il extends hf{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new ov,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ov(e),this._firestoreClient=void 0,await e}}}function P2(t,e){const n=typeof t=="object"?t:ZA(),i=typeof t=="string"?t:"(default)",s=yl(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=rN("firestore");o&&D2(s,...o)}return s}function Mm(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V2(t),t._firestoreClient}function V2(t){var e,n,i;const s=t._freezeSettings(),o=function(a,u,d,h){return new dM(a,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new R2(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fr(vt.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fr(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^__.*__$/;class k2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}function LC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Um{constructor(e,n,i,s,o,r){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.Ou(e),s}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return xc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LC(this.Cu)&&U2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class L2{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||uf(e)}Qu(e,n,i,s=!1){return new Um({Cu:e,methodName:n,qu:i,path:mt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qC(t){const e=t._freezeSettings(),n=uf(t._databaseId);return new L2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q2(t,e,n,i,s,o={}){const r=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);BC("Data must be an object, but it was:",r,i);const a=OC(i,r);let u,d;if(o.merge)u=new En(r.fieldMask),d=r.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const p=F2(e,m,n);if(!r.contains(p))throw new K(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);z2(h,p)||h.push(p)}u=new En(h),d=r.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=r.fieldTransforms;return new k2(new ln(a),u,d)}function O2(t,e,n,i=!1){return km(n,t.Qu(i?4:3,e))}function km(t,e){if(FC(t=es(t)))return BC("Unsupported field value:",e,t),OC(t,e);if(t instanceof kC)return function(i,s){if(!LC(s.Cu))throw s.Bu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,s){const o=[];let r=0;for(const a of i){let u=km(a,s.Lu(r));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),r++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=es(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return VM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=je.fromDate(i);return{timestampValue:Ic(s.serializer,o)}}if(i instanceof je){const o=new je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ic(s.serializer,o)}}if(i instanceof Pm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fr)return{bytesValue:nC(s.serializer,i._byteString)};if(i instanceof Lt){const o=s.databaseId,r=i.firestore._databaseId;if(!r.isEqual(o))throw s.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vm(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Vm)return function(r,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return mm(a.serializer,u)})}}}}}}(i,s);throw s.Bu(`Unsupported field value: ${df(i)}`)}(t,e)}function OC(t,e){const n={};return MS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(t,(i,s)=>{const o=km(s,e.Mu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function FC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Pm||t instanceof fr||t instanceof Lt||t instanceof kC||t instanceof Vm)}function BC(t,e,n){if(!FC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=df(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function F2(t,e,n){if((e=es(e))instanceof Dm)return e._internalPath;if(typeof e=="string")return zC(t,e);throw xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const B2=new RegExp("[~\\*/\\[\\]]");function zC(t,e,n){if(e.search(B2)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dm(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xc(t,e,n,i,s){const o=i&&!i.isEmpty(),r=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||r)&&(u+=" (found",o&&(u+=` in field ${i}`),r&&(u+=` in document ${s}`),u+=")"),new K(F.INVALID_ARGUMENT,a+t+u)}function z2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G2 extends GC{data(){return super.data()}}function HC(t,e){return typeof e=="string"?zC(t,e):e instanceof Dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class Y2 extends Lm{}function K2(t,e,...n){let i=[];e instanceof Lm&&i.push(e),i=i.concat(n),function(o){const r=o.filter(u=>u instanceof Om).length,a=o.filter(u=>u instanceof qm).length;if(r>1||r>0&&a>0)throw new K(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class qm extends Y2{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new qm(e,n,i)}_apply(e){const n=this._parse(e);return YC(e._query,n),new Rr(e.firestore,e.converter,bh(e._query,n))}_parse(e){const n=qC(e.firestore);return function(o,r,a,u,d,h,m){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){av(m,h);const _=[];for(const x of m)_.push(rv(u,o,x));p={arrayValue:{values:_}}}else p=rv(u,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||av(m,h),p=O2(a,r,m,h==="in"||h==="not-in");return Xe.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Om extends Lm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Om(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let r=s;const a=o.getFlattenedFilters();for(const u of a)YC(r,u),r=bh(r,u)}(e._query,n),new Rr(e.firestore,e.converter,bh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rv(t,e,n){if(typeof(n=es(n))=="string"){if(n==="")throw new K(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FS(e)&&n.indexOf("/")!==-1)throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(De.fromString(n));if(!$.isDocumentKey(i))throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return x_(t,new $(i))}if(n instanceof Lt)return x_(t,n._key);throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function av(t,e){if(!Array.isArray(t)||t.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YC(t,e){const n=function(s,o){for(const r of s)for(const a of r.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J2{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Sr(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,s;const o=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(r=>Ge(r.doubleValue));return new Vm(o)}convertGeoPoint(e){return new Pm(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=cm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const n=is(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=De.fromString(e);Te(lC(i));const s=new el(i.get(1),i.get(3)),o=new $(i.popFirst(5));return s.isEqual(n)||ci(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KC extends GC{constructor(e,n,i,s,o,r){super(e,n,i,s,r),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(HC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ku extends KC{data(e={}){return super.data(e)}}class $2{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ga(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ku(this._firestore,this._userDataWriter,i.key,i,new ga(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let r=0;return s._snapshot.docChanges.map(a=>{const u=new ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ga(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:r++}})}{let r=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ga(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=r.indexOf(a.doc.key),r=r.delete(a.doc.key)),a.type!==1&&(r=r.add(a.doc),h=r.indexOf(a.doc.key)),{type:X2(a.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){t=os(t,Lt);const e=os(t.firestore,Il);return N2(Mm(e),t._key).then(n=>W2(e,t,n))}class JC extends J2{constructor(e){super(),this.firestore=e}convertBytes(e){return new fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function QC(t){t=os(t,Rr);const e=os(t.firestore,Il),n=Mm(e),i=new JC(e);return H2(t._query),b2(n,t._query).then(s=>new $2(e,i,t,s))}function sl(t,e,n){t=os(t,Lt);const i=os(t.firestore,Il),s=Q2(t.converter,e);return XC(i,[q2(qC(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Pn.none())])}function $C(t){return XC(os(t.firestore,Il),[new gm(t._key,Pn.none())])}function XC(t,e){return function(i,s){const o=new ni;return i.asyncQueue.enqueueAndForget(async()=>_2(await x2(i),s,o)),o.promise}(Mm(t),e)}function W2(t,e,n){const i=n.docs.get(e._key),s=new JC(t);return new KC(t,s,e._key,i,new ga(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ar=s})(_1),ts(new li("firestore",(i,{instanceIdentifier:s,options:o})=>{const r=i.getProvider("app").getImmediate(),a=new Il(new Wb(i.getProvider("auth-internal")),new tM(i.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(d.options.projectId,h)}(r,s),r);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Mn(S_,"4.7.3",e),Mn(S_,"4.7.3","esm2017")})();const Z2={apiKey:"AIzaSyB203iYO9fQZVEy0YqUkly9gfUkkZSYwcA",authDomain:"portal-corporativobr.firebaseapp.com",projectId:"portal-corporativobr",storageBucket:"portal-corporativobr.firebasestorage.app",messagingSenderId:"671941361744",appId:"1:671941361744:web:fee2bade6d875b4be61155",measurementId:"G-B7KXEPQLR3"},WC=WA(Z2);Yb(WC);const di=P2(WC),dr="users",Fm="content",uv={createUsers:!0,createContent:!0,editData:!0,deleteData:!0,viewUsers:!0,manageAdmins:!0},j2=async()=>{try{const t=Gs(di,dr,"admin-001");if(!(await lv(t)).exists()){const s={id:"admin-001",username:"admin",idType:"matricula",password:"admin",role:Tn.ADMIN,isFirstAccess:!1,permissions:uv};await sl(t,s),console.log("Admin padro criado no Firebase")}const n=Gs(di,dr,"super-admin-coutinho");if(!(await lv(n)).exists()){const s={id:"super-admin-coutinho",username:"Coutinho",idType:"matricula",password:"Coutinho@89",role:Tn.ADMIN,isFirstAccess:!1,permissions:uv};await sl(n,s),console.log("Super Admin Coutinho criado no Firebase")}}catch(t){console.error("Erro ao inicializar storage:",t)}},Bm=async()=>{try{const t=await QC(UC(di,dr)),e=[];return t.forEach(n=>{e.push(n.data())}),e}catch(t){return console.error("Erro ao buscar usurios:",t),[]}},ZC=async t=>{try{const e=JSON.parse(JSON.stringify(t));await sl(Gs(di,dr,t.id),e)}catch(e){throw console.error("Erro ao salvar usurio:",e),e}},eP=async t=>{try{await $C(Gs(di,dr,t))}catch(e){console.error("Erro ao deletar usurio:",e)}},cv=async(t,e,n=Tn.USER,i,s,o)=>{try{if((await Bm()).find(d=>d.username===t))return!1;let a;o&&(a={fullName:"",rg:"",birthDate:"",phone:"",secondaryId:o,voterTitle:"",reservistId:"",pisPasep:"",cep:"",state:"",city:"",neighborhood:"",address:"",houseNumber:"",complement:"",bankData:{pixType:"",pixKey:"",holderName:"",bankName:"",agency:"",account:""}});const u={id:crypto.randomUUID(),username:t,idType:e,password:i||"",role:n,isFirstAccess:n===Tn.USER};return n===Tn.ADMIN&&s&&(u.permissions=s),a&&(u.personalData=a),await sl(Gs(di,dr,u.id),u),!0}catch(r){return console.error("Erro ao criar usurio:",r),!1}},Fh=async()=>{try{const t=K2(UC(di,Fm)),e=await QC(t),n=[];return e.forEach(i=>{n.push(i.data())}),n.sort((i,s)=>new Date(s.date).getTime()-new Date(i.date).getTime())}catch(t){return console.error("Erro ao buscar contedo:",t),[]}},tP=async t=>{try{await sl(Gs(di,Fm,t.id),t)}catch(e){throw console.error("Erro ao adicionar contedo:",e),new Error("Erro ao salvar. O arquivo pode ser muito grande (Limite ~900KB no Firestore).")}},nP=async t=>{try{await $C(Gs(di,Fm,t))}catch(e){console.error("Erro ao deletar contedo:",e)}},iP=t=>new Promise((e,n)=>{if(t.size>900*1024){n(new Error("O arquivo  muito grande para o modo gratuito bsico. Limite: 900KB."));return}const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(i.result),i.onerror=s=>n(s)});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),fv=t=>{const e=oP(t);return e.charAt(0).toUpperCase()+e.slice(1)},jC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),rP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:r,...a},u)=>X.createElement("svg",{ref:u,...aP,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:jC("lucide",s),...!o&&!rP(a)&&{"aria-hidden":"true"},...a},[...r.map(([d,h])=>X.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=X.forwardRef(({className:i,...s},o)=>X.createElement(lP,{ref:o,iconNode:e,className:jC(`lucide-${sP(fv(t))}`,`lucide-${t}`,i),...s}));return n.displayName=fv(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Td=Ee("chevron-left",uP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fP=Ee("chevron-right",cP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dv=Ee("circle-check-big",dP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],pP=Ee("cloud",hP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gP=Ee("copy",mP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nc=Ee("credit-card",yP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eI=Ee("download",_P);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tI=Ee("external-link",vP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nI=Ee("file-text",TP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Bh=Ee("file",EP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],SP=Ee("hash",AP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],IP=Ee("image",CP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wP=Ee("layout-dashboard",RP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zh=Ee("link",xP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hr=Ee("loader-circle",NP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iI=Ee("lock",bP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sI=Ee("log-out",MP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oI=Ee("map-pin",DP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],VP=Ee("phone",PP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],kP=Ee("qr-code",UP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qP=Ee("save",LP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FP=Ee("settings",OP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ed=Ee("shield",BP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ad=Ee("trash-2",zP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hv=Ee("upload",GP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YP=Ee("user-cog",HP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],JP=Ee("user-plus",KP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lu=Ee("user",QP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gu=Ee("users",$P),XP=({onLogin:t})=>{const[e,n]=X.useState(""),[i,s]=X.useState(""),[o,r]=X.useState(""),[a,u]=X.useState(!1),[d,h]=X.useState(!0);X.useEffect(()=>{(async()=>{await j2(),h(!1)})()},[]);const m=async()=>{if(!e||!i){r("Preencha todos os campos.");return}r(""),u(!0);try{const _=(await Bm()).find(x=>x.username===e);if(_)if(_.isFirstAccess){if(i.length<4){r("Para criar sua senha, use no mnimo 4 caracteres."),u(!1);return}_.password=i,await ZC(_),t(_)}else _.password===i?t(_):r("Senha incorreta.");else r("Usurio no encontrado.")}catch(p){console.error(p),r("Erro de conexo com o servidor.")}finally{u(!1)}};return d?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(hr,{className:"w-10 h-10 animate-spin mx-auto mb-2 text-blue-600"}),v.jsx("p",{children:"Conectando ao sistema..."})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-md p-8 rounded-3xl shadow-xl",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Portal Corporativo"}),v.jsx("p",{className:"text-gray-400 mt-2",children:"Acesse seus documentos"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx(Lu,{className:"absolute left-4 top-3.5 text-gray-400",size:20}),v.jsx("input",{type:"text",placeholder:"CPF / Matrcula",value:e,onChange:p=>n(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(iI,{className:"absolute left-4 top-3.5 text-gray-400",size:20}),v.jsx("input",{type:"password",placeholder:"Senha (Primeiro Acesso, Crie uma Senha)",value:i,onChange:p=>s(p.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all"}),v.jsx("p",{className:"text-xs text-gray-400 mt-2 ml-1",children:"A senha  necessria para um login futuro"})]}),o&&v.jsx("p",{className:"text-red-500 text-center text-sm bg-red-50 p-2 rounded-lg",children:o}),v.jsx("button",{onClick:m,disabled:a,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 transition-transform active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:a?v.jsx(hr,{className:"animate-spin",size:20}):"Entrar"})]}),v.jsx("div",{className:"mt-8 text-center text-gray-400 text-xs",children:" 2026 S.F.D. Powered by Maicon Coutinho."})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let WP,ZP;function jP(){return{geminiUrl:WP,vertexUrl:ZP}}function eV(t,e,n,i){var s,o;if(!(t!=null&&t.baseUrl)){const r=jP();return e?(s=r.vertexUrl)!==null&&s!==void 0?s:n:(o=r.geminiUrl)!==null&&o!==void 0?o:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mi{}function Y(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const o=e[s];return o!=null?String(o):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(t,e,n){for(let o=0;o<e.length-1;o++){const r=e[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[a])){const u=t[a];if(Array.isArray(n))for(let d=0;d<u.length;d++){const h=u[d];f(h,e.slice(o+1),n[d])}else for(const d of u)f(d,e.slice(o+1),n)}return}else if(r.endsWith("[0]")){const a=r.slice(0,-3);a in t||(t[a]=[{}]);const u=t[a];f(u[0],e.slice(o+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const o=s.slice(0,-2);if(o in t){const r=t[o];return Array.isArray(r)?r.map(a=>l(a,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function tV(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),o=i.split("."),r=new Set;let a=-1;for(let u=0;u<s.length;u++)if(s[u]==="*"){a=u;break}if(a!==-1&&o.length>a)for(let u=a;u<o.length;u++){const d=o[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&r.add(d)}Gh(t,s,o,0,r)}}function Gh(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const o=e[i];if(o.endsWith("[]")){const r=o.slice(0,-2),a=t;if(r in a&&Array.isArray(a[r]))for(const u of a[r])Gh(u,e,n,i+1,s)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const r=t,a=Object.keys(r).filter(d=>!d.startsWith("_")&&!s.has(d)),u={};for(const d of a)u[d]=r[d];for(const[d,h]of Object.entries(u)){const m=[];for(const p of n.slice(i))p==="*"?m.push(d):m.push(p);f(r,m,h)}for(const d of a)delete r[d]}}else{const r=t;o in r&&Gh(r[o],e,n,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zm(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nV(t){const e={},n=l(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=l(t,["resourceName"]);return i!=null&&f(e,["_url","resourceName"],i),e}function iV(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response","generateVideoResponse"]);return r!=null&&f(e,["response"],oV(r)),e}function sV(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response"]);return r!=null&&f(e,["response"],rV(r)),e}function oV(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>aV(r))),f(e,["generatedVideos"],o)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function rV(t){const e={},n=l(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>lV(r))),f(e,["generatedVideos"],o)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function aV(t){const e={},n=l(t,["video"]);return n!=null&&f(e,["video"],pV(n)),e}function lV(t){const e={},n=l(t,["_self"]);return n!=null&&f(e,["video"],mV(n)),e}function uV(t){const e={},n=l(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function cV(t){const e={},n=l(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function fV(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response"]);return r!=null&&f(e,["response"],dV(r)),e}function dV(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["parent"]);i!=null&&f(e,["parent"],i);const s=l(t,["documentName"]);return s!=null&&f(e,["documentName"],s),e}function rI(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response"]);return r!=null&&f(e,["response"],hV(r)),e}function hV(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["parent"]);i!=null&&f(e,["parent"],i);const s=l(t,["documentName"]);return s!=null&&f(e,["documentName"],s),e}function pV(t){const e={},n=l(t,["uri"]);n!=null&&f(e,["uri"],n);const i=l(t,["encodedVideo"]);i!=null&&f(e,["videoBytes"],zm(i));const s=l(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function mV(t){const e={},n=l(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],zm(i));const s=l(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pv||(pv={}));var mv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(mv||(mv={}));var gv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(gv||(gv={}));var Li;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Li||(Li={}));var yv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yv||(yv={}));var _v;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_v||(_v={}));var vv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(vv||(vv={}));var Tv;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Tv||(Tv={}));var Ev;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ev||(Ev={}));var Av;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Av||(Av={}));var Sv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Sv||(Sv={}));var Cv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Cv||(Cv={}));var Iv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Iv||(Iv={}));var Rv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Rv||(Rv={}));var wv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(wv||(wv={}));var xv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xv||(xv={}));var Nv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nv||(Nv={}));var bv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bv||(bv={}));var Mv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mv||(Mv={}));var bc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(bc||(bc={}));var Dv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dv||(Dv={}));var Pv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Pv||(Pv={}));var Vv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vv||(Vv={}));var Hh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hh||(Hh={}));var Uv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Uv||(Uv={}));var kv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kv||(kv={}));var Lv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Lv||(Lv={}));var qv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(qv||(qv={}));var Ov;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ov||(Ov={}));var Fv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fv||(Fv={}));var Bv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Bv||(Bv={}));var zv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zv||(zv={}));var Gv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Gv||(Gv={}));var Hv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Hv||(Hv={}));var Yv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Yv||(Yv={}));var Kv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Kv||(Kv={}));var Jv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jv||(Jv={}));var Qv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qv||(Qv={}));var $v;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})($v||($v={}));var Xv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Xv||(Xv={}));var Wv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Wv||(Wv={}));var Zv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Zv||(Zv={}));var jv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(jv||(jv={}));var eT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(eT||(eT={}));var tT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(tT||(tT={}));var nT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(nT||(nT={}));var iT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(iT||(iT={}));var sT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(sT||(sT={}));var oT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oT||(oT={}));var rT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rT||(rT={}));var aT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(aT||(aT={}));var lT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lT||(lT={}));var uT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(uT||(uT={}));var cT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(cT||(cT={}));var ko;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ko||(ko={}));class Yh{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class aa{get text(){var e,n,i,s,o,r,a,u;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const p of(u=(a=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[_,x]of Object.entries(p))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(x!==null||x!==void 0)&&m.push(_);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;h=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,i,s,o,r,a,u;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(u=(a=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(const[p,_]of Object.entries(m))p!=="inlineData"&&(_!==null||_!==void 0)&&h.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,s,o,r,a,u;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(a=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,s,o,r,a,u,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(a=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,s,o,r,a,u,d;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(a=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class fT{}class dT{}class gV{}class yV{}class _V{}class vV{}class hT{}class pT{}class mT{}class TV{}class Mc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Mc;let s;const o=e;return n?s=sV(o):s=iV(o),Object.assign(i,s),i}}class gT{}class yT{}class _T{}class vT{}class EV{}class AV{}class SV{}class Gm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Gm,o=fV(e);return Object.assign(i,o),i}}class CV{}class IV{}class RV{}class TT{}class wV{get text(){var e,n,i;let s="",o=!1;const r=[];for(const a of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(a))u!=="text"&&u!=="thought"&&d!==null&&r.push(u);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,s+=a.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?s:void 0}get data(){var e,n,i;let s="";const o=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[a,u]of Object.entries(r))a!=="inlineData"&&u!==null&&o.push(a);r.inlineData&&typeof r.inlineData.data=="string"&&(s+=atob(r.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class xV{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Hm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Hm,o=rI(e);return Object.assign(i,o),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function aI(t,e){const n=pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function lI(t){return Array.isArray(t)?t.map(e=>Dc(e)):[Dc(t)]}function Dc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function uI(t){const e=Dc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cI(t){const e=Dc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ET(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ET(e)):[ET(t)]}function Kh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function AT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ST(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function It(t){if(t==null)throw new Error("ContentUnion is required");return Kh(t)?t:{role:"user",parts:fI(t)}}function Ym(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=It(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=It(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>It(n)):[It(e)]}function fn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(AT(t)||ST(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(t)]}const e=[],n=[],i=Kh(t[0]);for(const s of t){const o=Kh(s);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(s);else{if(AT(s)||ST(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:fI(n)}),e}function NV(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Li).includes(n[0].toUpperCase())?n[0].toUpperCase():Li.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Li).includes(i.toUpperCase())?i.toUpperCase():Li.TYPE_UNSPECIFIED})}}function Yo(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&NV(t.type,e);for(const[r,a]of Object.entries(t))if(a!=null)if(r=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Li).includes(a.toUpperCase())?a.toUpperCase():Li.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Yo(a);else if(i.includes(r)){const u=[];for(const d of a){if(d.type=="null"){e.nullable=!0;continue}u.push(Yo(d))}e[r]=u}else if(s.includes(r)){const u={};for(const[d,h]of Object.entries(a))u[d]=Yo(h);e[r]=u}else{if(r==="additionalProperties")continue;e[r]=a}return e}function Km(t){return Yo(t)}function Jm(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Qm(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function wr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yo(e.response));return t}function xr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function bV(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function gi(t,e){if(typeof e!="string")throw new Error("name must be a string");return bV(t,e,"cachedContents")}function dI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function us(t){return zm(t)}function MV(t){return t!=null&&typeof t=="object"&&"name"in t}function DV(t){return t!=null&&typeof t=="object"&&"video"in t}function PV(t){return t!=null&&typeof t=="object"&&"uri"in t}function hI(t){var e;let n;if(MV(t)&&(n=t.name),!(PV(t)&&(n=t.uri,n===void 0))&&!(DV(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function pI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function mI(t){for(const e of["models","tunedModels","publisherModels"])if(VV(t,e))return t[e];return[]}function VV(t,e){return t!==null&&typeof t=="object"&&e in t}function UV(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function kV(t,e={}){const n=[],i=new Set;for(const s of t){const o=s.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const r=UV(s,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function gI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function LV(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let o=!1;for(const r of s){if(typeof r!="object"||r===null)continue;const u=r.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Nr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _I(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qV(t){const e={},n=l(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=l(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>_U(r))),f(e,["inlinedResponses"],o)}const s=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["inlinedEmbedContentResponses"],o)}return e}function OV(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=l(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const s=l(t,["bigqueryDestination","outputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function FV(t){const e={},n=l(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=l(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const s=l(t,["bigqueryUri"]);if(s!=null&&f(e,["bigqueryDestination","outputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function qu(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const s=l(t,["metadata","state"]);s!=null&&f(e,["state"],_I(s));const o=l(t,["metadata","createTime"]);o!=null&&f(e,["createTime"],o);const r=l(t,["metadata","endTime"]);r!=null&&f(e,["endTime"],r);const a=l(t,["metadata","updateTime"]);a!=null&&f(e,["updateTime"],a);const u=l(t,["metadata","model"]);u!=null&&f(e,["model"],u);const d=l(t,["metadata","output"]);return d!=null&&f(e,["dest"],qV(yI(d))),e}function Jh(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=l(t,["state"]);s!=null&&f(e,["state"],_I(s));const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["createTime"]);r!=null&&f(e,["createTime"],r);const a=l(t,["startTime"]);a!=null&&f(e,["startTime"],a);const u=l(t,["endTime"]);u!=null&&f(e,["endTime"],u);const d=l(t,["updateTime"]);d!=null&&f(e,["updateTime"],d);const h=l(t,["model"]);h!=null&&f(e,["model"],h);const m=l(t,["inputConfig"]);m!=null&&f(e,["src"],BV(m));const p=l(t,["outputConfig"]);p!=null&&f(e,["dest"],OV(yI(p)));const _=l(t,["completionStats"]);return _!=null&&f(e,["completionStats"],_),e}function BV(t){const e={},n=l(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=l(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const s=l(t,["bigquerySource","inputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function zV(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(e,["fileName"]);i!=null&&f(n,["fileName"],i);const s=l(e,["inlinedRequests"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>yU(t,r))),f(n,["requests","requests"],o)}return n}function GV(t){const e={},n=l(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=l(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const s=l(t,["bigqueryUri"]);if(s!=null&&f(e,["bigquerySource","inputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function HV(t){const e={},n=l(t,["data"]);if(n!=null&&f(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function YV(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],Nr(t,i)),n}function KV(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],Nr(t,i)),n}function JV(t){const e={},n=l(t,["content"]);n!=null&&f(e,["content"],n);const i=l(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],QV(i));const s=l(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const o=l(t,["finishReason"]);o!=null&&f(e,["finishReason"],o);const r=l(t,["avgLogprobs"]);r!=null&&f(e,["avgLogprobs"],r);const a=l(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);const u=l(t,["index"]);u!=null&&f(e,["index"],u);const d=l(t,["logprobsResult"]);d!=null&&f(e,["logprobsResult"],d);const h=l(t,["safetyRatings"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(_=>_)),f(e,["safetyRatings"],p)}const m=l(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],m),e}function QV(t){const e={},n=l(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["citations"],i)}return e}function vI(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>IU(o))),f(e,["parts"],s)}const i=l(t,["role"]);return i!=null&&f(e,["role"],i),e}function $V(t,e){const n={},i=l(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function XV(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=l(t,["dest"]);return e!==void 0&&s!=null&&f(e,["outputConfig"],FV(LV(s))),n}function CT(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["src"]);s!=null&&f(n,["batch","inputConfig"],zV(t,gI(t,s)));const o=l(e,["config"]);return o!=null&&$V(o,n),n}function WV(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["model"],pe(t,i));const s=l(e,["src"]);s!=null&&f(n,["inputConfig"],GV(gI(t,s)));const o=l(e,["config"]);return o!=null&&XV(o,n),n}function ZV(t,e){const n={},i=l(t,["displayName"]);return e!==void 0&&i!=null&&f(e,["batch","displayName"],i),n}function jV(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["src"]);s!=null&&f(n,["batch","inputConfig"],rU(t,s));const o=l(e,["config"]);return o!=null&&ZV(o,n),n}function eU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],Nr(t,i)),n}function tU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],Nr(t,i)),n}function nU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&f(e,["name"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);return o!=null&&f(e,["error"],o),e}function iU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["name"]);i!=null&&f(e,["name"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);return o!=null&&f(e,["error"],o),e}function sU(t,e){const n={},i=l(e,["contents"]);if(i!=null){let o=Ym(t,i);Array.isArray(o)&&(o=o.map(r=>r)),f(n,["requests[]","request","content"],o)}const s=l(e,["config"]);return s!=null&&(f(n,["_self"],oU(s,n)),tV(n,{"requests[].*":"requests[].request.*"})),n}function oU(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const s=l(t,["title"]);e!==void 0&&s!=null&&f(e,["requests[]","title"],s);const o=l(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rU(t,e){const n={},i=l(e,["fileName"]);i!=null&&f(n,["file_name"],i);const s=l(e,["inlinedRequests"]);return s!=null&&f(n,["requests"],sU(t,s)),n}function aU(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function lU(t){const e={},n=l(t,["id"]);n!=null&&f(e,["id"],n);const i=l(t,["args"]);i!=null&&f(e,["args"],i);const s=l(t,["name"]);if(s!=null&&f(e,["name"],s),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uU(t){const e={},n=l(t,["mode"]);n!=null&&f(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cU(t,e,n){const i={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],vI(It(s)));const o=l(e,["temperature"]);o!=null&&f(i,["temperature"],o);const r=l(e,["topP"]);r!=null&&f(i,["topP"],r);const a=l(e,["topK"]);a!=null&&f(i,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&f(i,["candidateCount"],u);const d=l(e,["maxOutputTokens"]);d!=null&&f(i,["maxOutputTokens"],d);const h=l(e,["stopSequences"]);h!=null&&f(i,["stopSequences"],h);const m=l(e,["responseLogprobs"]);m!=null&&f(i,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&f(i,["logprobs"],p);const _=l(e,["presencePenalty"]);_!=null&&f(i,["presencePenalty"],_);const x=l(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);const M=l(e,["seed"]);M!=null&&f(i,["seed"],M);const U=l(e,["responseMimeType"]);U!=null&&f(i,["responseMimeType"],U);const I=l(e,["responseSchema"]);I!=null&&f(i,["responseSchema"],Km(I));const A=l(e,["responseJsonSchema"]);if(A!=null&&f(i,["responseJsonSchema"],A),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=l(e,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(N=>RU(N))),f(n,["safetySettings"],P)}const D=l(e,["tools"]);if(n!==void 0&&D!=null){let P=xr(D);Array.isArray(P)&&(P=P.map(N=>xU(wr(N)))),f(n,["tools"],P)}const L=l(e,["toolConfig"]);if(n!==void 0&&L!=null&&f(n,["toolConfig"],wU(L)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=l(e,["cachedContent"]);n!==void 0&&B!=null&&f(n,["cachedContent"],gi(t,B));const R=l(e,["responseModalities"]);R!=null&&f(i,["responseModalities"],R);const C=l(e,["mediaResolution"]);C!=null&&f(i,["mediaResolution"],C);const S=l(e,["speechConfig"]);if(S!=null&&f(i,["speechConfig"],Jm(S)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=l(e,["thinkingConfig"]);w!=null&&f(i,["thinkingConfig"],w);const b=l(e,["imageConfig"]);return b!=null&&f(i,["imageConfig"],gU(b)),i}function fU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>JV(d))),f(e,["candidates"],u)}const s=l(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const o=l(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);const r=l(t,["responseId"]);r!=null&&f(e,["responseId"],r);const a=l(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function dU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],Nr(t,i)),n}function hU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],Nr(t,i)),n}function pU(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function mU(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function gU(t){const e={},n=l(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=l(t,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yU(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["request","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let a=fn(s);Array.isArray(a)&&(a=a.map(u=>vI(u))),f(n,["request","contents"],a)}const o=l(e,["metadata"]);o!=null&&f(n,["metadata"],o);const r=l(e,["config"]);return r!=null&&f(n,["request","generationConfig"],cU(t,r,l(n,["request"],{}))),n}function _U(t){const e={},n=l(t,["response"]);n!=null&&f(e,["response"],fU(n));const i=l(t,["error"]);return i!=null&&f(e,["error"],i),e}function vU(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);if(e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function TU(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const o=l(t,["filter"]);return e!==void 0&&o!=null&&f(e,["_query","filter"],o),n}function EU(t){const e={},n=l(t,["config"]);return n!=null&&vU(n,e),e}function AU(t){const e={},n=l(t,["config"]);return n!=null&&TU(n,e),e}function SU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["operations"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>qu(r))),f(e,["batchJobs"],o)}return e}function CU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["batchPredictionJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>Jh(r))),f(e,["batchJobs"],o)}return e}function IU(t){const e={},n=l(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=l(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=l(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const o=l(t,["fileData"]);o!=null&&f(e,["fileData"],aU(o));const r=l(t,["functionCall"]);r!=null&&f(e,["functionCall"],lU(r));const a=l(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&f(e,["inlineData"],HV(u));const d=l(t,["text"]);d!=null&&f(e,["text"],d);const h=l(t,["thought"]);h!=null&&f(e,["thought"],h);const m=l(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function RU(t){const e={},n=l(t,["category"]);if(n!=null&&f(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function wU(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],uU(n));const i=l(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function xU(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["functionDeclarations"],h)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=l(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=l(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],pU(a));const u=l(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],mU(u));const d=l(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(hi||(hi={}));class Ws{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!i||Object.keys(i).length===0?r={config:{}}:typeof i=="object"?r=Object.assign({},i):r=i,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(o=(s=r.config)===null||s===void 0?void 0:s.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NU extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(hi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=CT(this.apiClient,e),i=n._url,s=Y("{model}:batchGenerateContent",i),a=n.batch.inputConfig.requests,u=a.requests,d=[];for(const h of u){const m=Object.assign({},h);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=p,m.request=_}d.push(m)}return a.requests=d,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const o=this.getGcsUri(e),r=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${s}`;else if(r)i.dest=`${r}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=WV(this.apiClient,e);return a=Y("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>Jh(h))}else{const d=CT(this.apiClient,e);return a=Y("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>qu(h))}}async createEmbeddingsInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jV(this.apiClient,e);return o=Y("{model}:asyncBatchEmbedContent",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>qu(u))}}async get(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=hU(this.apiClient,e);return a=Y("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>Jh(h))}else{const d=dU(this.apiClient,e);return a=Y("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>qu(h))}}async cancel(e){var n,i,s,o;let r="",a={};if(this.apiClient.isVertexAI()){const u=KV(this.apiClient,e);r=Y("batchPredictionJobs/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const u=YV(this.apiClient,e);r=Y("batches/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=AU(e);return a=Y("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=CU(h),p=new TT;return Object.assign(p,m),p})}else{const d=EU(e);return a=Y("batches",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=SU(h),p=new TT;return Object.assign(p,m),p})}}async delete(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=tU(this.apiClient,e);return a=Y("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>iU(h))}else{const d=eU(this.apiClient,e);return a=Y("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>nU(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bU(t){const e={},n=l(t,["data"]);if(n!=null&&f(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function IT(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>jU(o))),f(e,["parts"],s)}const i=l(t,["role"]);return i!=null&&f(e,["role"],i),e}function MU(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const o=l(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const r=l(t,["contents"]);if(e!==void 0&&r!=null){let h=fn(r);Array.isArray(h)&&(h=h.map(m=>IT(m))),f(e,["contents"],h)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],IT(It(a)));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>tk(m))),f(e,["tools"],h)}const d=l(t,["toolConfig"]);if(e!==void 0&&d!=null&&f(e,["toolConfig"],ek(d)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function DU(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const o=l(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const r=l(t,["contents"]);if(e!==void 0&&r!=null){let m=fn(r);Array.isArray(m)&&(m=m.map(p=>p)),f(e,["contents"],m)}const a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],It(a));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>nk(p))),f(e,["tools"],m)}const d=l(t,["toolConfig"]);e!==void 0&&d!=null&&f(e,["toolConfig"],d);const h=l(t,["kmsKeyName"]);return e!==void 0&&h!=null&&f(e,["encryption_spec","kmsKeyName"],h),n}function PU(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["model"],aI(t,i));const s=l(e,["config"]);return s!=null&&MU(s,n),n}function VU(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["model"],aI(t,i));const s=l(e,["config"]);return s!=null&&DU(s,n),n}function UU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],gi(t,i)),n}function kU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],gi(t,i)),n}function LU(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function qU(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function OU(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function FU(t){const e={},n=l(t,["id"]);n!=null&&f(e,["id"],n);const i=l(t,["args"]);i!=null&&f(e,["args"],i);const s=l(t,["name"]);if(s!=null&&f(e,["name"],s),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function BU(t){const e={},n=l(t,["mode"]);n!=null&&f(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zU(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&f(e,["description"],n);const i=l(t,["name"]);i!=null&&f(e,["name"],i);const s=l(t,["parameters"]);s!=null&&f(e,["parameters"],s);const o=l(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);const r=l(t,["response"]);r!=null&&f(e,["response"],r);const a=l(t,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function GU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],gi(t,i)),n}function HU(t,e){const n={},i=l(e,["name"]);return i!=null&&f(n,["_url","name"],gi(t,i)),n}function YU(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function KU(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function JU(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function QU(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function $U(t){const e={},n=l(t,["config"]);return n!=null&&JU(n,e),e}function XU(t){const e={},n=l(t,["config"]);return n!=null&&QU(n,e),e}function WU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["cachedContents"],o)}return e}function ZU(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["cachedContents"],o)}return e}function jU(t){const e={},n=l(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=l(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=l(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const o=l(t,["fileData"]);o!=null&&f(e,["fileData"],OU(o));const r=l(t,["functionCall"]);r!=null&&f(e,["functionCall"],FU(r));const a=l(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&f(e,["inlineData"],bU(u));const d=l(t,["text"]);d!=null&&f(e,["text"],d);const h=l(t,["thought"]);h!=null&&f(e,["thought"],h);const m=l(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function ek(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],BU(n));const i=l(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function tk(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["functionDeclarations"],h)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=l(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=l(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],YU(a));const u=l(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],KU(u));const d=l(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function nk(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>zU(p))),f(e,["functionDeclarations"],m)}const i=l(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=l(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=l(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=l(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const a=l(t,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],u);const d=l(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],d);const h=l(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function ik(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function sk(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function ok(t,e){const n={},i=l(e,["name"]);i!=null&&f(n,["_url","name"],gi(t,i));const s=l(e,["config"]);return s!=null&&ik(s,n),n}function rk(t,e){const n={},i=l(e,["name"]);i!=null&&f(n,["_url","name"],gi(t,i));const s=l(e,["config"]);return s!=null&&sk(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ak extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(hi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=VU(this.apiClient,e);return a=Y("cachedContents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}else{const d=PU(this.apiClient,e);return a=Y("cachedContents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async get(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=HU(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}else{const d=GU(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=kU(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=qU(h),p=new _T;return Object.assign(p,m),p})}else{const d=UU(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=LU(h),p=new _T;return Object.assign(p,m),p})}}async update(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=rk(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}else{const d=ok(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async listInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=XU(e);return a=Y("cachedContents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=ZU(h),p=new vT;return Object.assign(p,m),p})}else{const d=$U(e);return a=Y("cachedContents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=WU(h),p=new vT;return Object.assign(p,m),p})}}}function RT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(t){return this instanceof be?(this.v=t,this):new be(t)}function Ko(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(_){return function(x){return Promise.resolve(x).then(_,m)}}function a(_,x){i[_]&&(s[_]=function(M){return new Promise(function(U,I){o.push([_,M,U,I])>1||u(_,M)})},x&&(s[_]=x(s[_])))}function u(_,x){try{d(i[_](x))}catch(M){p(o[0][3],M)}}function d(_){_.value instanceof be?Promise.resolve(_.value.v).then(h,m):p(o[0][2],_)}function h(_){u("next",_)}function m(_){u("throw",_)}function p(_,x){_(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ka(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof RT=="function"?RT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(r){return new Promise(function(a,u){r=t[o](r),s(a,u,r.done,r.value)})}}function s(o,r,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lk(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:TI(n)}function TI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uk(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let o=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),o&&!TI(t[i])&&(o=!1),i++;o?e.push(...s):e.pop()}return e}class ck{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fk(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fk{constructor(e,n,i,s={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=o,this.sendPromise=Promise.resolve(),uk(o)}async sendMessage(e){var n;await this.sendPromise;const i=It(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,r,a;const u=await s,d=(r=(o=u.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content,h=u.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];h!=null&&(p=(a=h.slice(m))!==null&&a!==void 0?a:[]);const _=d?[d]:[];this.recordHistory(i,_,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=It(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const o=await s;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?wT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,s;return Ko(this,arguments,function*(){var r,a,u,d;const h=[];try{for(var m=!0,p=ka(e),_;_=yield be(p.next()),r=_.done,!r;m=!0){d=_.value,m=!1;const x=d;if(lk(x)){const M=(s=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;M!==void 0&&h.push(M)}yield yield be(x)}}catch(x){a={error:x}}finally{try{!m&&!r&&(u=p.return)&&(yield be(u.call(p)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(o=>o.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...wT(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dk(t){const e={},n=l(t,["file"]);return n!=null&&f(e,["file"],n),e}function hk(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function pk(t){const e={},n=l(t,["name"]);return n!=null&&f(e,["_url","file"],hI(n)),e}function mk(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function gk(t){const e={},n=l(t,["name"]);return n!=null&&f(e,["_url","file"],hI(n)),e}function yk(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function _k(t){const e={},n=l(t,["config"]);return n!=null&&yk(n,e),e}function vk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["files"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tk extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(hi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_k(e);return o=Y("files",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=vk(u),h=new CV;return Object.assign(h,d),h})}}async createInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dk(e);return o=Y("upload/v1beta/files",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=hk(u),h=new IV;return Object.assign(h,d),h})}}async get(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gk(e);return o=Y("files/{file}",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async delete(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pk(e);return o=Y("files/{file}",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=mk(u),h=new RV;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(t){const e={},n=l(t,["data"]);if(n!=null&&f(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Ek(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Lk(o))),f(e,["parts"],s)}const i=l(t,["role"]);return i!=null&&f(e,["role"],i),e}function Ak(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Sk(t){const e={},n=l(t,["id"]);n!=null&&f(e,["id"],n);const i=l(t,["args"]);i!=null&&f(e,["args"],i);const s=l(t,["name"]);if(s!=null&&f(e,["name"],s),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ck(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&f(e,["description"],n);const i=l(t,["name"]);i!=null&&f(e,["name"],i);const s=l(t,["parameters"]);s!=null&&f(e,["parameters"],s);const o=l(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);const r=l(t,["response"]);r!=null&&f(e,["response"],r);const a=l(t,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function Ik(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const i=l(t,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);const s=l(t,["audioTimestamp"]);s!=null&&f(e,["audioTimestamp"],s);const o=l(t,["candidateCount"]);o!=null&&f(e,["candidateCount"],o);const r=l(t,["enableAffectiveDialog"]);r!=null&&f(e,["enableAffectiveDialog"],r);const a=l(t,["frequencyPenalty"]);a!=null&&f(e,["frequencyPenalty"],a);const u=l(t,["logprobs"]);u!=null&&f(e,["logprobs"],u);const d=l(t,["maxOutputTokens"]);d!=null&&f(e,["maxOutputTokens"],d);const h=l(t,["mediaResolution"]);h!=null&&f(e,["mediaResolution"],h);const m=l(t,["presencePenalty"]);m!=null&&f(e,["presencePenalty"],m);const p=l(t,["responseLogprobs"]);p!=null&&f(e,["responseLogprobs"],p);const _=l(t,["responseMimeType"]);_!=null&&f(e,["responseMimeType"],_);const x=l(t,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const M=l(t,["responseSchema"]);M!=null&&f(e,["responseSchema"],M);const U=l(t,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const I=l(t,["seed"]);I!=null&&f(e,["seed"],I);const A=l(t,["speechConfig"]);A!=null&&f(e,["speechConfig"],EI(A));const T=l(t,["stopSequences"]);T!=null&&f(e,["stopSequences"],T);const D=l(t,["temperature"]);D!=null&&f(e,["temperature"],D);const L=l(t,["thinkingConfig"]);L!=null&&f(e,["thinkingConfig"],L);const B=l(t,["topK"]);B!=null&&f(e,["topK"],B);const R=l(t,["topP"]);if(R!=null&&f(e,["topP"],R),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Rk(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function wk(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function xk(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const o=l(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);const r=l(t,["topP"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","topP"],r);const a=l(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","maxOutputTokens"],u);const d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","mediaResolution"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","seed"],h);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","speechConfig"],Qm(m));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","thinkingConfig"],p);const _=l(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=l(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],Ek(It(x)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let B=xr(M);Array.isArray(B)&&(B=B.map(R=>Ok(wr(R)))),f(e,["setup","tools"],B)}const U=l(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],qk(U));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&f(e,["setup","inputAudioTranscription"],I);const A=l(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","outputAudioTranscription"],A);const T=l(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&f(e,["setup","realtimeInputConfig"],T);const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],D);const L=l(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],L),n}function Nk(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],Ik(i));const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const o=l(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);const r=l(t,["topP"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","topP"],r);const a=l(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","maxOutputTokens"],u);const d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","mediaResolution"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","seed"],h);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","speechConfig"],EI(Qm(m)));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","thinkingConfig"],p);const _=l(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=l(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],It(x));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let B=xr(M);Array.isArray(B)&&(B=B.map(R=>Fk(wr(R)))),f(e,["setup","tools"],B)}const U=l(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],U);const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&f(e,["setup","inputAudioTranscription"],I);const A=l(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","outputAudioTranscription"],A);const T=l(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&f(e,["setup","realtimeInputConfig"],T);const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],D);const L=l(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],L),n}function bk(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["setup","model"],pe(t,i));const s=l(e,["config"]);return s!=null&&f(n,["config"],xk(s,n)),n}function Mk(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["setup","model"],pe(t,i));const s=l(e,["config"]);return s!=null&&f(n,["config"],Nk(s,n)),n}function Dk(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function Pk(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["weightedPrompts"],i)}return e}function Vk(t){const e={},n=l(t,["media"]);if(n!=null){let d=lI(n);Array.isArray(d)&&(d=d.map(h=>Ou(h))),f(e,["mediaChunks"],d)}const i=l(t,["audio"]);i!=null&&f(e,["audio"],Ou(cI(i)));const s=l(t,["audioStreamEnd"]);s!=null&&f(e,["audioStreamEnd"],s);const o=l(t,["video"]);o!=null&&f(e,["video"],Ou(uI(o)));const r=l(t,["text"]);r!=null&&f(e,["text"],r);const a=l(t,["activityStart"]);a!=null&&f(e,["activityStart"],a);const u=l(t,["activityEnd"]);return u!=null&&f(e,["activityEnd"],u),e}function Uk(t){const e={},n=l(t,["media"]);if(n!=null){let d=lI(n);Array.isArray(d)&&(d=d.map(h=>h)),f(e,["mediaChunks"],d)}const i=l(t,["audio"]);i!=null&&f(e,["audio"],cI(i));const s=l(t,["audioStreamEnd"]);s!=null&&f(e,["audioStreamEnd"],s);const o=l(t,["video"]);o!=null&&f(e,["video"],uI(o));const r=l(t,["text"]);r!=null&&f(e,["text"],r);const a=l(t,["activityStart"]);a!=null&&f(e,["activityStart"],a);const u=l(t,["activityEnd"]);return u!=null&&f(e,["activityEnd"],u),e}function kk(t){const e={},n=l(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);const i=l(t,["serverContent"]);i!=null&&f(e,["serverContent"],i);const s=l(t,["toolCall"]);s!=null&&f(e,["toolCall"],s);const o=l(t,["toolCallCancellation"]);o!=null&&f(e,["toolCallCancellation"],o);const r=l(t,["usageMetadata"]);r!=null&&f(e,["usageMetadata"],Bk(r));const a=l(t,["goAway"]);a!=null&&f(e,["goAway"],a);const u=l(t,["sessionResumptionUpdate"]);return u!=null&&f(e,["sessionResumptionUpdate"],u),e}function Lk(t){const e={},n=l(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=l(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=l(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const o=l(t,["fileData"]);o!=null&&f(e,["fileData"],Ak(o));const r=l(t,["functionCall"]);r!=null&&f(e,["functionCall"],Sk(r));const a=l(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&f(e,["inlineData"],Ou(u));const d=l(t,["text"]);d!=null&&f(e,["text"],d);const h=l(t,["thought"]);h!=null&&f(e,["thought"],h);const m=l(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function qk(t){const e={},n=l(t,["handle"]);if(n!=null&&f(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EI(t){const e={},n=l(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const i=l(t,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],i),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ok(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["functionDeclarations"],h)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=l(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=l(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],Rk(a));const u=l(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],wk(u));const d=l(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function Fk(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>Ck(p))),f(e,["functionDeclarations"],m)}const i=l(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=l(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=l(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=l(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const a=l(t,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],u);const d=l(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],d);const h=l(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function Bk(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=l(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const s=l(t,["candidatesTokenCount"]);s!=null&&f(e,["responseTokenCount"],s);const o=l(t,["toolUsePromptTokenCount"]);o!=null&&f(e,["toolUsePromptTokenCount"],o);const r=l(t,["thoughtsTokenCount"]);r!=null&&f(e,["thoughtsTokenCount"],r);const a=l(t,["totalTokenCount"]);a!=null&&f(e,["totalTokenCount"],a);const u=l(t,["promptTokensDetails"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["promptTokensDetails"],_)}const d=l(t,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["cacheTokensDetails"],_)}const h=l(t,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["responseTokensDetails"],_)}const m=l(t,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(x=>x)),f(e,["toolUsePromptTokensDetails"],_)}const p=l(t,["trafficType"]);return p!=null&&f(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zk(t){const e={},n=l(t,["data"]);if(n!=null&&f(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Gk(t){const e={},n=l(t,["content"]);n!=null&&f(e,["content"],n);const i=l(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],Hk(i));const s=l(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const o=l(t,["finishReason"]);o!=null&&f(e,["finishReason"],o);const r=l(t,["avgLogprobs"]);r!=null&&f(e,["avgLogprobs"],r);const a=l(t,["groundingMetadata"]);a!=null&&f(e,["groundingMetadata"],a);const u=l(t,["index"]);u!=null&&f(e,["index"],u);const d=l(t,["logprobsResult"]);d!=null&&f(e,["logprobsResult"],d);const h=l(t,["safetyRatings"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(_=>_)),f(e,["safetyRatings"],p)}const m=l(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],m),e}function Hk(t){const e={},n=l(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["citations"],i)}return e}function Yk(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let o=fn(s);Array.isArray(o)&&(o=o.map(r=>r)),f(n,["contents"],o)}return n}function Kk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["tokensInfo"],s)}return e}function Jk(t){const e={},n=l(t,["values"]);n!=null&&f(e,["values"],n);const i=l(t,["statistics"]);return i!=null&&f(e,["statistics"],Qk(i)),e}function Qk(t){const e={},n=l(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=l(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function mf(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>i4(o))),f(e,["parts"],s)}const i=l(t,["role"]);return i!=null&&f(e,["role"],i),e}function $k(t){const e={},n=l(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=l(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function Xk(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Wk(t,e){const n={},i=l(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],It(i));const s=l(t,["tools"]);if(e!==void 0&&s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>RI(a))),f(e,["tools"],r)}const o=l(t,["generationConfig"]);return e!==void 0&&o!=null&&f(e,["generationConfig"],zL(o)),n}function Zk(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let r=fn(s);Array.isArray(r)&&(r=r.map(a=>mf(a))),f(n,["contents"],r)}const o=l(e,["config"]);return o!=null&&Xk(o),n}function jk(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let r=fn(s);Array.isArray(r)&&(r=r.map(a=>a)),f(n,["contents"],r)}const o=l(e,["config"]);return o!=null&&Wk(o,n),n}function eL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["totalTokens"]);i!=null&&f(e,["totalTokens"],i);const s=l(t,["cachedContentTokenCount"]);return s!=null&&f(e,["cachedContentTokenCount"],s),e}function tL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["totalTokens"]);return i!=null&&f(e,["totalTokens"],i),e}function nL(t,e){const n={},i=l(e,["model"]);return i!=null&&f(n,["_url","name"],pe(t,i)),n}function iL(t,e){const n={},i=l(e,["model"]);return i!=null&&f(n,["_url","name"],pe(t,i)),n}function sL(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function oL(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function rL(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const r=l(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);const u=l(t,["seed"]);e!==void 0&&u!=null&&f(e,["parameters","seed"],u);const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&f(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&f(e,["parameters","includeRaiReason"],p);const _=l(t,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const M=l(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","compressionQuality"],M);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const I=l(t,["labels"]);e!==void 0&&I!=null&&f(e,["labels"],I);const A=l(t,["editMode"]);e!==void 0&&A!=null&&f(e,["parameters","editMode"],A);const T=l(t,["baseSteps"]);return e!==void 0&&T!=null&&f(e,["parameters","editConfig","baseSteps"],T),n}function aL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const o=l(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u4(u))),f(n,["instances[0]","referenceImages"],a)}const r=l(e,["config"]);return r!=null&&rL(r,n),n}function lL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>gf(o))),f(e,["generatedImages"],s)}return e}function uL(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const s=l(t,["title"]);e!==void 0&&s!=null&&f(e,["requests[]","title"],s);const o=l(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&f(e,["requests[]","outputDimensionality"],o),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cL(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const s=l(t,["title"]);e!==void 0&&s!=null&&f(e,["instances[]","title"],s);const o=l(t,["outputDimensionality"]);e!==void 0&&o!=null&&f(e,["parameters","outputDimensionality"],o);const r=l(t,["mimeType"]);e!==void 0&&r!=null&&f(e,["instances[]","mimeType"],r);const a=l(t,["autoTruncate"]);return e!==void 0&&a!=null&&f(e,["parameters","autoTruncate"],a),n}function fL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let a=Ym(t,s);Array.isArray(a)&&(a=a.map(u=>u)),f(n,["requests[]","content"],a)}const o=l(e,["config"]);o!=null&&uL(o,n);const r=l(e,["model"]);return r!==void 0&&f(n,["requests[]","model"],pe(t,r)),n}function dL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let r=Ym(t,s);Array.isArray(r)&&(r=r.map(a=>a)),f(n,["instances[]","content"],r)}const o=l(e,["config"]);return o!=null&&cL(o,n),n}function hL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["embeddings"],o)}const s=l(t,["metadata"]);return s!=null&&f(e,["metadata"],s),e}function pL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Jk(r))),f(e,["embeddings"],o)}const s=l(t,["metadata"]);return s!=null&&f(e,["metadata"],s),e}function mL(t){const e={},n=l(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=l(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function gL(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function yL(t){const e={},n=l(t,["id"]);n!=null&&f(e,["id"],n);const i=l(t,["args"]);i!=null&&f(e,["args"],i);const s=l(t,["name"]);if(s!=null&&f(e,["name"],s),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _L(t){const e={},n=l(t,["mode"]);n!=null&&f(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vL(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&f(e,["description"],n);const i=l(t,["name"]);i!=null&&f(e,["name"],i);const s=l(t,["parameters"]);s!=null&&f(e,["parameters"],s);const o=l(t,["parametersJsonSchema"]);o!=null&&f(e,["parametersJsonSchema"],o);const r=l(t,["response"]);r!=null&&f(e,["response"],r);const a=l(t,["responseJsonSchema"]);return a!=null&&f(e,["responseJsonSchema"],a),e}function TL(t,e,n){const i={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],mf(It(s)));const o=l(e,["temperature"]);o!=null&&f(i,["temperature"],o);const r=l(e,["topP"]);r!=null&&f(i,["topP"],r);const a=l(e,["topK"]);a!=null&&f(i,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&f(i,["candidateCount"],u);const d=l(e,["maxOutputTokens"]);d!=null&&f(i,["maxOutputTokens"],d);const h=l(e,["stopSequences"]);h!=null&&f(i,["stopSequences"],h);const m=l(e,["responseLogprobs"]);m!=null&&f(i,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&f(i,["logprobs"],p);const _=l(e,["presencePenalty"]);_!=null&&f(i,["presencePenalty"],_);const x=l(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);const M=l(e,["seed"]);M!=null&&f(i,["seed"],M);const U=l(e,["responseMimeType"]);U!=null&&f(i,["responseMimeType"],U);const I=l(e,["responseSchema"]);I!=null&&f(i,["responseSchema"],Km(I));const A=l(e,["responseJsonSchema"]);if(A!=null&&f(i,["responseJsonSchema"],A),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=l(e,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(N=>c4(N))),f(n,["safetySettings"],P)}const D=l(e,["tools"]);if(n!==void 0&&D!=null){let P=xr(D);Array.isArray(P)&&(P=P.map(N=>y4(wr(N)))),f(n,["tools"],P)}const L=l(e,["toolConfig"]);if(n!==void 0&&L!=null&&f(n,["toolConfig"],g4(L)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=l(e,["cachedContent"]);n!==void 0&&B!=null&&f(n,["cachedContent"],gi(t,B));const R=l(e,["responseModalities"]);R!=null&&f(i,["responseModalities"],R);const C=l(e,["mediaResolution"]);C!=null&&f(i,["mediaResolution"],C);const S=l(e,["speechConfig"]);if(S!=null&&f(i,["speechConfig"],Jm(S)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=l(e,["thinkingConfig"]);w!=null&&f(i,["thinkingConfig"],w);const b=l(e,["imageConfig"]);return b!=null&&f(i,["imageConfig"],JL(b)),i}function EL(t,e,n){const i={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],It(s));const o=l(e,["temperature"]);o!=null&&f(i,["temperature"],o);const r=l(e,["topP"]);r!=null&&f(i,["topP"],r);const a=l(e,["topK"]);a!=null&&f(i,["topK"],a);const u=l(e,["candidateCount"]);u!=null&&f(i,["candidateCount"],u);const d=l(e,["maxOutputTokens"]);d!=null&&f(i,["maxOutputTokens"],d);const h=l(e,["stopSequences"]);h!=null&&f(i,["stopSequences"],h);const m=l(e,["responseLogprobs"]);m!=null&&f(i,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&f(i,["logprobs"],p);const _=l(e,["presencePenalty"]);_!=null&&f(i,["presencePenalty"],_);const x=l(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);const M=l(e,["seed"]);M!=null&&f(i,["seed"],M);const U=l(e,["responseMimeType"]);U!=null&&f(i,["responseMimeType"],U);const I=l(e,["responseSchema"]);I!=null&&f(i,["responseSchema"],Km(I));const A=l(e,["responseJsonSchema"]);A!=null&&f(i,["responseJsonSchema"],A);const T=l(e,["routingConfig"]);T!=null&&f(i,["routingConfig"],T);const D=l(e,["modelSelectionConfig"]);D!=null&&f(i,["modelConfig"],D);const L=l(e,["safetySettings"]);if(n!==void 0&&L!=null){let G=L;Array.isArray(G)&&(G=G.map(Q=>Q)),f(n,["safetySettings"],G)}const B=l(e,["tools"]);if(n!==void 0&&B!=null){let G=xr(B);Array.isArray(G)&&(G=G.map(Q=>RI(wr(Q)))),f(n,["tools"],G)}const R=l(e,["toolConfig"]);n!==void 0&&R!=null&&f(n,["toolConfig"],R);const C=l(e,["labels"]);n!==void 0&&C!=null&&f(n,["labels"],C);const S=l(e,["cachedContent"]);n!==void 0&&S!=null&&f(n,["cachedContent"],gi(t,S));const w=l(e,["responseModalities"]);w!=null&&f(i,["responseModalities"],w);const b=l(e,["mediaResolution"]);b!=null&&f(i,["mediaResolution"],b);const P=l(e,["speechConfig"]);P!=null&&f(i,["speechConfig"],II(Jm(P)));const N=l(e,["audioTimestamp"]);N!=null&&f(i,["audioTimestamp"],N);const tt=l(e,["thinkingConfig"]);tt!=null&&f(i,["thinkingConfig"],tt);const Rt=l(e,["imageConfig"]);return Rt!=null&&f(i,["imageConfig"],QL(Rt)),i}function xT(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let r=fn(s);Array.isArray(r)&&(r=r.map(a=>mf(a))),f(n,["contents"],r)}const o=l(e,["config"]);return o!=null&&f(n,["generationConfig"],TL(t,o,n)),n}function NT(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["contents"]);if(s!=null){let r=fn(s);Array.isArray(r)&&(r=r.map(a=>a)),f(n,["contents"],r)}const o=l(e,["config"]);return o!=null&&f(n,["generationConfig"],EL(t,o,n)),n}function bT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Gk(d))),f(e,["candidates"],u)}const s=l(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const o=l(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);const r=l(t,["responseId"]);r!=null&&f(e,["responseId"],r);const a=l(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function MT(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>h)),f(e,["candidates"],d)}const s=l(t,["createTime"]);s!=null&&f(e,["createTime"],s);const o=l(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const r=l(t,["promptFeedback"]);r!=null&&f(e,["promptFeedback"],r);const a=l(t,["responseId"]);a!=null&&f(e,["responseId"],a);const u=l(t,["usageMetadata"]);return u!=null&&f(e,["usageMetadata"],u),e}function AL(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);const o=l(t,["guidanceScale"]);if(e!==void 0&&o!=null&&f(e,["parameters","guidanceScale"],o),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=l(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&f(e,["parameters","safetySetting"],r);const a=l(t,["personGeneration"]);e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a);const u=l(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&f(e,["parameters","includeSafetyAttributes"],u);const d=l(t,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=l(t,["language"]);e!==void 0&&h!=null&&f(e,["parameters","language"],h);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","mimeType"],m);const p=l(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=l(t,["imageSize"]);if(e!==void 0&&_!=null&&f(e,["parameters","sampleImageSize"],_),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function SL(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&f(e,["parameters","sampleCount"],o);const r=l(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&f(e,["parameters","guidanceScale"],a);const u=l(t,["seed"]);e!==void 0&&u!=null&&f(e,["parameters","seed"],u);const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&f(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&f(e,["parameters","includeRaiReason"],p);const _=l(t,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const M=l(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","compressionQuality"],M);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const I=l(t,["labels"]);e!==void 0&&I!=null&&f(e,["labels"],I);const A=l(t,["imageSize"]);e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A);const T=l(t,["enhancePrompt"]);return e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T),n}function CL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const o=l(e,["config"]);return o!=null&&AL(o,n),n}function IL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const o=l(e,["config"]);return o!=null&&SL(o,n),n}function RL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>qL(r))),f(e,["generatedImages"],o)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&f(e,["positivePromptSafetyAttributes"],SI(s)),e}function wL(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>gf(r))),f(e,["generatedImages"],o)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&f(e,["positivePromptSafetyAttributes"],CI(s)),e}function xL(t,e){const n={},i=l(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(t,["durationSeconds"]);if(e!==void 0&&s!=null&&f(e,["parameters","durationSeconds"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const r=l(t,["resolution"]);e!==void 0&&r!=null&&f(e,["parameters","resolution"],r);const a=l(t,["personGeneration"]);if(e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&f(e,["parameters","negativePrompt"],u);const d=l(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&f(e,["parameters","enhancePrompt"],d),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=l(t,["lastFrame"]);e!==void 0&&h!=null&&f(e,["instances[0]","lastFrame"],yf(h));const m=l(t,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(_=>b4(_))),f(e,["instances[0]","referenceImages"],p)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function NL(t,e){const n={},i=l(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const o=l(t,["fps"]);e!==void 0&&o!=null&&f(e,["parameters","fps"],o);const r=l(t,["durationSeconds"]);e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r);const a=l(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=l(t,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const m=l(t,["pubsubTopic"]);e!==void 0&&m!=null&&f(e,["parameters","pubsubTopic"],m);const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&f(e,["parameters","negativePrompt"],p);const _=l(t,["enhancePrompt"]);e!==void 0&&_!=null&&f(e,["parameters","enhancePrompt"],_);const x=l(t,["generateAudio"]);e!==void 0&&x!=null&&f(e,["parameters","generateAudio"],x);const M=l(t,["lastFrame"]);e!==void 0&&M!=null&&f(e,["instances[0]","lastFrame"],Cn(M));const U=l(t,["referenceImages"]);if(e!==void 0&&U!=null){let T=U;Array.isArray(T)&&(T=T.map(D=>M4(D))),f(e,["instances[0]","referenceImages"],T)}const I=l(t,["mask"]);e!==void 0&&I!=null&&f(e,["instances[0]","mask"],N4(I));const A=l(t,["compressionQuality"]);return e!==void 0&&A!=null&&f(e,["parameters","compressionQuality"],A),n}function bL(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response","generateVideoResponse"]);return r!=null&&f(e,["response"],VL(r)),e}function ML(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response"]);return r!=null&&f(e,["response"],UL(r)),e}function DL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const o=l(e,["image"]);o!=null&&f(n,["instances[0]","image"],yf(o));const r=l(e,["video"]);r!=null&&f(n,["instances[0]","video"],wI(r));const a=l(e,["source"]);a!=null&&kL(a,n);const u=l(e,["config"]);return u!=null&&xL(u,n),n}function PL(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const o=l(e,["image"]);o!=null&&f(n,["instances[0]","image"],Cn(o));const r=l(e,["video"]);r!=null&&f(n,["instances[0]","video"],xI(r));const a=l(e,["source"]);a!=null&&LL(a,n);const u=l(e,["config"]);return u!=null&&NL(u,n),n}function VL(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>FL(r))),f(e,["generatedVideos"],o)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function UL(t){const e={},n=l(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>BL(r))),f(e,["generatedVideos"],o)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function kL(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=l(t,["image"]);e!==void 0&&s!=null&&f(e,["instances[0]","image"],yf(s));const o=l(t,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],wI(o)),n}function LL(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=l(t,["image"]);e!==void 0&&s!=null&&f(e,["instances[0]","image"],Cn(s));const o=l(t,["video"]);return e!==void 0&&o!=null&&f(e,["instances[0]","video"],xI(o)),n}function qL(t){const e={},n=l(t,["_self"]);n!=null&&f(e,["image"],$L(n));const i=l(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=l(t,["_self"]);return s!=null&&f(e,["safetyAttributes"],SI(s)),e}function gf(t){const e={},n=l(t,["_self"]);n!=null&&f(e,["image"],AI(n));const i=l(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=l(t,["_self"]);s!=null&&f(e,["safetyAttributes"],CI(s));const o=l(t,["prompt"]);return o!=null&&f(e,["enhancedPrompt"],o),e}function OL(t){const e={},n=l(t,["_self"]);n!=null&&f(e,["mask"],AI(n));const i=l(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["labels"],s)}return e}function FL(t){const e={},n=l(t,["video"]);return n!=null&&f(e,["video"],w4(n)),e}function BL(t){const e={},n=l(t,["_self"]);return n!=null&&f(e,["video"],x4(n)),e}function zL(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const i=l(t,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);const s=l(t,["audioTimestamp"]);s!=null&&f(e,["audioTimestamp"],s);const o=l(t,["candidateCount"]);o!=null&&f(e,["candidateCount"],o);const r=l(t,["enableAffectiveDialog"]);r!=null&&f(e,["enableAffectiveDialog"],r);const a=l(t,["frequencyPenalty"]);a!=null&&f(e,["frequencyPenalty"],a);const u=l(t,["logprobs"]);u!=null&&f(e,["logprobs"],u);const d=l(t,["maxOutputTokens"]);d!=null&&f(e,["maxOutputTokens"],d);const h=l(t,["mediaResolution"]);h!=null&&f(e,["mediaResolution"],h);const m=l(t,["presencePenalty"]);m!=null&&f(e,["presencePenalty"],m);const p=l(t,["responseLogprobs"]);p!=null&&f(e,["responseLogprobs"],p);const _=l(t,["responseMimeType"]);_!=null&&f(e,["responseMimeType"],_);const x=l(t,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const M=l(t,["responseSchema"]);M!=null&&f(e,["responseSchema"],M);const U=l(t,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const I=l(t,["seed"]);I!=null&&f(e,["seed"],I);const A=l(t,["speechConfig"]);A!=null&&f(e,["speechConfig"],II(A));const T=l(t,["stopSequences"]);T!=null&&f(e,["stopSequences"],T);const D=l(t,["temperature"]);D!=null&&f(e,["temperature"],D);const L=l(t,["thinkingConfig"]);L!=null&&f(e,["thinkingConfig"],L);const B=l(t,["topK"]);B!=null&&f(e,["topK"],B);const R=l(t,["topP"]);if(R!=null&&f(e,["topP"],R),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function GL(t,e){const n={},i=l(e,["model"]);return i!=null&&f(n,["_url","name"],pe(t,i)),n}function HL(t,e){const n={},i=l(e,["model"]);return i!=null&&f(n,["_url","name"],pe(t,i)),n}function YL(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function KL(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function JL(t){const e={},n=l(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=l(t,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function QL(t){const e={},n=l(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=l(t,["imageSize"]);i!=null&&f(e,["imageSize"],i);const s=l(t,["outputMimeType"]);s!=null&&f(e,["imageOutputOptions","mimeType"],s);const o=l(t,["outputCompressionQuality"]);return o!=null&&f(e,["imageOutputOptions","compressionQuality"],o),e}function $L(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],us(n));const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function AI(t){const e={},n=l(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],us(i));const s=l(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function yf(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],us(n));const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Cn(t){const e={},n=l(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=l(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],us(i));const s=l(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function XL(t,e,n){const i={},s=l(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);const r=l(e,["filter"]);n!==void 0&&r!=null&&f(n,["_query","filter"],r);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],pI(t,a)),i}function WL(t,e,n){const i={},s=l(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const o=l(e,["pageToken"]);n!==void 0&&o!=null&&f(n,["_query","pageToken"],o);const r=l(e,["filter"]);n!==void 0&&r!=null&&f(n,["_query","filter"],r);const a=l(e,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],pI(t,a)),i}function ZL(t,e){const n={},i=l(e,["config"]);return i!=null&&XL(t,i,n),n}function jL(t,e){const n={},i=l(e,["config"]);return i!=null&&WL(t,i,n),n}function e4(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["_self"]);if(s!=null){let o=mI(s);Array.isArray(o)&&(o=o.map(r=>Qh(r))),f(e,["models"],o)}return e}function t4(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["_self"]);if(s!=null){let o=mI(s);Array.isArray(o)&&(o=o.map(r=>$h(r))),f(e,["models"],o)}return e}function n4(t){const e={},n=l(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=l(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const s=l(t,["maskDilation"]);return s!=null&&f(e,["dilation"],s),e}function Qh(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=l(t,["description"]);s!=null&&f(e,["description"],s);const o=l(t,["version"]);o!=null&&f(e,["version"],o);const r=l(t,["_self"]);r!=null&&f(e,["tunedModelInfo"],_4(r));const a=l(t,["inputTokenLimit"]);a!=null&&f(e,["inputTokenLimit"],a);const u=l(t,["outputTokenLimit"]);u!=null&&f(e,["outputTokenLimit"],u);const d=l(t,["supportedGenerationMethods"]);d!=null&&f(e,["supportedActions"],d);const h=l(t,["temperature"]);h!=null&&f(e,["temperature"],h);const m=l(t,["maxTemperature"]);m!=null&&f(e,["maxTemperature"],m);const p=l(t,["topP"]);p!=null&&f(e,["topP"],p);const _=l(t,["topK"]);_!=null&&f(e,["topK"],_);const x=l(t,["thinking"]);return x!=null&&f(e,["thinking"],x),e}function $h(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=l(t,["description"]);s!=null&&f(e,["description"],s);const o=l(t,["versionId"]);o!=null&&f(e,["version"],o);const r=l(t,["deployedModels"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>mL(p))),f(e,["endpoints"],m)}const a=l(t,["labels"]);a!=null&&f(e,["labels"],a);const u=l(t,["_self"]);u!=null&&f(e,["tunedModelInfo"],v4(u));const d=l(t,["defaultCheckpointId"]);d!=null&&f(e,["defaultCheckpointId"],d);const h=l(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(p=>p)),f(e,["checkpoints"],m)}return e}function i4(t){const e={},n=l(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=l(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=l(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const o=l(t,["fileData"]);o!=null&&f(e,["fileData"],gL(o));const r=l(t,["functionCall"]);r!=null&&f(e,["functionCall"],yL(r));const a=l(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&f(e,["inlineData"],zk(u));const d=l(t,["text"]);d!=null&&f(e,["text"],d);const h=l(t,["thought"]);h!=null&&f(e,["thought"],h);const m=l(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function s4(t){const e={},n=l(t,["productImage"]);return n!=null&&f(e,["image"],Cn(n)),e}function o4(t,e){const n={},i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=l(t,["baseSteps"]);e!==void 0&&s!=null&&f(e,["parameters","baseSteps"],s);const o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const r=l(t,["seed"]);e!==void 0&&r!=null&&f(e,["parameters","seed"],r);const a=l(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const u=l(t,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=l(t,["addWatermark"]);e!==void 0&&d!=null&&f(e,["parameters","addWatermark"],d);const h=l(t,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const m=l(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m);const p=l(t,["enhancePrompt"]);e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p);const _=l(t,["labels"]);return e!==void 0&&_!=null&&f(e,["labels"],_),n}function r4(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["source"]);s!=null&&l4(s,n);const o=l(e,["config"]);return o!=null&&o4(o,n),n}function a4(t){const e={},n=l(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gf(s))),f(e,["generatedImages"],i)}return e}function l4(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=l(t,["personImage"]);e!==void 0&&s!=null&&f(e,["instances[0]","personImage","image"],Cn(s));const o=l(t,["productImages"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>s4(a))),f(e,["instances[0]","productImages"],r)}return n}function u4(t){const e={},n=l(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Cn(n));const i=l(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const s=l(t,["referenceType"]);s!=null&&f(e,["referenceType"],s);const o=l(t,["maskImageConfig"]);o!=null&&f(e,["maskImageConfig"],n4(o));const r=l(t,["controlImageConfig"]);r!=null&&f(e,["controlImageConfig"],$k(r));const a=l(t,["styleImageConfig"]);a!=null&&f(e,["styleImageConfig"],a);const u=l(t,["subjectImageConfig"]);return u!=null&&f(e,["subjectImageConfig"],u),e}function SI(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=l(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=l(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function CI(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=l(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=l(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function c4(t){const e={},n=l(t,["category"]);if(n!=null&&f(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function f4(t){const e={},n=l(t,["image"]);return n!=null&&f(e,["image"],Cn(n)),e}function d4(t,e){const n={},i=l(t,["mode"]);e!==void 0&&i!=null&&f(e,["parameters","mode"],i);const s=l(t,["maxPredictions"]);e!==void 0&&s!=null&&f(e,["parameters","maxPredictions"],s);const o=l(t,["confidenceThreshold"]);e!==void 0&&o!=null&&f(e,["parameters","confidenceThreshold"],o);const r=l(t,["maskDilation"]);e!==void 0&&r!=null&&f(e,["parameters","maskDilation"],r);const a=l(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&f(e,["parameters","binaryColorThreshold"],a);const u=l(t,["labels"]);return e!==void 0&&u!=null&&f(e,["labels"],u),n}function h4(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["source"]);s!=null&&m4(s,n);const o=l(e,["config"]);return o!=null&&d4(o,n),n}function p4(t){const e={},n=l(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>OL(s))),f(e,["generatedMasks"],i)}return e}function m4(t,e){const n={},i=l(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=l(t,["image"]);e!==void 0&&s!=null&&f(e,["instances[0]","image"],Cn(s));const o=l(t,["scribbleImage"]);return e!==void 0&&o!=null&&f(e,["instances[0]","scribble"],f4(o)),n}function II(t){const e={},n=l(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const i=l(t,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],i),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function g4(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],_L(n));const i=l(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function y4(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["functionDeclarations"],h)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=l(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=l(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],YL(a));const u=l(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],KL(u));const d=l(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function RI(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>vL(p))),f(e,["functionDeclarations"],m)}const i=l(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=l(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=l(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=l(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const a=l(t,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);const u=l(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],u);const d=l(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],d);const h=l(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function _4(t){const e={},n=l(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=l(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=l(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function v4(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=l(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=l(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function T4(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=l(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const o=l(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),n}function E4(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=l(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const o=l(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&f(e,["defaultCheckpointId"],o),n}function A4(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","name"],pe(t,i));const s=l(e,["config"]);return s!=null&&T4(s,n),n}function S4(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["config"]);return s!=null&&E4(s,n),n}function C4(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=l(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&f(e,["parameters","safetySetting"],s);const o=l(t,["personGeneration"]);e!==void 0&&o!=null&&f(e,["parameters","personGeneration"],o);const r=l(t,["includeRaiReason"]);e!==void 0&&r!=null&&f(e,["parameters","includeRaiReason"],r);const a=l(t,["outputMimeType"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","mimeType"],a);const u=l(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&f(e,["parameters","outputOptions","compressionQuality"],u);const d=l(t,["enhanceInputImage"]);e!==void 0&&d!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=l(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=l(t,["labels"]);e!==void 0&&m!=null&&f(e,["labels"],m);const p=l(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const _=l(t,["mode"]);return e!==void 0&&_!=null&&f(e,["parameters","mode"],_),n}function I4(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["_url","model"],pe(t,i));const s=l(e,["image"]);s!=null&&f(n,["instances[0]","image"],Cn(s));const o=l(e,["upscaleFactor"]);o!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],o);const r=l(e,["config"]);return r!=null&&C4(r,n),n}function R4(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>gf(o))),f(e,["generatedImages"],s)}return e}function w4(t){const e={},n=l(t,["uri"]);n!=null&&f(e,["uri"],n);const i=l(t,["encodedVideo"]);i!=null&&f(e,["videoBytes"],us(i));const s=l(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function x4(t){const e={},n=l(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],us(i));const s=l(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function N4(t){const e={},n=l(t,["image"]);n!=null&&f(e,["_self"],Cn(n));const i=l(t,["maskMode"]);return i!=null&&f(e,["maskMode"],i),e}function b4(t){const e={},n=l(t,["image"]);n!=null&&f(e,["image"],yf(n));const i=l(t,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function M4(t){const e={},n=l(t,["image"]);n!=null&&f(e,["image"],Cn(n));const i=l(t,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function wI(t){const e={},n=l(t,["uri"]);n!=null&&f(e,["uri"],n);const i=l(t,["videoBytes"]);i!=null&&f(e,["encodedVideo"],us(i));const s=l(t,["mimeType"]);return s!=null&&f(e,["encoding"],s),e}function xI(t){const e={},n=l(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=l(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],us(i));const s=l(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D4(t,e){const n={},i=l(t,["displayName"]);return e!==void 0&&i!=null&&f(e,["displayName"],i),n}function P4(t){const e={},n=l(t,["config"]);return n!=null&&D4(n,e),e}function V4(t,e){const n={},i=l(t,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),n}function U4(t){const e={},n=l(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&V4(i,e),e}function k4(t){const e={},n=l(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function L4(t,e){const n={},i=l(t,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["customMetadata"],o)}const s=l(t,["chunkingConfig"]);return e!==void 0&&s!=null&&f(e,["chunkingConfig"],s),n}function q4(t){const e={},n=l(t,["name"]);n!=null&&f(e,["name"],n);const i=l(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=l(t,["done"]);s!=null&&f(e,["done"],s);const o=l(t,["error"]);o!=null&&f(e,["error"],o);const r=l(t,["response"]);return r!=null&&f(e,["response"],F4(r)),e}function O4(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const i=l(t,["fileName"]);i!=null&&f(e,["fileName"],i);const s=l(t,["config"]);return s!=null&&L4(s,e),e}function F4(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["parent"]);i!=null&&f(e,["parent"],i);const s=l(t,["documentName"]);return s!=null&&f(e,["documentName"],s),e}function B4(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function z4(t){const e={},n=l(t,["config"]);return n!=null&&B4(n,e),e}function G4(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["fileSearchStores"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["fileSearchStores"],o)}return e}function NI(t,e){const n={},i=l(t,["mimeType"]);e!==void 0&&i!=null&&f(e,["mimeType"],i);const s=l(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const o=l(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["customMetadata"],a)}const r=l(t,["chunkingConfig"]);return e!==void 0&&r!=null&&f(e,["chunkingConfig"],r),n}function H4(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const i=l(t,["config"]);return i!=null&&NI(i,e),e}function Y4(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K4="Content-Type",J4="X-Server-Timeout",Q4="User-Agent",Xh="x-goog-api-client",$4="1.31.0",X4=`google-genai-sdk/${$4}`,W4="v1beta1",Z4="v1beta",DT=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class j4{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:W4,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Z4,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,a]of Object.entries(e.queryParams))s.searchParams.append(r,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,s.toString(),e.abortSignal),this.unaryApiCall(s,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,o]of Object.entries(n))typeof o=="object"?i[s]=Object.assign(Object.assign({},i[s]),o):o!==void 0&&(i[s]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,s.toString(),e.abortSignal),this.streamApiCall(s,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const o=new AbortController,r=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}s&&s.addEventListener("abort",()=>{o.abort()}),e.signal=r}return n&&n.extraBody!==null&&e3(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await PT(s),new Yh(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await PT(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return Ko(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let r="";for(;;){const{done:a,value:u}=yield be(s.read());if(a){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(u,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),_=p.status,x=p.code,M=`got status: ${_}. ${JSON.stringify(m)}`;if(x>=400&&x<600)throw new pf({message:M,status:x})}}catch(m){if(m.name==="ApiError")throw m}r+=d;let h=r.match(DT);for(;h;){const m=h[1];try{const p=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield be(new Yh(p)),r=r.slice(h[0].length),h=r.match(DT)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=X4+" "+this.clientOptions.userAgentExtra;return e[Q4]=n,e[Xh]=n,e[K4]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,o]of Object.entries(e.headers))i.append(s,o);e.timeout&&e.timeout>0&&i.append(J4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const o=this.clientOptions.uploader,r=await o.stat(e);s.sizeBytes=String(r.size);const a=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=a;const u={file:s},d=this.getFileName(e),h=Y("upload/v1beta/files",u._url),m=await this.fetchUploadUrl(h,s.sizeBytes,s.mimeType,d,u,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,i){var s;const o=this.clientOptions.uploader,r=await o.stat(n),a=String(r.size),u=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};i!=null&&NI(i,m);const p=await this.fetchUploadUrl(d,a,u,h,m,i==null?void 0:i.httpOptions);return o.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,o,r){var a;let u={};r?u=r:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=d==null?void 0:d.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function PT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new pf({message:s,status:n}):new Error(s)}}function e3(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,r){const a=Object.assign({},o);for(const u in r)if(Object.prototype.hasOwnProperty.call(r,u)){const d=r[u],h=a[u];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?a[u]=i(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),a[u]=d)}return a}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t3="mcp_used/unknown";let n3=!1;function bI(t){for(const e of t)if(i3(e)||typeof e=="object"&&"inputSchema"in e)return!0;return n3}function MI(t){var e;const n=(e=t[Xh])!==null&&e!==void 0?e:"";t[Xh]=(n+` ${t3}`).trimStart()}function i3(t){return t!==null&&typeof t=="object"&&t instanceof $m}function s3(t,e=100){return Ko(this,arguments,function*(){let i,s=0;for(;s<e;){const o=yield be(t.listTools({cursor:i}));for(const r of o.tools)yield yield be(r),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class $m{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new $m(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const o={},r=[];for(const h of this.mcpClients)try{for(var a=!0,u=(n=void 0,ka(s3(h))),d;d=await u.next(),e=d.done,!e;a=!0){s=d.value,a=!1;const m=s;r.push(m);const p=m.name;if(o[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);o[p]=h}}catch(m){n={error:m}}finally{try{!a&&!e&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),kV(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await s.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function o3(t,e,n){const i=new xV;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class r3{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),r=u3(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),u=`${s}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let d=()=>{};const h=new Promise(T=>{d=T}),m=e.callbacks,p=function(){d({})},_=this.apiClient,x={onopen:p,onmessage:T=>{o3(_,m.onmessage,T)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},M=this.webSocketFactory.create(u,l3(r),x);M.connect(),await h;const A={setup:{model:pe(this.apiClient,e.model)}};return M.send(JSON.stringify(A)),new a3(M,this.apiClient)}}class a3{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Pk(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Dk(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ko.PLAY)}pause(){this.sendPlaybackControl(ko.PAUSE)}stop(){this.sendPlaybackControl(ko.STOP)}resetContext(){this.sendPlaybackControl(ko.RESET_CONTEXT)}close(){this.conn.close()}}function l3(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function u3(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c3="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function f3(t,e,n){const i=new wV;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const o=JSON.parse(s);if(t.isVertexAI()){const r=kk(o);Object.assign(i,r)}else Object.assign(i,o);e(i)}class d3{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new r3(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,o,r,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&bI(e.config.tools)&&MI(m);const p=g3(m);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,h);else{const S=this.apiClient.getApiKey();let w="BidiGenerateContent",b="key";S!=null&&S.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),w="BidiGenerateContentConstrained",b="access_token"),h=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${w}?${b}=${S}`}let _=()=>{};const x=new Promise(S=>{_=S}),M=e.callbacks,U=function(){var S;(S=M==null?void 0:M.onopen)===null||S===void 0||S.call(M),_({})},I=this.apiClient,A={onopen:U,onmessage:S=>{f3(I,M.onmessage,S)},onerror:(n=M==null?void 0:M.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=M==null?void 0:M.onclose)!==null&&i!==void 0?i:function(S){}},T=this.webSocketFactory.create(h,m3(p),A);T.connect(),await x;let D=pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const S=this.apiClient.getProject(),w=this.apiClient.getLocation();D=`projects/${S}/locations/${w}/`+D}let L={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[bc.AUDIO]}:e.config.responseModalities=[bc.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(a=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&a!==void 0?a:[],R=[];for(const S of B)if(this.isCallableTool(S)){const w=S;R.push(await w.tool())}else R.push(S);R.length>0&&(e.config.tools=R);const C={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=Mk(this.apiClient,C):L=bk(this.apiClient,C),delete L.config,T.send(JSON.stringify(L)),new p3(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const h3={turnComplete:!0};class p3{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=fn(n.turns),e.isVertexAI()||(i=i.map(s=>mf(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(c3)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},h3),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Uk(e)}:n={realtimeInput:Vk(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function m3(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function g3(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VT=10;function UT(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Jo(r)){s=!0;break}if(!s)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Jo(t){return"callTool"in t&&typeof t.callTool=="function"}function y3(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Jo(s)))!==null&&i!==void 0?i:!1}function kT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(Jo(i))return;const o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(s)}),n}function LT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _3 extends mi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,o,r,a;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!y3(n)||UT(n.config))return await this.generateContentInternal(u);const d=kT(n);if(d.length>0){const M=d.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let h,m;const p=fn(u.contents),_=(o=(s=(i=u.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:VT;let x=0;for(;x<_&&(h=await this.generateContentInternal(u),!(!h.functionCalls||h.functionCalls.length===0));){const M=h.candidates[0].content,U=[];for(const I of(a=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&a!==void 0?a:[])if(Jo(I)){const T=await I.callTool(h.functionCalls);U.push(...T)}x++,m={role:"user",parts:U},u.contents=fn(u.contents),u.contents.push(M),u.contents.push(m),LT(u.config)&&(p.push(M),p.push(m))}return LT(u.config)&&(h.automaticFunctionCallingHistory=p),h},this.generateContentStream=async n=>{var i,s,o,r,a;if(this.maybeMoveToResponseJsonSchem(n),UT(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const u=kT(n);if(u.length>0){const m=u.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(s=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(a=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let o;const r=[];if(i!=null&&i.generatedImages)for(const u of i.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((s=u==null?void 0:u.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?o=u==null?void 0:u.safetyAttributes:r.push(u);let a;return o?a={generatedImages:r,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:r,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new Ws(hi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,o,r,a,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((r=(o=n.source)===null||o===void 0?void 0:o.video)===null||r===void 0)&&r.uri&&(!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const r=await Promise.all(o.map(async u=>Jo(u)?await u.tool():u)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(a.config.tools=r,e.config&&e.config.tools&&bI(e.config.tools)){const u=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),MI(d),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return a}async initAfcToolsMap(e){var n,i,s;const o=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Jo(r)){const a=r,u=await a.tool();for(const d of(s=u.functionDeclarations)!==null&&s!==void 0?s:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,a)}}return o}async processAfcStream(e){var n,i,s;const o=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:VT;let r=!1,a=0;const u=await this.initAfcToolsMap(e);return function(d,h,m){var p,_;return Ko(this,arguments,function*(){for(var x,M,U,I;a<o;){r&&(a++,r=!1);const L=yield be(d.processParamsMaybeAddMcpUsage(m)),B=yield be(d.generateContentStreamInternal(L)),R=[],C=[];try{for(var A=!0,T=(M=void 0,ka(B)),D;D=yield be(T.next()),x=D.done,!x;A=!0){I=D.value,A=!1;const S=I;if(yield yield be(S),S.candidates&&(!((p=S.candidates[0])===null||p===void 0)&&p.content)){C.push(S.candidates[0].content);for(const w of(_=S.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(w.functionCall.name)){const b=yield be(h.get(w.functionCall.name).callTool([w.functionCall]));R.push(...b)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(S){M={error:S}}finally{try{!A&&!x&&(U=T.return)&&(yield be(U.call(T)))}finally{if(M)throw M.error}}if(R.length>0){r=!0;const S=new aa;S.candidates=[{content:{role:"user",parts:R}}],yield yield be(S);const w=[];w.push(...C),w.push({role:"user",parts:R});const b=fn(m.contents).concat(w);m.contents=b}else break}})}(this,u,e)}async generateContentInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=NT(this.apiClient,e);return a=Y("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=MT(h),p=new aa;return Object.assign(p,m),p})}else{const d=xT(this.apiClient,e);return a=Y("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=bT(h),p=new aa;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=NT(this.apiClient,e);return a=Y("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(m){return Ko(this,arguments,function*(){var p,_,x,M;try{for(var U=!0,I=ka(m),A;A=yield be(I.next()),p=A.done,!p;U=!0){M=A.value,U=!1;const T=M,D=MT(yield be(T.json()));D.sdkHttpResponse={headers:T.headers};const L=new aa;Object.assign(L,D),yield yield be(L)}}catch(T){_={error:T}}finally{try{!U&&!p&&(x=I.return)&&(yield be(x.call(I)))}finally{if(_)throw _.error}}})})}else{const d=xT(this.apiClient,e);return a=Y("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(m){return Ko(this,arguments,function*(){var p,_,x,M;try{for(var U=!0,I=ka(m),A;A=yield be(I.next()),p=A.done,!p;U=!0){M=A.value,U=!1;const T=M,D=bT(yield be(T.json()));D.sdkHttpResponse={headers:T.headers};const L=new aa;Object.assign(L,D),yield yield be(L)}}catch(T){_={error:T}}finally{try{!U&&!p&&(x=I.return)&&(yield be(x.call(I)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=dL(this.apiClient,e);return a=Y("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=pL(h),p=new fT;return Object.assign(p,m),p})}else{const d=fL(this.apiClient,e);return a=Y("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=hL(h),p=new fT;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=IL(this.apiClient,e);return a=Y("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=wL(h),p=new dT;return Object.assign(p,m),p})}else{const d=CL(this.apiClient,e);return a=Y("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=RL(h),p=new dT;return Object.assign(p,m),p})}}async editImageInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=aL(this.apiClient,e);return o=Y("{model}:predict",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=lL(u),h=new gV;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=I4(this.apiClient,e);return o=Y("{model}:predict",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=R4(u),h=new yV;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=r4(this.apiClient,e);return o=Y("{model}:predict",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=a4(u),h=new _V;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=h4(this.apiClient,e);return o=Y("{model}:predict",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=p4(u),h=new vV;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=HL(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>$h(h))}else{const d=GL(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>Qh(h))}}async listInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=jL(this.apiClient,e);return a=Y("{models_url}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=t4(h),p=new hT;return Object.assign(p,m),p})}else{const d=ZL(this.apiClient,e);return a=Y("{models_url}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=e4(h),p=new hT;return Object.assign(p,m),p})}}async update(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=S4(this.apiClient,e);return a=Y("{model}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>$h(h))}else{const d=A4(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>Qh(h))}}async delete(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=iL(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=oL(h),p=new pT;return Object.assign(p,m),p})}else{const d=nL(this.apiClient,e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=sL(h),p=new pT;return Object.assign(p,m),p})}}async countTokens(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=jk(this.apiClient,e);return a=Y("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=tL(h),p=new mT;return Object.assign(p,m),p})}else{const d=Zk(this.apiClient,e);return a=Y("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=eL(h),p=new mT;return Object.assign(p,m),p})}}async computeTokens(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=Yk(this.apiClient,e);return o=Y("{model}:computeTokens",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>{const d=Kk(u),h=new TV;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=PL(this.apiClient,e);return a=Y("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const m=ML(h),p=new Mc;return Object.assign(p,m),p})}else{const d=DL(this.apiClient,e);return a=Y("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const m=bL(h),p=new Mc;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v3 extends mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=cV(e);return a=Y("{operationName}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r}else{const d=uV(e);return a=Y("{operationName}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r}}async fetchPredictVideosOperationInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=nV(e);return o=Y("{resourceName}:fetchPredictOperation",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T3(t){const e={},n=l(t,["data"]);if(n!=null&&f(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function E3(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>b3(o))),f(e,["parts"],s)}const i=l(t,["role"]);return i!=null&&f(e,["role"],i),e}function A3(t,e,n){const i={},s=l(e,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const o=l(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&f(n,["newSessionExpireTime"],o);const r=l(e,["uses"]);n!==void 0&&r!=null&&f(n,["uses"],r);const a=l(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&f(n,["bidiGenerateContentSetup"],N3(t,a));const u=l(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&f(n,["fieldMask"],u),i}function S3(t,e){const n={},i=l(e,["config"]);return i!=null&&f(n,["config"],A3(t,i,n)),n}function C3(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function I3(t){const e={},n=l(t,["id"]);n!=null&&f(e,["id"],n);const i=l(t,["args"]);i!=null&&f(e,["args"],i);const s=l(t,["name"]);if(s!=null&&f(e,["name"],s),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function R3(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function w3(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function x3(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const o=l(t,["temperature"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","temperature"],o);const r=l(t,["topP"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","topP"],r);const a=l(t,["topK"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","topK"],a);const u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","maxOutputTokens"],u);const d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","mediaResolution"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","seed"],h);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","speechConfig"],Qm(m));const p=l(t,["thinkingConfig"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","thinkingConfig"],p);const _=l(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=l(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],E3(It(x)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let B=xr(M);Array.isArray(B)&&(B=B.map(R=>D3(wr(R)))),f(e,["setup","tools"],B)}const U=l(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],M3(U));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&f(e,["setup","inputAudioTranscription"],I);const A=l(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","outputAudioTranscription"],A);const T=l(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&f(e,["setup","realtimeInputConfig"],T);const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&f(e,["setup","contextWindowCompression"],D);const L=l(t,["proactivity"]);return e!==void 0&&L!=null&&f(e,["setup","proactivity"],L),n}function N3(t,e){const n={},i=l(e,["model"]);i!=null&&f(n,["setup","model"],pe(t,i));const s=l(e,["config"]);return s!=null&&f(n,["config"],x3(s,n)),n}function b3(t){const e={},n=l(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=l(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=l(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const o=l(t,["fileData"]);o!=null&&f(e,["fileData"],C3(o));const r=l(t,["functionCall"]);r!=null&&f(e,["functionCall"],I3(r));const a=l(t,["functionResponse"]);a!=null&&f(e,["functionResponse"],a);const u=l(t,["inlineData"]);u!=null&&f(e,["inlineData"],T3(u));const d=l(t,["text"]);d!=null&&f(e,["text"],d);const h=l(t,["thought"]);h!=null&&f(e,["thought"],h);const m=l(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=l(t,["videoMetadata"]);return p!=null&&f(e,["videoMetadata"],p),e}function M3(t){const e={},n=l(t,["handle"]);if(n!=null&&f(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function D3(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["functionDeclarations"],h)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);s!=null&&f(e,["computerUse"],s);const o=l(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=l(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=l(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],R3(a));const u=l(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],w3(u));const d=l(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P3(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(o=>`${n}.${o}`);e.push(...s)}else e.push(n)}return e.join(",")}function V3(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const o=P3(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];s.length>0&&(a=s.map(d=>r.includes(d)?`generationConfig.${d}`:d));const u=[];o&&u.push(o),a.length>0&&u.push(...a),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class U3 extends mi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=S3(this.apiClient,e);o=Y("auth_tokens",a._url),r=a._query,delete a.config,delete a._url,delete a._query;const u=V3(a,e.config);return s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k3(t,e){const n={},i=l(t,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),n}function L3(t){const e={},n=l(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&k3(i,e),e}function q3(t){const e={},n=l(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function O3(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function F3(t){const e={},n=l(t,["parent"]);n!=null&&f(e,["_url","parent"],n);const i=l(t,["config"]);return i!=null&&O3(i,e),e}function B3(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=l(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=l(t,["documents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z3 extends mi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ws(hi.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=q3(e);return o=Y("{name}",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async delete(e){var n,i;let s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=L3(e);s=Y("{name}",r._url),o=r._query,delete r._url,delete r._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=F3(e);return o=Y("{parent}/documents",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=B3(u),h=new EV;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G3 extends mi{constructor(e,n=new z3(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Ws(hi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=P4(e);return o=Y("fileSearchStores",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async get(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=k4(e);return o=Y("{name}",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>u)}}async delete(e){var n,i;let s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=U4(e);s=Y("{name}",r._url),o=r._query,delete r._url,delete r._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=z4(e);return o=Y("fileSearchStores",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=G4(u),h=new AV;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=H4(e);return o=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=Y4(u),h=new SV;return Object.assign(h,d),h})}}async importFile(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=O4(e);return o=Y("{file_search_store_name}:importFile",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),s.then(u=>{const d=q4(u),h=new Gm;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H3(t,e){const n={},i=l(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function Y3(t,e){const n={},i=l(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function K3(t,e){const n={},i=l(t,["sdkHttpResponse"]);return i!=null&&f(n,["sdkHttpResponse"],i),n}function J3(t,e){const n={},i=l(t,["sdkHttpResponse"]);return i!=null&&f(n,["sdkHttpResponse"],i),n}function Q3(t,e,n){const i={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=l(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&f(e,["displayName"],s),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=l(t,["epochCount"]);e!==void 0&&o!=null&&f(e,["tuningTask","hyperparameters","epochCount"],o);const r=l(t,["learningRateMultiplier"]);if(r!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],r),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=l(t,["batchSize"]);e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","batchSize"],a);const u=l(t,["learningRate"]);if(e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","learningRate"],u),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function $3(t,e,n){const i={};let s=l(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const _=l(t,["validationDataset"]);e!==void 0&&_!=null&&f(e,["supervisedTuningSpec"],qT(_))}else if(s==="PREFERENCE_TUNING"){const _=l(t,["validationDataset"]);e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec"],qT(_))}const o=l(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&f(e,["tunedModelDisplayName"],o);const r=l(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);let a=l(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const _=l(t,["epochCount"]);e!==void 0&&_!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(a==="PREFERENCE_TUNING"){const _=l(t,["epochCount"]);e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=l(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(u==="PREFERENCE_TUNING"){const _=l(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=l(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(d==="PREFERENCE_TUNING"){const _=l(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=l(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=l(t,["adapterSize"]);e!==void 0&&_!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=l(t,["adapterSize"]);e!==void 0&&_!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=l(t,["labels"]);e!==void 0&&m!=null&&f(e,["labels"],m);const p=l(t,["beta"]);return e!==void 0&&p!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function X3(t,e){const n={},i=l(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const s=l(t,["preTunedModel"]);s!=null&&f(n,["preTunedModel"],s);const o=l(t,["trainingDataset"]);o!=null&&aq(o);const r=l(t,["config"]);return r!=null&&Q3(r,n),n}function W3(t,e){const n={},i=l(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const s=l(t,["preTunedModel"]);s!=null&&f(n,["preTunedModel"],s);const o=l(t,["trainingDataset"]);o!=null&&lq(o,n,e);const r=l(t,["config"]);return r!=null&&$3(r,n,e),n}function Z3(t,e){const n={},i=l(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function j3(t,e){const n={},i=l(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function eq(t,e,n){const i={},s=l(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const r=l(t,["filter"]);return e!==void 0&&r!=null&&f(e,["_query","filter"],r),i}function tq(t,e,n){const i={},s=l(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const r=l(t,["filter"]);return e!==void 0&&r!=null&&f(e,["_query","filter"],r),i}function nq(t,e){const n={},i=l(t,["config"]);return i!=null&&eq(i,n),n}function iq(t,e){const n={},i=l(t,["config"]);return i!=null&&tq(i,n),n}function sq(t,e){const n={},i=l(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=l(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=l(t,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>DI(a))),f(n,["tuningJobs"],r)}return n}function oq(t,e){const n={},i=l(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=l(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const o=l(t,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Wh(a))),f(n,["tuningJobs"],r)}return n}function rq(t,e){const n={},i=l(t,["name"]);i!=null&&f(n,["model"],i);const s=l(t,["name"]);return s!=null&&f(n,["endpoint"],s),n}function aq(t,e){const n={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=l(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),f(n,["examples","examples"],s)}return n}function lq(t,e,n){const i={};let s=l(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const r=l(t,["gcsUri"]);e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(s==="PREFERENCE_TUNING"){const r=l(t,["gcsUri"]);e!==void 0&&r!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}let o=l(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const r=l(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(o==="PREFERENCE_TUNING"){const r=l(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function DI(t,e){const n={},i=l(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=l(t,["name"]);s!=null&&f(n,["name"],s);const o=l(t,["state"]);o!=null&&f(n,["state"],dI(o));const r=l(t,["createTime"]);r!=null&&f(n,["createTime"],r);const a=l(t,["tuningTask","startTime"]);a!=null&&f(n,["startTime"],a);const u=l(t,["tuningTask","completeTime"]);u!=null&&f(n,["endTime"],u);const d=l(t,["updateTime"]);d!=null&&f(n,["updateTime"],d);const h=l(t,["description"]);h!=null&&f(n,["description"],h);const m=l(t,["baseModel"]);m!=null&&f(n,["baseModel"],m);const p=l(t,["_self"]);return p!=null&&f(n,["tunedModel"],rq(p)),n}function Wh(t,e){const n={},i=l(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=l(t,["name"]);s!=null&&f(n,["name"],s);const o=l(t,["state"]);o!=null&&f(n,["state"],dI(o));const r=l(t,["createTime"]);r!=null&&f(n,["createTime"],r);const a=l(t,["startTime"]);a!=null&&f(n,["startTime"],a);const u=l(t,["endTime"]);u!=null&&f(n,["endTime"],u);const d=l(t,["updateTime"]);d!=null&&f(n,["updateTime"],d);const h=l(t,["error"]);h!=null&&f(n,["error"],h);const m=l(t,["description"]);m!=null&&f(n,["description"],m);const p=l(t,["baseModel"]);p!=null&&f(n,["baseModel"],p);const _=l(t,["tunedModel"]);_!=null&&f(n,["tunedModel"],_);const x=l(t,["preTunedModel"]);x!=null&&f(n,["preTunedModel"],x);const M=l(t,["supervisedTuningSpec"]);M!=null&&f(n,["supervisedTuningSpec"],M);const U=l(t,["preferenceOptimizationSpec"]);U!=null&&f(n,["preferenceOptimizationSpec"],U);const I=l(t,["tuningDataStats"]);I!=null&&f(n,["tuningDataStats"],I);const A=l(t,["encryptionSpec"]);A!=null&&f(n,["encryptionSpec"],A);const T=l(t,["partnerModelTuningSpec"]);T!=null&&f(n,["partnerModelTuningSpec"],T);const D=l(t,["customBaseModel"]);D!=null&&f(n,["customBaseModel"],D);const L=l(t,["experiment"]);L!=null&&f(n,["experiment"],L);const B=l(t,["labels"]);B!=null&&f(n,["labels"],B);const R=l(t,["outputUri"]);R!=null&&f(n,["outputUri"],R);const C=l(t,["pipelineJob"]);C!=null&&f(n,["pipelineJob"],C);const S=l(t,["serviceAccount"]);S!=null&&f(n,["serviceAccount"],S);const w=l(t,["tunedModelDisplayName"]);w!=null&&f(n,["tunedModelDisplayName"],w);const b=l(t,["veoTuningSpec"]);return b!=null&&f(n,["veoTuningSpec"],b),n}function uq(t,e){const n={},i=l(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=l(t,["name"]);s!=null&&f(n,["name"],s);const o=l(t,["metadata"]);o!=null&&f(n,["metadata"],o);const r=l(t,["done"]);r!=null&&f(n,["done"],r);const a=l(t,["error"]);return a!=null&&f(n,["error"],a),n}function qT(t,e){const n={},i=l(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const s=l(t,["vertexDatasetResource"]);return s!=null&&f(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cq extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(hi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:s});return o.baseModel=void 0,await this.tuneInternal(o)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),o=await this.tuneMldevInternal(s);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:Hh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=j3(e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>Wh(h))}else{const d=Z3(e);return a=Y("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>DI(h))}}async listInternal(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=iq(e);return a=Y("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=oq(h),p=new gT;return Object.assign(p,m),p})}else{const d=nq(e);return a=Y("tunedModels",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=sq(h),p=new gT;return Object.assign(p,m),p})}}async cancel(e){var n,i,s,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=Y3(e);return a=Y("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=J3(h),p=new yT;return Object.assign(p,m),p})}else{const d=H3(e);return a=Y("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:h.headers},p})),r.then(h=>{const m=K3(h),p=new yT;return Object.assign(p,m),p})}}async tuneInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI()){const a=W3(e,e);return o=Y("tuningJobs",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>Wh(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=X3(e);return o=Y("tunedModels",a._url),r=a._query,delete a._url,delete a._query,s=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),s.then(u=>uq(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fq{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dq=1024*1024*8,hq=3,pq=1e3,mq=2,Pc="x-goog-upload-status";async function gq(t,e,n){var i;const s=await PI(t,e,n),o=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Pc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function yq(t,e,n){var i;const s=await PI(t,e,n),o=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Pc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const r=rI(o),a=new Hm;return Object.assign(a,r),a}async function PI(t,e,n){var i,s;let o=0,r=0,a=new Yh(new Response),u="upload";for(o=t.size;r<o;){const d=Math.min(dq,o-r),h=t.slice(r,r+d);r+d>=o&&(u+=", finalize");let m=0,p=pq;for(;m<hq&&(a=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(r),"Content-Length":String(d)}}}),!(!((i=a==null?void 0:a.headers)===null||i===void 0)&&i[Pc]));)m++,await vq(p),p=p*mq;if(r+=d,((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Pc])!=="active")break;if(o<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function _q(t){return{size:t.size,type:t.type}}function vq(t){return new Promise(e=>setTimeout(e,t))}class Tq{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gq(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yq(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _q(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eq{create(e,n,i){return new Aq(e,n,i)}}class Aq{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OT="x-goog-api-key";class Sq{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(OT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(OT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cq="gl-node/";class Iq{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=eV(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new Sq(this.apiKey);this.apiClient=new j4({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Cq+"web",uploader:new Tq,downloader:new fq}),this.models=new _3(this.apiClient),this.live=new d3(this.apiClient,s,new Eq),this.batches=new NU(this.apiClient),this.chats=new ck(this.models,this.apiClient),this.caches=new ak(this.apiClient),this.files=new Tk(this.apiClient),this.operations=new v3(this.apiClient),this.authTokens=new U3(this.apiClient),this.tunings=new cq(this.apiClient),this.fileSearchStores=new G3(this.apiClient)}}new Iq({apiKey:""});const Rq=async(t,e)=>"Descrio automtica indisponvel (Sem API Key).",wq=({user:t,onLogout:e})=>{var oo,Ml,Dl,ro,Ur,kr,_i,ao,lo,Rn,Lr,ps,qr,vi,Or,it,Fr,Ti,Ei,Pl,Vl,On,Ul,kl,ms,Br,uo,gs,mn,zr,Gr,co,fo,Hr,Yr,Ll;const[n,i]=X.useState("dashboard"),[s,o]=X.useState(!1),[r,a]=X.useState(!1),[u,d]=X.useState("create"),[h,m]=X.useState([]),[p,_]=X.useState(null),[x,M]=X.useState([]),[U,I]=X.useState(!1),[A,T]=X.useState(""),[D,L]=X.useState(""),[B,R]=X.useState("matricula"),[C,S]=X.useState(""),[w,b]=X.useState("info"),[P,N]=X.useState(""),[tt,Rt]=X.useState(""),[G,Q]=X.useState({createUsers:!1,createContent:!1,editData:!1,deleteData:!1,viewUsers:!1,manageAdmins:!1}),[j,ye]=X.useState(""),[we,qn]=X.useState(""),[lt,ke]=X.useState(""),[jt,bt]=X.useState(""),[br,cs]=X.useState(!1),[Rl,hn]=X.useState(""),[Ft,fs]=X.useState("file"),[ds,Zs]=X.useState(""),[pn,js]=X.useState(null),[yi,Mr]=X.useState(["all"]);X.useEffect(()=>{eo()},[n,u]);const eo=async()=>{a(!0);const q=await Bm();m(q),a(!1)},wl=async()=>{var Fn;if(!((Fn=t.permissions)!=null&&Fn.createUsers)&&t.username!=="Coutinho"){S("Sem permisso para criar usurios."),b("error");return}if(!A)return;a(!0);let q=A,W=B,Le,ze="";B==="matricula"?D?(q=D,W="cpf",Le=A,ze=`Usurio criado! Login ser pelo CPF (${D}). Matrcula ${A} vinculada.`):ze=`Usurio criado! INFORME AO FUNCIONRIO: Login via Matrcula (${A}).`:ze=`Usurio criado! Login via CPF (${A}).`,await cv(q,W,Tn.USER,void 0,void 0,Le)?(S(ze),b("success"),T(""),L(""),await eo()):(S("Erro: Usurio j existe."),b("error")),a(!1),setTimeout(()=>S(""),6e3)},Dr=async()=>{if(!P||!tt)return;a(!0),await cv(P,"matricula",Tn.ADMIN,tt,G)?(ye("Administrador criado com sucesso!"),N(""),Rt(""),Q({createUsers:!1,createContent:!1,editData:!1,deleteData:!1,viewUsers:!1,manageAdmins:!1}),await eo()):ye("Erro: Usurio j existe."),a(!1),setTimeout(()=>ye(""),3e3)},Pr=async q=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&(a(!0),await eP(q),await eo(),n==="user-details"&&i("users"),a(!1))},_f=async q=>{if(q.target.files&&q.target.files[0]){const W=q.target.files[0];js(W),cs(!0);const Le=await Rq(W.name,W.type);bt(Le),cs(!1)}},to=q=>{if(q==="all"){Mr(["all"]);return}let W=[...yi];W.includes("all")&&(W=[]),W.includes(q)?W=W.filter(Le=>Le!==q):W.push(q),Mr(W)},Vr=async()=>{var q;if(!((q=t.permissions)!=null&&q.createContent)&&t.username!=="Coutinho"){hn("Sem permisso para publicar contedo.");return}if(!we||!lt){hn("Preencha ttulo e data.");return}if(Ft==="file"&&!pn){hn("Selecione um arquivo.");return}if(Ft==="link"&&!ds){hn("Insira o link.");return}if(yi.length===0){hn("Selecione pelo menos um usurio.");return}a(!0);try{let W={id:crypto.randomUUID(),title:we,date:lt,description:jt,contentType:Ft,targetUserIds:yi};if(Ft==="file"&&pn)try{const Le=await iP(pn),ze={"application/pdf":"pdf","image/jpeg":"jpg","image/png":"png","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"doc","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"ppt"};W.fileData=Le,W.fileName=pn.name,W.fileType=ze[pn.type]||"other"}catch(Le){hn(Le.message),a(!1);return}else Ft==="link"&&(W.linkUrl=ds,W.fileName="Link Externo",W.fileType="other");await tP(W),hn("Contedo publicado com sucesso!"),qn(""),ke(""),js(null),Zs(""),bt(""),Mr(["all"])}catch(W){hn(`Erro: ${W.message||"Falha desconhecida"}`),console.error(W)}a(!1),setTimeout(()=>hn(""),5e3)},xl=async q=>{a(!0),_(q),I(!1);try{const Le=(await Fh()).filter(ze=>ze.targetUserIds.includes("all")||ze.targetUserIds.includes(q.id));M(Le),i("user-details"),o(!1)}catch(W){console.error(W)}finally{a(!1)}},nt=async q=>{if(window.confirm("Excluir este contedo?")){if(a(!0),await nP(q),p){const Le=(await Fh()).filter(ze=>ze.targetUserIds.includes("all")||ze.targetUserIds.includes(p.id));M(Le)}a(!1)}},ut=q=>{if(q.contentType==="file"&&q.fileData){const W=document.createElement("a");W.href=q.fileData,W.download=q.fileName||"arquivo",document.body.appendChild(W),W.click(),document.body.removeChild(W)}else q.contentType==="link"&&q.linkUrl&&window.open(q.linkUrl,"_blank")},no=q=>{navigator.clipboard.writeText(q),alert("Chave Pix copiada para a rea de transferncia!")},In=t.username==="Coutinho"||t.username==="admin";(oo=t.permissions)!=null&&oo.editData;const io=((Ml=t.permissions)==null?void 0:Ml.deleteData)||In,Nl=((Dl=t.permissions)==null?void 0:Dl.viewUsers)||In,hs=((ro=t.permissions)==null?void 0:ro.manageAdmins)||In,bl=h.filter(q=>q.role===Tn.ADMIN&&q.username!=="Coutinho"),so=h.filter(q=>q.role===Tn.USER);return v.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 relative",children:[v.jsxs("header",{className:"bg-blue-900 text-white p-6 shadow-lg rounded-b-3xl relative z-20",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Painel Admin"}),v.jsxs("p",{className:"text-blue-200 text-sm",children:[n==="dashboard"&&"Gesto de Colaboradores",n==="admins"&&"Gesto de Administradores",n==="users"&&"Lista de Usurios",n==="user-details"&&"Detalhes do Usurio"]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[r&&v.jsx(hr,{className:"animate-spin text-blue-300"}),v.jsx("button",{onClick:()=>o(!s),className:"p-2 bg-blue-800 rounded-full hover:bg-blue-700 transition-colors",children:v.jsx(FP,{size:20})})]})]}),v.jsxs("div",{className:"bg-green-800/50 rounded-lg p-2 px-3 flex items-center gap-2 text-xs text-green-100 w-fit",children:[v.jsx(pP,{size:14,className:"text-green-300"}),v.jsx("span",{children:"Armazenamento: Nuvem (Firebase)"})]})]}),n==="dashboard"&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"px-4 -mt-6 relative z-30",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 flex justify-around",children:[v.jsx("button",{onClick:()=>d("create"),className:`flex-1 py-3 text-sm font-medium rounded-lg transition-colors ${u==="create"?"bg-blue-100 text-blue-800":"text-gray-500"}`,children:"Criar Usurio"}),v.jsx("button",{onClick:()=>d("upload"),className:`flex-1 py-3 text-sm font-medium rounded-lg transition-colors ${u==="upload"?"bg-blue-100 text-blue-800":"text-gray-500"}`,children:"Novo Contedo"})]})}),v.jsx("div",{className:"p-6",children:u==="create"?v.jsx("div",{className:"space-y-6",children:v.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:!((Ur=t.permissions)!=null&&Ur.createUsers)&&!In?v.jsx("div",{className:"text-center text-gray-500 py-8",children:"Voc no tem permisso para criar usurios."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"p-3 bg-green-100 rounded-full text-green-600",children:v.jsx(JP,{size:24})}),v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Cadastrar Funcionrio"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Cadastro"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("label",{className:`flex-1 p-3 rounded-xl border cursor-pointer flex items-center justify-center gap-2 transition-all ${B==="matricula"?"bg-green-50 border-green-500 text-green-700":"border-gray-200 text-gray-600"}`,children:[v.jsx("input",{type:"radio",name:"idType",value:"matricula",checked:B==="matricula",onChange:()=>{R("matricula"),T(""),L("")},className:"hidden"}),v.jsx(SP,{size:18})," Matrcula"]}),v.jsxs("label",{className:`flex-1 p-3 rounded-xl border cursor-pointer flex items-center justify-center gap-2 transition-all ${B==="cpf"?"bg-green-50 border-green-500 text-green-700":"border-gray-200 text-gray-600"}`,children:[v.jsx("input",{type:"radio",name:"idType",value:"cpf",checked:B==="cpf",onChange:()=>{R("cpf"),T(""),L("")},className:"hidden"}),v.jsx(Nc,{size:18})," CPF"]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:B==="matricula"?"Nmero da Matrcula":"Nmero do CPF"}),v.jsx("input",{type:"text",value:A,onChange:q=>T(q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:B==="matricula"?"Ex: 12345":"Ex: 123.456.789-00"})]}),B==="matricula"&&v.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-200 animate-fade-in",children:[v.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"CPF do Funcionrio (Opcional - Para Login)"}),v.jsx("input",{type:"text",value:D,onChange:q=>L(q.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none text-sm",placeholder:"123.456.789-00"}),v.jsx("p",{className:"text-xs text-blue-600 mt-2",children:D?" Com o CPF informado, o usurio acessar a conta usando o CPF.":" Sem CPF, ser necessrio informar o nmero da matrcula para o funcionrio acessar."})]}),v.jsx("button",{onClick:wl,disabled:r,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 disabled:opacity-50",children:r?"Criando...":"Criar Acesso"}),C&&v.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${w==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-600"}`,children:[v.jsx(dv,{size:16,className:"mt-0.5 shrink-0"}),v.jsx("span",{children:C})]})]})]})})}):v.jsx("div",{className:"space-y-6",children:v.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:!((kr=t.permissions)!=null&&kr.createContent)&&!In?v.jsx("div",{className:"text-center text-gray-500 py-8",children:"Voc no tem permisso para publicar contedo."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"p-3 bg-indigo-100 rounded-full text-indigo-600",children:v.jsx(hv,{size:24})}),v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Publicar Contedo"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"border border-gray-200 rounded-xl p-3",children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[v.jsx(gu,{size:16})," Quem deve receber?"]}),v.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-2 custom-scrollbar",children:[v.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:yi.includes("all"),onChange:()=>to("all"),className:"rounded text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Todos os Colaboradores"})]}),so.map(q=>{var W;return v.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer ml-2 border-l-2 border-transparent hover:border-gray-200",children:[v.jsx("input",{type:"checkbox",checked:yi.includes(q.id),onChange:()=>to(q.id),className:"rounded text-indigo-600 focus:ring-indigo-500"}),v.jsx("span",{className:"text-sm text-gray-600",children:((W=q.personalData)==null?void 0:W.fullName)||`Usurio: ${q.username}`})]},q.id)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),v.jsx("input",{type:"text",value:we,onChange:q=>qn(q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Referente"}),v.jsx("input",{type:"date",value:lt,onChange:q=>ke(q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Contedo"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>fs("file"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium flex items-center justify-center gap-2 border ${Ft==="file"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[v.jsx(nI,{size:16})," Arquivo"]}),v.jsxs("button",{onClick:()=>fs("link"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium flex items-center justify-center gap-2 border ${Ft==="link"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[v.jsx(zh,{size:16})," Link Web"]})]})]}),Ft==="file"?v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload de Arquivo (Mx 900KB)"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"file",onChange:_f,className:"hidden",id:"file-upload"}),v.jsx("label",{htmlFor:"file-upload",className:"flex items-center justify-center w-full p-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",children:v.jsxs("div",{className:"text-center",children:[v.jsx(hv,{className:"mx-auto h-8 w-8 text-gray-400"}),v.jsx("span",{className:"mt-2 block text-sm text-gray-600",children:pn?pn.name:"Clique para selecionar arquivo"})]})})]})]}):v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL do Link"}),v.jsx("input",{type:"url",value:ds,onChange:q=>Zs(q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"https://..."})]}),v.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[v.jsxs("label",{className:"block text-sm font-medium text-indigo-900 mb-1 flex items-center gap-2",children:["Descrio (IA Gemini)",br&&v.jsx(hr,{className:"animate-spin h-3 w-3"})]}),v.jsx("textarea",{value:jt,onChange:q=>bt(q.target.value),className:"w-full p-3 border border-blue-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-sm bg-white",rows:3})]}),v.jsx("button",{onClick:Vr,disabled:br||r,className:"w-full py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 disabled:opacity-50",children:br?"Processando IA...":r?"Enviando...":"Publicar no Portal"}),Rl&&v.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 text-sm bg-indigo-50 p-3 rounded-lg",children:[v.jsx(dv,{size:16})," ",Rl]})]})]})})})})]}),n==="admins"&&v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center text-blue-900 font-medium mb-4",children:[v.jsx(Td,{size:20})," Voltar"]}),In?v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[v.jsx(Ed,{size:20,className:"text-blue-600"})," Novo Administrador"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Nome de Usurio (Login)",value:P,onChange:q=>N(q.target.value),className:"p-3 border rounded-xl w-full"}),v.jsx("input",{type:"text",placeholder:"Senha",value:tt,onChange:q=>Rt(q.target.value),className:"p-3 border rounded-xl w-full"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Permisses:"}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:G.createUsers,onChange:q=>Q({...G,createUsers:q.target.checked})})," Criar Usurios"]}),v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:G.createContent,onChange:q=>Q({...G,createContent:q.target.checked})})," Publicar Contedo"]}),v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:G.editData,onChange:q=>Q({...G,editData:q.target.checked})})," Editar Dados"]}),v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:G.deleteData,onChange:q=>Q({...G,deleteData:q.target.checked})})," Excluir Dados"]}),v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:G.viewUsers,onChange:q=>Q({...G,viewUsers:q.target.checked})})," Visualizar Usurios"]}),v.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:G.manageAdmins,onChange:q=>Q({...G,manageAdmins:q.target.checked})})," Gerenciar Admins"]})]})]}),v.jsx("button",{onClick:Dr,disabled:r,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium disabled:opacity-50",children:"Cadastrar Admin"}),j&&v.jsx("p",{className:"text-green-600 text-sm text-center",children:j})]})]}):v.jsx("div",{className:"bg-yellow-50 p-4 rounded-xl text-yellow-800 text-sm text-center",children:"Apenas administradores principais podem criar novos administradores."}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("h3",{className:"text-gray-700 font-semibold ml-1",children:"Administradores Existentes"}),bl.map(q=>{var W,Le,ze,gn,Fn,ql;return v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:v.jsx(Ed,{size:18})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-gray-800",children:q.username}),v.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:[((W=q.permissions)==null?void 0:W.createUsers)&&"Criar",((Le=q.permissions)==null?void 0:Le.createContent)&&"Publicar",((ze=q.permissions)==null?void 0:ze.editData)&&"Editar",((gn=q.permissions)==null?void 0:gn.deleteData)&&"Excluir",((Fn=q.permissions)==null?void 0:Fn.viewUsers)&&"Ver Users",((ql=q.permissions)==null?void 0:ql.manageAdmins)&&"Gerir Admins"].filter(Boolean).join("  ")||"Acesso Limitado"})]})]}),q.username!=="admin"&&io&&v.jsx("button",{onClick:()=>Pr(q.id),className:"text-red-400 hover:text-red-600 p-2",children:v.jsx(Ad,{size:18})}),q.username==="admin"&&v.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded",children:"Sistema"})]},q.id)})]})]}),n==="users"&&v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("button",{onClick:()=>i("dashboard"),className:"flex items-center text-blue-900 font-medium mb-4",children:[v.jsx(Td,{size:20})," Voltar"]}),v.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[v.jsx(gu,{size:20,className:"text-blue-600"})," Usurios Cadastrados"]}),Nl?v.jsx("div",{className:"space-y-3",children:so.length===0?v.jsx("p",{className:"text-gray-400 text-center py-10",children:"Nenhum usurio comum cadastrado."}):so.map(q=>{var W;return v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center cursor-pointer hover:border-blue-300 transition-colors",onClick:()=>xl(q),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-green-100 p-2 rounded-full text-green-600",children:v.jsx(gu,{size:18})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-gray-800",children:((W=q.personalData)==null?void 0:W.fullName)||q.username}),v.jsx("p",{className:"text-xs text-gray-500",children:q.idType==="matricula"?`Mat: ${q.username}`:`CPF: ${q.username}`})]})]}),v.jsx("div",{className:"flex gap-2",children:io&&v.jsx("button",{onClick:Le=>{Le.stopPropagation(),Pr(q.id)},className:"p-2 text-gray-400 hover:text-red-600",children:v.jsx(Ad,{size:18})})})]},q.id)})}):v.jsx("div",{className:"bg-red-50 p-6 rounded-xl text-red-600 text-center",children:"Voc no tem permisso para visualizar a lista de usurios."})]}),n==="user-details"&&p&&v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("button",{onClick:()=>i("users"),className:"flex items-center text-blue-900 font-medium mb-4",children:[v.jsx(Td,{size:20})," Voltar"]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-6",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:((_i=p.personalData)==null?void 0:_i.fullName)||p.username}),v.jsxs("p",{className:"text-sm text-gray-500",children:[p.idType==="matricula"?"Matrcula":"CPF",": ",v.jsx("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded",children:p.username})]})]}),v.jsx("div",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold uppercase",children:"Ativo"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[v.jsxs("div",{children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(YP,{size:16})," Dados Pessoais"]}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"RG"}),v.jsx("span",{className:"text-gray-800 font-medium",children:((ao=p.personalData)==null?void 0:ao.rg)||"-"})]}),v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"Nascimento"}),v.jsx("span",{className:"text-gray-800 font-medium",children:(lo=p.personalData)!=null&&lo.birthDate?new Date(p.personalData.birthDate).toLocaleDateString("pt-BR"):"-"})]}),v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"Telefone"}),v.jsx("span",{className:"text-gray-800 font-medium",children:((Rn=p.personalData)==null?void 0:Rn.phone)||"-"})]}),v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsxs("span",{className:"text-gray-500",children:[p.idType==="matricula"?"CPF":"Matrcula"," (Secundrio)"]}),v.jsx("span",{className:"text-gray-800 font-medium",children:((Lr=p.personalData)==null?void 0:Lr.secondaryId)||"-"})]}),v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"PIS/PASEP"}),v.jsx("span",{className:"text-gray-800 font-medium",children:((ps=p.personalData)==null?void 0:ps.pisPasep)||"-"})]})]})]}),v.jsxs("div",{children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(oI,{size:16})," Endereo"]}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"Cidade/UF"}),v.jsxs("span",{className:"text-gray-800 font-medium",children:[(qr=p.personalData)==null?void 0:qr.city,"/",(vi=p.personalData)==null?void 0:vi.state]})]}),v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"Bairro"}),v.jsx("span",{className:"text-gray-800 font-medium",children:((Or=p.personalData)==null?void 0:Or.neighborhood)||"-"})]}),v.jsxs("div",{className:"flex justify-between border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500",children:"CEP"}),v.jsx("span",{className:"text-gray-800 font-medium",children:((it=p.personalData)==null?void 0:it.cep)||"-"})]}),v.jsxs("div",{className:"flex flex-col border-b border-gray-50 py-1",children:[v.jsx("span",{className:"text-gray-500 text-xs",children:"Logradouro"}),v.jsxs("span",{className:"text-gray-800 font-medium",children:[(Fr=p.personalData)==null?void 0:Fr.address,", ",(Ti=p.personalData)==null?void 0:Ti.houseNumber," ",(Ei=p.personalData)!=null&&Ei.complement?`(${(Pl=p.personalData)==null?void 0:Pl.complement})`:""]})]})]})]})]}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(Nc,{size:16})," Dados Bancrios / Pix"]}),v.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("p",{className:"text-sm text-gray-600",children:["Banco: ",v.jsx("span",{className:"font-semibold text-gray-800",children:((On=(Vl=p.personalData)==null?void 0:Vl.bankData)==null?void 0:On.bankName)||"-"})]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Ag: ",v.jsx("span",{className:"font-semibold text-gray-800",children:((kl=(Ul=p.personalData)==null?void 0:Ul.bankData)==null?void 0:kl.agency)||"-"})," CC: ",v.jsx("span",{className:"font-semibold text-gray-800",children:((Br=(ms=p.personalData)==null?void 0:ms.bankData)==null?void 0:Br.account)||"-"})]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Titular: ",v.jsx("span",{className:"font-semibold text-gray-800",children:((gs=(uo=p.personalData)==null?void 0:uo.bankData)==null?void 0:gs.holderName)||"-"})]}),v.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Chave Pix (",(zr=(mn=p.personalData)==null?void 0:mn.bankData)==null?void 0:zr.pixType,"):"]}),v.jsx("p",{className:"font-mono text-gray-800 bg-white border px-2 py-1 rounded inline-block",children:((co=(Gr=p.personalData)==null?void 0:Gr.bankData)==null?void 0:co.pixKey)||"No cadastrada"})]}),((Hr=(fo=p.personalData)==null?void 0:fo.bankData)==null?void 0:Hr.pixKey)&&p.personalData.bankData.holderName&&v.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[v.jsxs("button",{onClick:()=>{var q,W;return no(((W=(q=p.personalData)==null?void 0:q.bankData)==null?void 0:W.pixKey)||"")},className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium",children:[v.jsx(gP,{size:16})," Copiar"]}),v.jsxs("button",{onClick:()=>I(!U),className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[v.jsx(kP,{size:16})," ",U?"Ocultar":"Ver QR"]})]})]}),U&&((Ll=(Yr=p.personalData)==null?void 0:Yr.bankData)==null?void 0:Ll.pixKey)&&v.jsx("div",{className:"mt-4 flex justify-center animate-fade-in",children:v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-gray-200 text-center",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"QR Code gerado para a chave:"}),v.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(p.personalData.bankData.pixKey)}`,alt:"QR Code Pix",className:"mx-auto"}),v.jsx("p",{className:"text-sm font-bold mt-2 text-gray-800",children:p.personalData.bankData.holderName})]})})]})]}),v.jsx("h3",{className:"font-semibold text-gray-700",children:"Histrico de Contedo"}),v.jsx("div",{className:"space-y-3",children:x.length===0?v.jsx("p",{className:"text-gray-400 text-sm",children:"Nenhum contedo enviado para este usurio."}):x.map(q=>v.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 flex justify-between items-center group",children:[v.jsxs("div",{className:"flex gap-3 items-center",children:[v.jsx("div",{className:`p-2 rounded-lg ${q.contentType==="link"?"bg-indigo-50 text-indigo-500":"bg-blue-50 text-blue-500"}`,children:q.contentType==="link"?v.jsx(zh,{size:20}):v.jsx(Bh,{size:20})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-800",children:q.title}),v.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(q.date).toLocaleDateString(),"  ",q.contentType==="link"?"Link":q.fileType]}),v.jsx("p",{className:"text-xs text-gray-400 mt-0.5 max-w-[200px] sm:max-w-md truncate",children:q.description})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>ut(q),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:q.contentType==="link"?"Acessar Link":"Baixar Arquivo",children:q.contentType==="link"?v.jsx(tI,{size:18}):v.jsx(eI,{size:18})}),io&&v.jsx("button",{onClick:()=>nt(q.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:v.jsx(Ad,{size:18})})]})]},q.id))})]}),s&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>o(!1)}),v.jsxs("div",{className:"fixed right-6 top-20 bg-white rounded-xl shadow-xl border border-gray-100 w-48 overflow-hidden text-gray-700 z-[100]",children:[v.jsxs("button",{onClick:()=>{i("dashboard"),o(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 text-sm font-medium border-b border-gray-50 flex items-center gap-2",children:[v.jsx(wP,{size:16})," Dashboard"]}),hs&&v.jsxs("button",{onClick:()=>{i("admins"),o(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 text-sm font-medium border-b border-gray-50 flex items-center gap-2",children:[v.jsx(Ed,{size:16})," Administradores"]}),Nl&&v.jsxs("button",{onClick:()=>{i("users"),o(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 text-sm font-medium border-b border-gray-50 flex items-center gap-2",children:[v.jsx(gu,{size:16})," Usurios"]}),v.jsxs("button",{onClick:e,className:"w-full text-left px-4 py-3 hover:bg-red-50 text-red-600 text-sm font-medium flex items-center gap-2",children:[v.jsx(sI,{size:16})," Sair"]})]})]})]})},xq=({user:t,onComplete:e})=>{var A;const[n,i]=X.useState(1),[s,o]=X.useState(!1),[r,a]=X.useState({fullName:"",rg:"",birthDate:"",phone:"",secondaryId:((A=t.personalData)==null?void 0:A.secondaryId)||"",voterTitle:"",reservistId:"",pisPasep:"",cep:"",city:"",state:"",neighborhood:"",address:"",houseNumber:"",complement:"",bankData:{pixType:"",pixKey:"",holderName:"",bankName:"",agency:"",account:""}}),[u,d]=X.useState([]),[h,m]=X.useState([]),[p,_]=X.useState(!1);X.useEffect(()=>{fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome").then(T=>T.json()).then(T=>d(T)).catch(T=>console.error("Erro ao buscar estados:",T))},[]),X.useEffect(()=>{r.state?(_(!0),fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${r.state}/municipios`).then(T=>T.json()).then(T=>{m(T),_(!1)}).catch(T=>{console.error("Erro ao buscar cidades:",T),_(!1)})):m([])},[r.state]);const x=(T,D)=>{a(L=>({...L,[T]:D}))},M=(T,D)=>{a(L=>({...L,bankData:{...L.bankData,[T]:D}}))},U=async()=>{o(!0);const T={...t,isFirstAccess:!1,personalData:r};try{await ZC(T),e(T)}catch{alert("Erro ao salvar cadastro. Tente novamente.")}finally{o(!1)}},I=[{title:"Dados Pessoais",icon:v.jsx(Lu,{size:20})},{title:"Endereo",icon:v.jsx(oI,{size:20})},{title:"Dados Bancrios",icon:v.jsx(Nc,{size:20})}];return v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsxs("header",{className:"bg-blue-600 text-white p-6 shadow-md",children:[v.jsx("h1",{className:"text-xl font-bold",children:"Complete seu Cadastro"}),v.jsxs("p",{className:"text-blue-100 text-sm",children:["Passo ",n," de 3"]}),v.jsx("div",{className:"flex mt-4 gap-2",children:[1,2,3].map(T=>v.jsx("div",{className:`h-1 flex-1 rounded-full ${T<=n?"bg-white":"bg-blue-400"}`},T))})]}),v.jsxs("div",{className:"p-6 pb-24",children:[n===1&&v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[I[0].icon," ",I[0].title]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-blue-700 mb-1",children:t.idType==="matricula"?"Matrcula (Cadastrado como Usurio Pela Empresa)":"CPF (Cadastrado como Usurio Pela Empresa)"}),v.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-blue-200 text-gray-500",children:[v.jsx(Lu,{size:16}),v.jsx("span",{className:"text-sm font-medium",children:t.username})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-blue-700 mb-1",children:"Senha para acesso futuro"}),v.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-blue-200 text-gray-500",children:[v.jsx(iI,{size:16}),v.jsx("span",{className:"text-sm font-medium",children:t.password})]})]})]}),v.jsx("div",{className:"border-t border-gray-100 my-2"}),v.jsx("input",{type:"text",placeholder:"Nome Completo",className:"w-full p-3 border rounded-xl bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors",value:r.fullName,onChange:T=>x("fullName",T.target.value)}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",placeholder:"RG",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.rg,onChange:T=>x("rg",T.target.value)}),v.jsx("input",{type:"date",placeholder:"Nascimento",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.birthDate,onChange:T=>x("birthDate",T.target.value)})]}),v.jsxs("div",{className:"relative",children:[v.jsx(VP,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),v.jsx("input",{type:"tel",placeholder:"Telefone com DDD",className:"w-full pl-10 p-3 border rounded-xl bg-gray-50",value:r.phone,onChange:T=>x("phone",T.target.value)})]}),t.idType==="matricula"?v.jsxs("div",{className:"relative",children:[v.jsx(Nc,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),v.jsx("input",{type:"text",placeholder:"Informe seu CPF",className:"w-full pl-10 p-3 border rounded-xl bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none",value:r.secondaryId,onChange:T=>x("secondaryId",T.target.value)})]}):v.jsxs("div",{className:"relative",children:[v.jsx(Lu,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),v.jsx("input",{type:"text",placeholder:"Informe sua Matrcula",className:"w-full pl-10 p-3 border rounded-xl bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none",value:r.secondaryId,onChange:T=>x("secondaryId",T.target.value)})]}),v.jsx("input",{type:"text",placeholder:"Ttulo de Eleitor",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.voterTitle,onChange:T=>x("voterTitle",T.target.value)}),v.jsx("input",{type:"text",placeholder:"Cert. Reservista (Opcional)",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.reservistId,onChange:T=>x("reservistId",T.target.value)}),v.jsx("input",{type:"text",placeholder:"PIS/PASEP/NIS",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.pisPasep,onChange:T=>x("pisPasep",T.target.value)})]})]}),n===2&&v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[I[1].icon," ",I[1].title]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("input",{type:"text",placeholder:"CEP",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.cep,onChange:T=>x("cep",T.target.value)}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsx("div",{className:"col-span-1",children:v.jsxs("select",{className:"w-full p-3 border rounded-xl bg-gray-50 outline-none",value:r.state,onChange:T=>{x("state",T.target.value),x("city","")},children:[v.jsx("option",{value:"",children:"UF"}),u.map(T=>v.jsx("option",{value:T.sigla,children:T.sigla},T.id))]})}),v.jsx("div",{className:"col-span-2",children:v.jsxs("select",{className:"w-full p-3 border rounded-xl bg-gray-50 outline-none disabled:bg-gray-100",value:r.city,onChange:T=>x("city",T.target.value),disabled:!r.state||p,children:[v.jsx("option",{value:"",children:p?"Carregando...":"Cidade"}),h.map(T=>v.jsx("option",{value:T.nome,children:T.nome},T.id))]})})]}),v.jsx("input",{type:"text",placeholder:"Endereo (Rua, Av...)",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.address,onChange:T=>x("address",T.target.value)}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsx("input",{type:"text",placeholder:"Nmero",className:"col-span-1 p-3 border rounded-xl bg-gray-50",value:r.houseNumber,onChange:T=>x("houseNumber",T.target.value)}),v.jsx("input",{type:"text",placeholder:"Bairro",className:"col-span-2 p-3 border rounded-xl bg-gray-50",value:r.neighborhood,onChange:T=>x("neighborhood",T.target.value)})]}),v.jsx("input",{type:"text",placeholder:"Complemento (Opcional)",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.complement,onChange:T=>x("complement",T.target.value||"")})]})]}),n===3&&v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[I[2].icon," ",I[2].title]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("select",{className:"w-full p-3 border rounded-xl bg-gray-50",value:r.bankData.pixType,onChange:T=>M("pixType",T.target.value),children:[v.jsx("option",{value:"",children:"Tipo de Chave Pix"}),v.jsx("option",{value:"cpf",children:"CPF"}),v.jsx("option",{value:"email",children:"E-mail"}),v.jsx("option",{value:"phone",children:"Celular"}),v.jsx("option",{value:"random",children:"Aleatria"})]}),v.jsx("input",{type:"text",placeholder:"Chave Pix",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.bankData.pixKey,onChange:T=>M("pixKey",T.target.value)}),v.jsx("input",{type:"text",placeholder:"Nome Completo do Titular",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.bankData.holderName,onChange:T=>M("holderName",T.target.value)}),v.jsx("input",{type:"text",placeholder:"Nome do Banco",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.bankData.bankName,onChange:T=>M("bankName",T.target.value)}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",placeholder:"Agncia",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.bankData.agency,onChange:T=>M("agency",T.target.value)}),v.jsx("input",{type:"text",placeholder:"Conta",className:"w-full p-3 border rounded-xl bg-gray-50",value:r.bankData.account,onChange:T=>M("account",T.target.value)})]})]})]})]}),v.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white p-4 border-t border-gray-100 flex justify-between gap-4",children:[n>1&&v.jsx("button",{onClick:()=>i(n-1),className:"px-6 py-3 rounded-xl border border-gray-300 text-gray-600 font-medium",children:"Voltar"}),n<3?v.jsxs("button",{onClick:()=>i(n+1),className:"flex-1 bg-blue-600 text-white py-3 rounded-xl font-semibold flex justify-center items-center gap-2 shadow-lg shadow-blue-200",children:["Prximo ",v.jsx(fP,{size:20})]}):v.jsx("button",{onClick:U,disabled:s,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-semibold flex justify-center items-center gap-2 shadow-lg shadow-green-200 disabled:opacity-50",children:s?v.jsx(hr,{className:"animate-spin"}):v.jsxs(v.Fragment,{children:["Salvar e Acessar ",v.jsx(qP,{size:20})]})})]})]})},Nq=({user:t,onLogout:e})=>{var d;const[n,i]=X.useState([]),[s,o]=X.useState(!0);X.useEffect(()=>{(async()=>{o(!0);const p=(await Fh()).filter(_=>_.targetUserIds.includes("all")||_.targetUserIds.includes(t.id));i(p),o(!1)})()},[t]);const r=(h,m)=>{if(m==="link")return v.jsx(zh,{className:"text-indigo-500"});switch(h){case"pdf":return v.jsx(nI,{className:"text-red-500"});case"jpg":case"png":return v.jsx(IP,{className:"text-blue-500"});default:return v.jsx(Bh,{className:"text-gray-500"})}},a=h=>{if(h.contentType==="file"&&h.fileData){const m=document.createElement("a");m.href=h.fileData,m.download=h.fileName||"arquivo",document.body.appendChild(m),m.click(),document.body.removeChild(m)}},u=h=>{h&&window.open(h,"_blank")};return v.jsxs("div",{className:"min-h-screen bg-gray-100 pb-6 relative",children:[v.jsx("header",{className:"bg-white p-6 shadow-sm sticky top-0 z-10",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:["Ol, ",((d=t.personalData)==null?void 0:d.fullName.split(" ")[0])||t.username]}),v.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Matrcula: ",t.username]})]}),v.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 text-gray-600",children:v.jsx(sI,{size:20})})]})}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-700 ml-1",children:"Arquivos & Links Recentes"}),s?v.jsx("div",{className:"flex justify-center py-20",children:v.jsx(hr,{className:"animate-spin text-blue-600",size:32})}):n.length===0?v.jsxs("div",{className:"text-center py-20 text-gray-400",children:[v.jsx(Bh,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),v.jsx("p",{children:"Nenhum contedo disponvel no momento."})]}):n.map(h=>v.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col gap-3",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx("div",{className:"p-3 bg-gray-50 rounded-xl h-fit",children:r(h.fileType,h.contentType)}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:h.title}),v.jsx("p",{className:"text-xs text-gray-400",children:new Date(h.date).toLocaleDateString("pt-BR")})]})]}),v.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md uppercase ${h.contentType==="link"?"bg-indigo-50 text-indigo-600":"bg-blue-50 text-blue-600"}`,children:h.contentType==="link"?"WEB":h.fileType})]}),h.description&&v.jsx("p",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-lg border-l-4 border-blue-400",children:h.description}),h.contentType==="file"?v.jsxs("button",{onClick:()=>a(h),className:"w-full py-2 mt-1 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-all active:scale-95",children:[v.jsx(eI,{size:16})," Baixar Arquivo"]}):v.jsxs("button",{onClick:()=>u(h.linkUrl),className:"w-full py-2 mt-1 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 flex items-center justify-center gap-2 transition-all active:scale-95",children:[v.jsx(tI,{size:16})," Acessar Link"]})]},h.id))]})]})};function bq(){const[t,e]=X.useState(null),n=o=>{e(o)},i=()=>{e(null)},s=o=>{e(o)};return t?t.role===Tn.ADMIN?v.jsx(wq,{user:t,onLogout:i}):t.isFirstAccess||!t.personalData?v.jsx(xq,{user:t,onComplete:s}):v.jsx(Nq,{user:t,onLogout:i}):v.jsx(XP,{onLogin:n})}const VI=document.getElementById("root");if(!VI)throw new Error("Could not find root element to mount to");const Mq=Xx.createRoot(VI);Mq.render(v.jsx(gR.StrictMode,{children:v.jsx(bq,{})}));
